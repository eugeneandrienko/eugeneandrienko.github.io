<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ru"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://eugene-andrienko.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://eugene-andrienko.com/" rel="alternate" type="text/html" hreflang="ru" /><updated>2025-06-08T18:37:41+03:00</updated><id>https://eugene-andrienko.com/feed.xml</id><title type="html">Dragon‚Äôs notes</title><subtitle>Dragon&apos;s cave with posts about IT, photography, bicycles and different DIY.</subtitle><author><name>Eugene Andrienko</name></author><entry xml:lang="ru"><title type="html">Network provincialism and balkanization</title><link href="https://eugene-andrienko.com/it/2025/05/25/internet-slow-death.html" rel="alternate" type="text/html" title="Network provincialism and balkanization" /><published>2025-05-25T00:00:00+03:00</published><updated>2025-05-25T00:00:00+03:00</updated><id>https://eugene-andrienko.com/it/2025/05/25/internet-slow-death</id><content type="html" xml:base="https://eugene-andrienko.com/it/2025/05/25/internet-slow-death.html"><![CDATA[<pre class="example">
 ____                                   __       ___
/\  _`\                                /\ \     /\_ \
\ \ \L\ \_ __    __     __      ___ ___\ \ \____\//\ \      __
 \ \ ,__/\`'__\/'__`\ /'__`\  /' __` __`\ \ '__`\ \ \ \   /'__`\
  \ \ \/\ \ \//\  __//\ \L\.\_/\ \/\ \/\ \ \ \L\ \ \_\ \_/\  __/
   \ \_\ \ \_\\ \____\ \__/.\_\ \_\ \_\ \_\ \_,__/ /\____\ \____\
    \/_/  \/_/ \/____/\/__/\/_/\/_/\/_/\/_/\/___/  \/____/\/____/

</pre>

<p>
This post will (I hope not) become a beautiful epitaph to the international
network as we know it‚Ä¶
</p>

<p>
This network used to unite people. Although I was born at the end of
XX¬†century, I missed the rise and fall of the <a href="https://en.wikipedia.org/wiki/FidoNet">FidoNet</a> (it was popular enough
in Russia after the fall of USSR and before the network equipment for coaxial
cable or twisted pair became cheaper. We called it <a href="https://neolurk.org/wiki/%D0%A4%D0%B8%D0%B4%D0%BE%D0%BD%D0%B5%D1%82">–§–∏–¥–æ–Ω–µ—Ç</a>).
</p>

<p>
But I was born just in time to meet the 56k modems (I had the Acorp
Sprinter@56K), ICQ, forums (hello, phpBB), XMPP and it's transports,
Bombus<sup><a id="fnr.bombus" class="footref" href="#fn.bombus" role="doc-backlink">1</a></sup> on my Siemens C75 with 2G Internet access from Tele2 and so
on. So I remembered <i>the spirit</i> of the old Internet that really connected
people.
</p>

<p>
Things changed a bit after 201x¬†‚Äî when the new government agency was
established. It was cringe when they blocked site with Doxygen docs and it was
funny when they blocked <code>127.0.0.1</code> and so on.
</p>

<p>
But things changed a lot after 2022¬†‚Äî when a <b>lot</b> of Internet-related
services started to reuse "the best practices" of breaking the connectivity
between people and breaking the <i>international</i> network itself.
</p>

<p>
Finally, in one day I decided to write this post to document the things that
were happening. That day, I read <a href="https://mastodon.bsd.cafe/@mudala/114417527646601267">a post</a> about the FreeBSD¬†2025 survey in
Mastodon, tried to open the attached link to the third-party site with the
survey itself, and¬†‚Ä¶ failed. Just because that site decided to block all
people with russian IPs. I don't know the intention of this decision,
especially in the year 2025¬†‚Äî in this year, I hope, almost all people
understood <i>how the things work</i> and stopped pursuing the dream that blocking
residental russian IPs could make the world a better place.
</p>

<p>
Not only I, but a lot of people met the same discrimination before and will
meet it in the future. For example, you can see <a href="https://mastodon.social/@grishka/111934602844613193">this enormously long thread</a>,
made by <a href="https://mastodon.social/@grishka">@grishka@mastodon.social</a>.
</p>

<p>
BTW, after this "incident" with the survey, <a href="https://mas.to/@evgandr/114426048680177117">I decided</a> to make a separate post
in my blog with evidence of Internet de-internationalization.
</p>

<p>
Sad to say, but this post will be constantly updated with newly found evidence
of network "balkanization".
</p>

<pre class="example">
 ____                     __
/\  _`\            __    /\ \
\ \ \L\_\  __  __ /\_\   \_\ \     __    ___     ___     __
 \ \  _\L /\ \/\ \\/\ \  /'_` \  /'__`\/' _ `\  /'___\ /'__`\
  \ \ \L\ \ \ \_/ |\ \ \/\ \L\ \/\  __//\ \/\ \/\ \__//\  __/
   \ \____/\ \___/  \ \_\ \___,_\ \____\ \_\ \_\ \____\ \____\
    \/___/  \/__/    \/_/\/__,_ /\/____/\/_/\/_/\/____/\/____/

</pre>

<p>
Let's get started. There will be no examples of the "modern" enshittified
websites that constantly spam users with ads, popups and other nonsense. A lot
of people have already written a lot about this, see for example <a href="https://garry.net/posts/the-death-of-the-web">The Death Of
The Web</a> blogpost.
</p>

<p>
I will write about sites that block access from some region(s) of our
planet. And about sites that block access from everyone not coming from some
region(s). All those made not for some kind of security, but directly to
prohibit people from the "wrong" areas to see their "precious content".
</p>

<p>
The format is simple: screenshot and a little descriptive text below, if
necessary.
</p>


<div class="figure">
<p><img src="/assets/static/2025-04-30-openculture.com.png" alt="Error 405, access denied at the openculture.com" align="center" width="80%" />
</p>
<p style="text-align: center"><i>OpenCulture is not so open¬†‚Äî it blocks access from russian IPs with obscure message</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/2025-04-30-surveymonkey.com.png" alt="Error 403, geo block russia on the surveymonkey.com" align="center" width="80%" />
</p>
<p style="text-align: center"><i>World-wide surveys, but¬†‚Ä¶ if you a russian, you can't participate</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/2025-05-02-intel.com.png" alt="Opening any useful links from intel.com are prohibited just because you are in the &quot;wrong country&quot;" align="center" width="80%" />
</p>
<p style="text-align: center"><i>Wanna download drivers for an old Intel GMA¬†X3100? How about NO?</i></p>
</div>

<p>
Translation of the text on the previous screenshot:
</p>

<blockquote>
<p>
We immediately suspended all business operations in Russia. This follows our
previous decision to suspend all deliveries to customers in Russia and
Belarus.
</p>
</blockquote>


<div class="figure">
<p><img src="/assets/static/2025-05-12-ozon.ru.png" alt="Access restricted if you try to open page from outside" align="center" width="80%" />
</p>
<p style="text-align: center"><i>Can't view the item page from the outer world. Funny, but the main page opens without problems from the same IP.</i></p>
</div>

<p>
Translation:
</p>

<blockquote>
<p>
Access is restricted. To solve the problem try this:
</p>
<ul class="org-ul">
<li>Wait and reload the page</li>
<li>Disable VPN</li>
<li>Update browser or mobile app</li>
<li>Connect to the another WiFi or mobile network</li>
<li>Restart a router</li>
</ul>
</blockquote>

<p>
Obviously, none of these items are helpful.
</p>


<div class="figure">
<p><img src="/assets/static/2025-05-21-lamoda.ru.png" alt="&quot;403 Forbidden&quot; error when opening lamoda.ru from the outer world" align="center" width="80%" />
</p>
<p style="text-align: center"><i>One of the biggest online retailers [ru] won't open from the outer world</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/2025-05-25-deviantart.com.png" alt="&quot;403 Error&quot; when opening deviantart.com through VPN" align="center" widht="80%" />
</p>
<p style="text-align: center"><i>DeviantArt returns 403 error if you connect through some sort of secure tunnel via the datacenter, not from residental IP (exposing yourself to the ISP, at least)</i></p>
</div>

<p>
<b>To be continued‚Ä¶</b>
</p>

<hr />
<div id="footnotes">

<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.bombus" class="footnum" href="#fnr.bombus" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Bombus¬†‚Äî XMPP client written in Java¬†ME for mobile phones.
</p></div></div>


</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="it" /><summary type="html"><![CDATA[____ __ ___ /\ _`\ /\ \ /\_ \ \ \ \L\ \_ __ __ __ ___ ___\ \ \____\//\ \ __ \ \ ,__/\`'__\/'__`\ /'__`\ /' __` __`\ \ '__`\ \ \ \ /'__`\ \ \ \/\ \ \//\ __//\ \L\.\_/\ \/\ \/\ \ \ \L\ \ \_\ \_/\ __/ \ \_\ \ \_\\ \____\ \__/.\_\ \_\ \_\ \_\ \_,__/ /\____\ \____\ \/_/ \/_/ \/____/\/__/\/_/\/_/\/_/\/_/\/___/ \/____/\/____/]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/header-network-provincialism.jpg" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/header-network-provincialism.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">My way to remove ‚ÄúLinuxisms‚Äù from FreeBSD</title><link href="https://eugene-andrienko.com/it/2025/03/30/freebsd-pkgs-wout-unwanted-deps.html" rel="alternate" type="text/html" title="My way to remove ‚ÄúLinuxisms‚Äù from FreeBSD" /><published>2025-03-30T00:00:00+03:00</published><updated>2025-03-30T00:00:00+03:00</updated><id>https://eugene-andrienko.com/it/2025/03/30/freebsd-pkgs-wout-unwanted-deps</id><content type="html" xml:base="https://eugene-andrienko.com/it/2025/03/30/freebsd-pkgs-wout-unwanted-deps.html"><![CDATA[<div class="outline-2">
<h2>TOC&#xa0;&#xa0;&#xa0;<span class="tag"></span></h2>
<div class="outline-text-2">
<ul class="org-ul">
<li><a href="#preamble">Preamble</a></li>
<li><a href="#poudriere-installation">Poudriere installation</a></li>
<li><a href="#removing-deps">Removing unwanted dependencies</a></li>
<li><a href="#dewaylandization">More complex examples of deWaylandization</a>
<ul class="org-ul">
<li><a href="#flavors">Ports flavors</a></li>
<li><a href="#patching-Makefile">Patching Makefile</a></li>
</ul></li>
<li><a href="#results-and-thoughts">Results and thoughts</a></li>
<li><a href="#notes">Notes</a></li>
</ul>
</div>
</div>
<div id="outline-container-preamble" class="outline-2">
<h2 id="preamble">Preamble</h2>
<div class="outline-text-2" id="text-preamble">
<p>
My everyday FreeBSD system has two good old components for graphics and
sound¬†‚Äî the X Server and the OSS. There are simple reasons to use these
components¬†‚Äî they are mature, they have tons of user documentation, use case
examples, etc. I also like the way these things have been used in the FreeBSD
world. Let me quote <a href="https://vermaden.wordpress.com/">vermaden</a>, who wrote well (about the OSS) in the <a href="https://vermaden.wordpress.com/2020/09/07/quare-freebsd/">Quare
FreeBSD?</a> blogpost:
</p>

<blockquote>
<p>
Not many people expect from FreeBSD to shine in that department but it shines
a lot here and not from yesterday but from decades. Remember when Linux got
rid of the old OSS subsystem with one channel and came up with ‚Äògreat‚Äô idea to
write ALSA? I remember because I used Linux back then. Disaster is very polite
word to describe Linux audio stack back then ‚Ä¶ and then PulseAudio came and
whole Linux audio system got much worse.
</p>

<p>
&#x2026;
</p>

<p>
Lets get back to FreeBSD audio then. What FreeBSD offered? A whooping 256 OSS
channels mixed live in kernel for low latency. Everything audio related just
worked out of the box ‚Äì and still works today.
</p>
</blockquote>

<p>
This is where I see the pattern. If in the Linux world there are many examples
of throwing away software that has served people for years or decades and can
(and should, I think) be updated to adapt to the changed reality (e.g.
<code>ifconfig</code>). Then in the FreeBSD world such software just¬†‚Ä¶ gets the necessary
updates and continues to be used.
</p>

<p>
In my journey to install and use the simple system with the good old software
I encountered some problems. Sometimes, when I install a simple program, like
conky or dunst¬†‚Äî the pkg tries to install Wayland as a dependency! Or
PulseAudio (thankfully, there is no SystemD in the FreeBSD world). Of course,
I <b>do not want</b> these things in my simple system based on the X server, OSS and
good old initialization scripts.
</p>

<p>
As stated <a href="https://mastodon.bsd.cafe/@TomAoki">@TomAoki@bsd.cafe</a>¬†‚Äî some binary packages for FreeBSD have been built
with the same dependencies that came from upstream¬†‚Äî to minimize maintainer's
work, which is obviously hard<sup><a id="fnr.tomaoki" class="footref" href="#fn.tomaoki" role="doc-backlink">1</a></sup>.
</p>


<div class="figure">
<p><img src="/assets/static/tomaoki.png" alt="Screenshot of TomAoki reply in Mastodon" align="center" />
</p>
</div>

<p>
As a result, some packages came to my machine with unwanted dependencies or
compile-time options that were not ideal for me. For example, the native for
BSD <code>sndio</code> sound server is disabled by default in the
<code>mutlimedia/audacious-plugins</code> port. But those "linuxisms"¬†‚Äî like PulseAudio and
PipeWire¬†‚Äî are enabledü§∑‚Äç‚ôÇÔ∏è.
</p>


<div class="figure">
<p><img src="/assets/static/audacious-plugins.png" alt="Compile time configuration for audacious-plugins with pulseaudio and pipewire options enabled" align="center" />
</p>
</div>

<p>
I was very surprised to see the <code>pulseaudio</code> process in the top 5 CPU consuming
processes while listening to my music. My sound system using OSS and sndio,
why is PulseAudio here?!ü§î After that I started to think about removing
unwanted dependencies from my packages completely‚Ä¶
</p>

<p>
Or another example¬†‚Äî when I install some graphical application based on the
QT6 or GTK3/GTK4¬†‚Äî not only the necessary graphical libraries are installed as
dependencies but also a lot of Wayland stuff. Even if my system doesn't use
Wayland, I have packages of <i>these things</i> installed:
</p>

<pre class="example">
% pkg info -a | /usr/bin/grep wayland
qt6-wayland-6.8.2              Qt6 wrapper for Wayland
wayland-1.23.1                 Core Wayland window system code and protocol
wayland-protocols-1.39         Wayland protocols
</pre>

<p>
At some point, I decided to override this and get my versions of packages
without unwanted dependencies. A naive approach¬†‚Äî just build some packages
without unwanted compile-time options via the Ports infrastructure¬†‚Äî almost
works for me.
</p>

<p>
Almost. When the corresponding package from the FreeBSD repository was
updated¬†‚Äî it overwrites my custom package, built with ports. A solution I
found¬†‚Äî were far from ideal solution. I can lock my package so that it will
not be updated with the same binary package from the repository. And
temporarily unlock it when I want to update the <i>my</i> package via the ports
infrastructure.
</p>

<p>
In the FreeBSD Handbook, section 4.6 <a href="https://docs.freebsd.org/en/books/handbook/ports/#ports-poudriere">"Building Packages with poudriere"</a>, there
was another way to accomplish my task without such update problems. I can
build my own local repository with some packages that have PulseAudio/Wayland
dependencies removed. And this is not a some hacky thing¬†‚Äî as far as I can
see, the poudriere used by the FreeBSD maintainers to build the binary
packages:
</p>

<pre class="example">
% pkg info emacs
...
Annotations    :
        FreeBSD_version: 1401000
        build_timestamp: 2025-02-27T01:04:32+0000
        built_by       : poudriere-git-3.4.2
</pre>

<p>
And it works pretty simple¬†‚Äî poudriere just reuses existing FreeBSD
infrastructure to build packages. Package sources taken from <a href="https://docs.freebsd.org/en/books/handbook/ports/#ports-using">ports</a> (via
git/https), binary packages downloaded from existing FreeBSD repositories via
the <a href="https://docs.freebsd.org/en/books/handbook/ports/#pkgng-intro">pkg</a>, build process itself runs inside the <a href="https://docs.freebsd.org/en/books/handbook/jails/">jail</a> and all corresponding files
can be stored in the separate <a href="https://docs.freebsd.org/en/books/handbook/zfs/">ZFS</a> dataset¬†‚Äî so the dataset with the root
filesystem will not be polluted by the build-time dependencies or building
artifacts, like object files or logs.
</p>

<p>
At the end, poudriere will create the local repository with packages. The same
repository as the main FreeBSD repository, but <i>local</i> and with only necesary
packages. Poudriere doesn't force me to build the whole system on my machine.
</p>

<p>
The main selling point is that all packages installed from this repository
will be updated through <b>this</b> repository. They will not be overwritten by
updates from the main FreeBSD repository. This is because the <code>pkg</code> adds the
annotation with repository name to the installed package and uses it when
updating:
</p>

<pre class="example">
% pkg info -A conky
conky-1.22.1:
        FreeBSD_version: 1402000
        build_timestamp: 2025-03-23T14:58:18+0000
        built_by       : poudriere-git-3.4.2
        cpe            : cpe:2.3:a:conky:conky:1.22.1:::::freebsd14:x64
        port_checkout_unclean: no
        port_git_hash  : 6bcf1e971
        ports_top_checkout_unclean: no
        ports_top_git_hash: 3fe34c578
        repo_type      : binary
        repository     : LocalRepo
</pre>

<p>
The second selling point: I can setup all these machinery on a separate disk,
which I mainly use for QEMU/bhyve VMs and other <i>big things</i>. This way, my build
infrastructure doesn't take up space on the root filesystem.
</p>
</div>
</div>
<div id="outline-container-poudriere-installation" class="outline-2">
<h2 id="poudriere-installation">Poudriere installation</h2>
<div class="outline-text-2" id="text-poudriere-installation">
<p>
Before I welcomed poudriere to my laptop, I created a separate dataset for
poudriere-related files:
</p>

<pre class="example">
# zfs create hdd/poudriere
# zfs set compression=gzip hdd/poudriere
</pre>

<p>
The only files, which are stored in the root filesystem are configuration
files:
</p>
<ul class="org-ul">
<li>Build options for the ports¬†‚Äî stored in the
<code>/usr/local/etc/poudriere.d/jail-port-set-options/</code>.</li>
<li>Blacklist for unwanted ports: <code>/usr/local/etc/poudriere.d/blacklist</code>.</li>
<li><code>make.conf</code> for poudriere jails: <code>/usr/local/etc/poudriere.d/make.conf</code>.</li>
<li>And the poudriere configuration itself, of course.</li>
</ul>

<p>
Then, after installing the poudriere package, I slightly changed the default
configuration file and added the following options to use <code>/hdd/poudriere/</code>
dataset as the main path for both the jail and the local repository, not my
main dataset with the root filesystem:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #268bd2;">ZPOOL</span>=hdd
<span style="color: #93a1a1;">#</span><span style="color: #93a1a1;">NO_ZFS=yes</span>
<span style="color: #268bd2;">ZROOTFS</span>=/poudriere
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">The directory where poudriere will store jails and ports</span>
<span style="color: #268bd2;">BASEFS</span>=/hdd/poudriere
<span style="color: #268bd2;">TIMESTAMP_LOGS</span>=yes
<span style="color: #268bd2;">MAX_EXECUTION_TIME</span>=259200
</pre>
</div>

<p>
Also, I increased max time of build process to 3 days¬†‚Äî because 1 day may not
be enough to build <i>big things</i>. And because it is very sad to spend 24 hours
for building and receive nothing as a resultüòü.
</p>

<p>
By the way, I don't want to build LLVM, or Rust, or other build-time
dependencies from sources¬†‚Äî I'm fine with the packaged versions. So to don't
spend a time for it, I instruct poudriere to download and use binary packages
for these dependencies:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #268bd2;">PACKAGE_FETCH_BRANCH</span>=quarterly
<span style="color: #268bd2;">PACKAGE_FETCH_BLACKLIST</span>=<span style="color: #2aa198;">"pipewire* pulseaudio* wayland*"</span>
<span style="color: #268bd2;">PACKAGE_FETCH_WHITELIST</span>=<span style="color: #2aa198;">"gcc* binutils coreutils mpfr nasm mpdecimal bison</span>
<span style="color: #2aa198;">                         llvm* libclc-llvm* spirv-llvm-translator-llvm*</span>
<span style="color: #2aa198;">                         rust node* lua* perl* python* ruby* ghc* tcl86</span>
<span style="color: #2aa198;">                         bison gmake gsed gawk pcre2 pkgconf autoconf* automake* m4</span>
<span style="color: #2aa198;">                         flex mercurial subversion git cppunit</span>
<span style="color: #2aa198;">                         readline bash* curl readline gmp gettext* indexinfo</span>
<span style="color: #2aa198;">                         boost* hs-* cmake* help2man html2text pkgconf</span>
<span style="color: #2aa198;">                         jsoncpp asciidoc rhash zstd itstool brotli meson</span>
<span style="color: #2aa198;">                         tex* doxygen sdocbook-xml docbook* texi2html</span>
<span style="color: #2aa198;">                         gnupg gnutls sqlite3 suiteparse* fribidi gdbm</span>
<span style="color: #2aa198;">                         utf8cpp xmlstarlet c-ares minizip</span>
<span style="color: #2aa198;">                         gtk-doc iso8879 gperf highway p11-kit gcab nettle</span>
<span style="color: #2aa198;">                         py3* p5* ninja pygobject* double-conversion</span>
<span style="color: #2aa198;">                         dbus dbus-glib evdev-proto gnome-common icu orc</span>
<span style="color: #2aa198;">                         ca_root_nss expat xmlcatmgr xmlcharent yelp* json-glib</span>
<span style="color: #2aa198;">                         dav1d lame polkit intltool minixmlto sassc redis aom</span>
<span style="color: #2aa198;">                         svt-av1 x265 flac neon opusfile wavpack vmaf shaderc</span>
<span style="color: #2aa198;">                         opus sndio libbinio xxhash frei0r taglib upnp</span>
<span style="color: #2aa198;">                         ffnvcodec-headers v4l_compat yasm speex speexdsp twolame</span>
<span style="color: #2aa198;">                         bdftopcf dejavu encodings font-bh-ttf font-misc-ethiopic</span>
<span style="color: #2aa198;">                         font-misc-meltho font-util mkfontscale xorg-fonts-truetype</span>
<span style="color: #2aa198;">                         xcb-util xcb-util-image xcb-util-keysyms xcb-util-renderutil</span>
<span style="color: #2aa198;">                         xcb-util-wm spirv-tools glslang alsa-lib gsettings-desktop-schemas</span>
<span style="color: #2aa198;">                         woff2 openjpeg geoclue glib-networking harfbuzz-icu enchant2</span>
<span style="color: #2aa198;">                         hunspell hyphen</span>
<span style="color: #2aa198;">                         openal-soft rnnoise webrtc-audio-processing abseil crc32c</span>
<span style="color: #2aa198;">                         glibmm2* kf6* microsoft-gsl protobuf range-v3 tl-expected</span>
<span style="color: #2aa198;">                         libiconv libffi libtextstyle libxml2 libyaml liblz4</span>
<span style="color: #2aa198;">                         libidn2 libxslt libgcrypt libunistring libuv libgpg-error</span>
<span style="color: #2aa198;">                         libtool libdeflate libinotify libnghttp2 libtasn* libpsl</span>
<span style="color: #2aa198;">                         libssh* libarchive libdaemon libdatrie libevent libgudev</span>
<span style="color: #2aa198;">                         libgusb libthai libudev-devd libunwind duktape-lib</span>
<span style="color: #2aa198;">                         libsecret libsass libass libedit libvorbis</span>
<span style="color: #2aa198;">                         libogg libx264 libsidplayfp libunibreak libv4l libvdpau libvpx</span>
<span style="color: #2aa198;">                         libcdio libcdio-paranoia libcue libdvbpsi libepoll-shim</span>
<span style="color: #2aa198;">                         libsamplerate libinput libevdev libmtdev libidn libmatroska</span>
<span style="color: #2aa198;">                         libtheora libebml libfontenc libXpm libwacom libXv libxshmfence</span>
<span style="color: #2aa198;">                         libmysofa libada libb2 libdispatch libfmt libsigc++* libsoup*</span>
<span style="color: #2aa198;">                         libproxy"</span>
</pre>
</div>

<p>
Also, I put the next lines to the <code>/usr/local/etc/poudriere.d/make.conf</code>, to
prevent enabling the unwanted options when configuring the port(s):
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #268bd2;">DISABLE_LICENSES</span>=yes
OPTIONS_UNSET+=JACK PIPEWIRE PULSEAUDIO WAYLAND
OPTIONS_SET+=OSS SNDIO X11
</pre>
</div>

<p>
To the <code>/usr/local/etc/poudriere.d/blacklist</code> I've added the next lines:
</p>

<pre class="example">
audio/pulseaudio
graphics/wayland
multimedia/pipewire
</pre>

<p>
With this configuration poudriere will neither install unwanted packages from
repository, nor build it from ports.
</p>

<p>
The next steps, including initializing the jail and ports, are well described
in the corresponding chapter of the FreeBSD Handbook. With one <b>valuable</b>
exception! When I create the poudriere ports, the proper quarterly branch
should be specified! Like this:
</p>

<pre class="example">
# poudriere ports -c -p local -m git+https -B 2025Q1
</pre>

<p>
Without the proper branch I'll faced the obscure dependency problems when
downloading the build-time depenedencies as packages:
</p>

<pre class="example">
[00:00:48] [Dry Run] Package fetch: Skipping cmake-core-3.31.6: remote version mismatch: cmake-core-3.31.3
[00:00:48] [Dry Run] Package fetch: Skipping gettext-runtime-0.23.1: remote version mismatch: gettext-runtime-0.23
[00:00:48] [Dry Run] Package fetch: Skipping hs-pandoc-3.6.4: remote version mismatch: hs-pandoc-3.6.1
[00:00:48] [Dry Run] Package fetch: Skipping gettext-tools-0.23.1: remote version mismatch: gettext-tools-0.23
[00:00:48] [Dry Run] Package fetch: Skipping libedit-3.1.20250104,1: remote version mismatch: libedit-3.1.20240808,1
[00:00:48] [Dry Run] Package fetch: Skipping lua53-5.3.6_1: deps wanted: libedit-3.1.20250104,1
[00:00:48] [Dry Run] Package fetch: Skipping lua53-5.3.6_1: deps remote: libedit-3.1.20240808,1
[00:00:48] [Dry Run] Package fetch: Will fetch hs-cabal-install-3.12.1.0_1
</pre>

<p>
At the end I have an initialized<sup><a id="fnr.pkg" class="footref" href="#fn.pkg" role="doc-backlink">2</a></sup> and working jail with ports and the
necessary build environment inside. Now it's time to remove unwanted
dependencies from the system!
</p>
</div>
</div>
<div id="outline-container-removing-deps" class="outline-2">
<h2 id="removing-deps">Removing unwanted dependencies</h2>
<div class="outline-text-2" id="text-removing-deps">
<p>
For example, let's work with Wayland. First, I got a list of <code>wayland</code>-dependent
packages via <code>pkg required-depends</code>:
</p>

<pre class="example">
% pkg required-depends wayland
mesa-dri-24.1.7_1
gtk4-4.16.12
conky-1.22.0
sdl2-2.30.10_1
mesa-libs-24.1.7_1
gstreamer1-plugins-gl-1.24.10
vulkan-loader-1.4.304
dunst-1.10.0
libva-2.22.0
gtk3-3.24.43
libxkbcommon-1.7.0_1
redshift-1.12_2
webkit2-gtk3-2.34.6_10
</pre>

<p>
Let's take <code>conky</code> and rebuild it without Wayland dependencies! First, I need an
<i>origin</i> of this package (it's name in the ports) to build it with
poudriere. The <code>pkg</code> gave me the answer and I wrote it to the text file¬†‚Äî the
list of packages to rebuild:
</p>

<pre class="example">
% pkg info -o conky
conky-1.22.0                   sysutils/conky
# echo 'sysutils/conky' &gt;&gt; /hdd/poudriere/14amd64-local-workstation-pkglist
</pre>

<p>
Then I configured all the necessary ports with help of the next <a href="https://zsh.sourceforge.io/Doc/Release/Functions.html">zsh function</a>:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #268bd2;">SHELL</span>=<span style="color: #2aa198;">"/usr/bin/env zsh"</span> xterm -fa Hack-14 -e <span style="color: #b58900; font-weight: bold;">\</span>
    <span style="color: #2aa198;">"sudo poudriere options -j 14amd64 -p local -z workstation -c $1"</span>
</pre>
</div>

<p>
This function takes string with origin as a single argument. It may look a bit
tricky¬†‚Äî but I'm using it because ncurses interface to configure build options
is not displaying correctly inside my <a href="https://codeberg.org/akib/emacs-eat">EAT</a>. So I start a separate shell in
XTerm and configure conky and all it's dependencies inside this shell:
</p>


<div class="figure">
<p><img src="/assets/static/conky-port-options.png" alt="conky package configuration options" align="center" />
</p>
</div>

<p>
After that I start the necessary machinery with the next zsh function:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #268bd2;">DUNST_OPTS</span>=(-I ~/.config/dunst/icons/update.svg)
<span style="color: #268bd2;">PKGLIST</span>=<span style="color: #2aa198;">"/hdd/poudriere/14amd64-local-workstation-pkglist"</span>
<span style="color: #268bd2;">POUDRIERE_OPTS</span>=(-j 14amd64 -p local -z workstation -f $<span style="color: #268bd2;">PKGLIST</span>)

sudo poudriere jail -u -j 14amd64
dunstify <span style="color: #2aa198;">"Poudriere"</span> <span style="color: #2aa198;">"Jail 14amd64 updated"</span> $<span style="color: #268bd2;">DUNST_OPTS</span>

sudo poudriere ports -p local -u
dunstify <span style="color: #2aa198;">"Poudriere"</span> <span style="color: #2aa198;">"Ports updated"</span> $<span style="color: #268bd2;">DUNST_OPTS</span>

<span style="color: #859900; font-weight: bold;">while</span> true; <span style="color: #859900; font-weight: bold;">do</span>
    dunstify <span style="color: #2aa198;">"Poudriere"</span> <span style="color: #b58900; font-weight: bold;">\</span>
        <span style="color: #2aa198;">"Dry run start.\nCheck that all will build correctly before the real&#128526; build"</span> <span style="color: #b58900; font-weight: bold;">\</span>
        $<span style="color: #268bd2;">DUNST_OPTS</span>
    sudo poudriere bulk $<span style="color: #268bd2;">POUDRIERE_OPTS</span> -b quarterly -vn
    <span style="color: #657b83; font-weight: bold;">read</span> ANSWER?<span style="color: #2aa198;">"Is all correct? [y/n/q] "</span>
    <span style="color: #859900; font-weight: bold;">if</span> [ <span style="color: #2aa198;">"$ANSWER"</span> = <span style="color: #2aa198;">"y"</span> ]; <span style="color: #859900; font-weight: bold;">then</span>
        <span style="color: #859900; font-weight: bold;">break</span>
    <span style="color: #859900; font-weight: bold;">elif</span> [ <span style="color: #2aa198;">"$ANSWER"</span> = <span style="color: #2aa198;">"q"</span> ]; <span style="color: #859900; font-weight: bold;">then</span>
        <span style="color: #859900; font-weight: bold;">return</span>
    <span style="color: #859900; font-weight: bold;">fi</span>;
<span style="color: #859900; font-weight: bold;">done</span>

dunstify <span style="color: #2aa198;">"Poudriere"</span> <span style="color: #2aa198;">"Ports build start..."</span> $<span style="color: #268bd2;">DUNST_OPTS</span>
sudo poudriere bulk $<span style="color: #268bd2;">POUDRIERE_OPTS</span> -b quarterly
dunstify <span style="color: #2aa198;">"Poudriere"</span> <span style="color: #2aa198;">"Ports build end"</span> $<span style="color: #268bd2;">DUNST_OPTS</span>
</pre>
</div>

<p>
There are the next things happen:
</p>
<ol class="org-ol">
<li><code>local</code> poudriere ports update and FreeBSD system inside the jail <code>14amd64</code>
update. If there are already built ports and they got updates¬†‚Äî the
necessary ports and its' dependencies will be rebuilt during the next
stages.</li>
<li>Dry-run the build process (<code>-n</code>) with the verbose output (<code>-v</code>). This is
necessary to check that all build-time dependencies, specified in the
<code>PACKAGE_FETCH_WHITELIST</code> configuration option, will not be built from
sources and so on.</li>
<li>Ask user about correctness of logs in the console. If not¬†‚Äî return to the
previous stage. Assuming that user will fix something in the
<code>/usr/local/etc/poudriere.conf</code> before answering <code>n</code> to recheck logs of dry run
stage.</li>
<li><p>
Start build packages in multiple processes, each on it's own CPU core:
</p>

<div class="figure">
<p><img src="/assets/static/poudriere-building.png" alt="poudriere build process screenshot" align="center" />
</p>
</div></li>
</ol>

<p>
The "dry-run" stage is necessary to avoid special sort of problems¬†‚Äî when the
build-time dependency will not be installed with <code>pkg</code> because it depends from
another build-time dependency, not listed in <code>PACKAGE_FETCH_WHITELIST</code>.
</p>

<pre class="example">
[00:01:23] [Dry Run] Checking packages for missing dependencies
[00:01:23] [Dry Run] Deleting cmake-core-3.31.3.pkg: missing dependency: expat-2.6.4
[00:01:23] [Dry Run] Deleting gettext-tools-0.23.pkg: missing dependency: libtextstyle-0.23
[00:01:23] [Dry Run] Deleting py311-libxml2-2.11.9_1.pkg: missing dependency: libxml2-2.11.9
</pre>

<p>
The solution is simple¬†‚Äî just add necessary package(s) to the
<code>PACKAGE_FETCH_WHITELIST</code> or decide to build it from ports.
</p>

<p>
Ideally, here should be an <a href="https://github.com/freebsd/poudriere/issues/1129">option to stop the build process</a> if packages listed
in the <code>PACKAGE_FETCH_WHITELIST</code> will not be fetched. But it is not added yet to
the recent version of poudriere, so I'm using an infinite cycle as a
workaround.
</p>

<p>
The build process is fast enough, even on my Intel(R) Core(TM) i7-2620M CPU @
2.70GHz. Obviously, the big software, like Qt or GTK, will build for
hours. Fortunately, the packages that depend on it were waiting while they
were building, so other CPU cores were free<sup><a id="fnr.cpu-cores" class="footref" href="#fn.cpu-cores" role="doc-backlink">3</a></sup> and I could use my
system as usual, without any drawbacksüòé.
</p>

<p>
After successfull completion, poudriere will create a local FreeBSD repository
that I can use to install <b>my</b> versions of packages without unwanted
dependencies. To use this repo, I simply created the
<code>/usr/local/etc/pkg/repos/LocalRepo.conf</code> file with the next contents:
</p>

<pre class="example">
LocalRepo: {
    url: "//hdd/poudriere/data/packages/14amd64-local-workstation"
}
</pre>

<p>
Then I launched <code>pkg update</code> as usual:
</p>

<pre class="example">
# pkg update
Updating FreeBSD repository catalogue...
FreeBSD repository is up to date.
Updating FreeBSD-kmods repository catalogue...
Fetching data.pkg: 100%   14 KiB  14.6kB/s    00:01
Processing entries: 100%
FreeBSD-kmods repository update completed. 44 packages processed.
Updating LocalRepo repository catalogue...
LocalRepo repository is up to date.
All repositories are up to date.
</pre>

<p>
And now I'm able to reinstall the conky and get rid of a wayland
dependency. To simplify things, I've just added the next alias to
<code>/etc/pkg.conf</code>:
</p>

<pre class="example">
ALIAS {
    ...
    poudriere-install = "install -r LocalRepo -f"
}
</pre>

<p>
And called the next command:
</p>

<pre class="example">
# pkg poudriere-install conky
Updating LocalRepo repository catalogue...
Fetching meta.conf: 100%    179 B   0.2kB/s    00:01
Fetching data.pkg: 100%  132 KiB 135.4kB/s    00:01
Processing entries: 100%
LocalRepo repository update completed. 383 packages processed.
LocalRepo is up to date.
Checking integrity... done (0 conflicting)
The following 1 package(s) will be affected (of 0 checked):

Installed packages to be UPGRADED:
        conky: 1.22.0 -&gt; 1.22.1 [LocalRepo]

Number of packages to be upgraded: 1

Proceed with this action? [y/N]: y
[1/1] Upgrading conky from 1.22.0 to 1.22.1...
[1/1] Extracting conky-1.22.1: 100%
</pre>

<p>
Note, that only the necessary package(s) have been reinstalled. The pkg will
not install all the packages from the <code>LocalRepo</code>, only the bare minimum to
provide the working program in the existing system.
</p>

<p>
As a result, conky has disappeared from the list of wayland-dependent packages
and receive the proper <code>repository</code> annotation:
</p>

<pre class="example">
% pkg required-depends wayland
mesa-dri-24.1.7_1
gtk4-4.16.12
sdl2-2.30.10_1
mesa-libs-24.1.7_1
gstreamer1-plugins-gl-1.24.10
vulkan-loader-1.4.304
dunst-1.10.0
libva-2.22.0
gtk3-3.24.43
libxkbcommon-1.7.0_1
redshift-1.12_2
webkit2-gtk3-2.34.6_10
% pkg query "%n: %R" conky
conky: LocalRepo
</pre>
</div>
</div>
<div id="outline-container-dewaylandization" class="outline-2">
<h2 id="dewaylandization">More complex examples of deWaylandization</h2>
<div class="outline-text-2" id="text-dewaylandization">
<p>
Sometimes it may be necessary to revisit build options and/or reconfigure the
already built package. In my case there was a <code>libva</code>. I already built it as a
dependency when rebuilding VLC, but I want to recheck the selected options
before reinstalling the package.
</p>

<p>
This is where the <code>poudriere options</code> comes to the rescue. I can use the <code>-s</code>
option to view the package options and the <code>-c</code> option to reconfigure
them. Instead of specifying the list of origins to build with the <code>-f</code> option, I
just specify the one necessary origin. Note the <code>-n</code> option¬†‚Äî without it the
poudriere will print configuration for the all packages required by the
specified origin.
</p>

<pre class="example">
# poudriere options -j 14amd64 -p local -z workstation -ns multimedia/libva
[00:00:01] Ports supports: FLAVORS SUBPACKAGES SELECTED_OPTIONS
[00:00:01] Working on options directory: /usr/local/etc/poudriere.d/14amd64-local-workstation-options
[00:00:01] Using ports from: /hdd/poudriere/jails-ports/ports/local
===&gt; The following configuration options are available for libva-2.22.0:
     WAYLAND=off: Wayland (graphics) support
     X11=on: X11 (graphics) support
===&gt; Use 'make config' to modify these settings
[00:00:01] Re-run 'poudriere options' with the -c flag to modify the options.
</pre>

<p>
Looks like the <code>libva</code> was configured correctly and I can just install it from
my local repo without any problems.
</p>

<p>
Much more complex example comes with a <code>graphics/mesa-dri</code>. Unfortunately, I
built it with Wayland support, so I will have to reconfigure and rebuild it.
</p>

<p>
This is where the custom zsh function <code>bsd-poudriere-reconfigure</code> comes in to
save me a tons of typing:
</p>


<div class="figure">
<p><img src="/assets/static/mesa-dri-reconfiguration.png" alt="mesa-dri options configuration window, opened with bsd-poudriere-reconfigure function" align="center" />
</p>
</div>

<p>
Finally, to rebuild the <code>mesa-dri</code> and it's dependencies I used the next
command:
</p>

<pre class="example">
# poudriere bulk -j 14amd64 -p local -z workstation -b quarterly -C graphics/mesa-dri
</pre>

<p>
And install it from <code>LocalRepo</code> the same way as I used for <code>conky</code> package.
</p>
</div>
<div id="outline-container-flavors" class="outline-3">
<h3 id="flavors">Ports flavors</h3>
<div class="outline-text-3" id="text-flavors">
<p>
There are some packages exists, without the corresponding ports. For example,
the package <code>audacious-gtk3</code> can be installed, but there is only
<code>multimedia/audactious</code> port and there are no "Qt/GTK/whatever" options to
configure:
</p>

<pre class="example">
/usr/ports % pkg info -o audacious-gtk3
audacious-gtk3-4.4.2_1         multimedia/audacious
/usr/ports % ls -d multimedia/audacious*
multimedia/audacious/         multimedia/audacious-plugins/
/usr/ports % pkg query '%n: %Ok' audacious-gtk3
audacious-gtk3: EXECINFO
audacious-gtk3: LIBARCHIVE
audacious-gtk3: NLS
</pre>

<p>
When I built this port as usual, I got the Qt-based package. But I want a GTK
based package because it can display my favourite skin as I want to:
</p>


<div class="figure">
<p><img src="/assets/static/audacious.png" alt="Audacious plugin with old school Winamp skin" align="center" width="80%" />
</p>
</div>

<p>
It's time to meet the <a href="https://docs.freebsd.org/en/books/porters-handbook/flavors/">flavors</a>! Some ports can be built in multiple
variants. And the variants itself can be observed with the simple <code>fgrep</code>:
</p>

<pre class="example">
/usr/ports % fgrep 'FLAVORS=' multimedia/audacious/Makefile
FLAVORS=        qt6 qt5 gtk3 gtk2
</pre>

<p>
So, according to the link above, I can build my <code>audacious-gtk3</code> package just by
adding line <code>multimedia/audacious@gtk3</code> instead of simple <code>multimedia/audacious</code>
to the my <code>/hdd/poudriere/14amd64-local-workstation-pkglist</code>. <b>Note:</b> the flavor
is specified after the <i>[at]</i> symbol.
</p>
</div>
</div>
<div id="outline-container-patching-Makefile" class="outline-3">
<h3 id="patching-Makefile">Patching Makefile</h3>
<div class="outline-text-3" id="text-patching-Makefile">
<p>
One of the biggest problems I met, during the recompiling some packages¬†‚Äî is
the Qt¬†6 dependent packages. There were two of them: Telegram Desktop and the
<a href="https://wiki.openstreetmap.org/wiki/QMapShack">Qmapshack</a>.
</p>

<p>
Telegram Desktop is directly depends from Qt¬†6 and the Qmapshack depends on
the <code>bsdisks</code> package, which depends from the Qt¬†6 itself (despite the Qmapshack
depends on the Qt¬†5):
</p>

<pre class="example">
~ % pkg rquery '%n: %dn %dv : %do' telegram-desktop | /usr/bin/grep qt
telegram-desktop: qt6-shadertools 6.8.2 : x11-toolkits/qt6-shadertools
telegram-desktop: qt6-declarative 6.8.2 : x11-toolkits/qt6-declarative
telegram-desktop: qt6-wayland 6.8.2 : graphics/qt6-wayland
telegram-desktop: qt6-svg 6.8.2 : graphics/qt6-svg
telegram-desktop: qt6-lottie 6.8.2 : graphics/qt6-lottie
telegram-desktop: qt6-imageformats 6.8.2 : graphics/qt6-imageformats
telegram-desktop: qt6-base 6.8.2_1 : devel/qt6-base
telegram-desktop: qt6-5compat 6.8.2 : devel/qt6-5compat
~ % pkg rquery '%n: %dn %dv : %do' qmapshack | /usr/bin/grep bsdisks
qmapshack: bsdisks 0.36 : sysutils/bsdisks
~ % pkg rquery '%n: %dn %dv : %do' bsdisks | /usr/bin/grep qt
bsdisks: polkit-qt-1-qt6 0.200.0 : sysutils/polkit-qt-1
bsdisks: qt6-base 6.8.2_1 : devel/qt6-base
</pre>

<p>
And the problem is in <code>devel/qt6-base</code>¬†‚Äî it depends from the Wayland directly
and there is no knob to build it without Wayland support:
</p>

<div class="org-src-container">
<pre class="src src-makefile"><span style="color: #268bd2;">LIB_DEPENDS</span>=    libatk-1.0.so:accessibility/at-spi2-core \
        libatk-bridge-2.0.so:accessibility/at-spi2-core \
...
        <span style="color: #268bd2;">libvulkan.so</span>:graphics/vulkan-loader \
        libwayland-client.so:graphics/wayland \
        libxkbcommon.so:x11/libxkbcommon \
...
<span style="color: #268bd2;">OPTIONS_DEFINE</span>= CUPS X11
<span style="color: #268bd2;">OPTIONS_DEFAULT</span>=    CUPS X11
<span style="color: #268bd2;">OPTIONS_SUB</span>=    yes
</pre>
</div>

<p>
I tried to remove this line with <code>graphics/wayland</code> dependency from the Makefile
but <code>qt6-base</code> failed to compile in this case.
</p>

<p>
I hope the option to compile <code>devel/qt6-base</code> without Wayland dependency will be
added in the future. But for now I can just stick with Qt¬†5.
</p>

<p>
First package, dependent from Qt¬†6¬†‚Äî the Telegram Desktop¬†‚Äî was simply removed
from my machine. I always encountered problems with this app¬†‚Äî it likes to
overload my CPU in random times. So I switched to web version and have no
problems since.
</p>

<p>
Second package¬†‚Äî Qmapshack, dependent from <code>sysutils/bsdisks</code>, require more work
on it. Bsdisks itself was pulled to my system directly by Qmapshack and wasn't
necessary for other programs. So, the necessity of bsdisks was questionable¬†‚Äî
why is it needed for the mapping program, when I don't use Garmin or other GPS
devices for mapping?
</p>

<pre class="example">
% pkg rquery '%e' bsdisks
UDisks2 service provides interfaces to enumerate
and perform operations on disks and storage devices
via D-Bus API. Bsdisks is an implementation of UDisks2
service for FreeBSD.
</pre>

<p>
Of course, there is no configuration option to build the <code>astro/qmapshack</code>
without <code>sysutils/bsdisks</code>. But‚Äà‚Ä¶ it was marked as a runtime dependency in the
Makefile, not a compile time dependency:
</p>

<div class="org-src-container">
<pre class="src src-makefile"><span style="color: #268bd2;">RUN_DEPENDS</span>=    ${<span style="color: #268bd2;">LOCALBASE</span>}/bin/bsdisks:sysutils/bsdisks
</pre>
</div>

<p>
So, it's time to slightly patch the necessary port and try to build Qmapshack
without bsdisks. First, I opened the
<code>/hdd/poudriere/ports/local/astro/qmapshack/Makefile</code> and commented this line.
</p>

<p>
Then, I add <code>astro/qmapshack</code> to the
<code>/hdd/poudriere/14amd64-local-workstation-pkglist</code> and initiated the build
without updating the ports, so my change will not clash with the updates from
the main repository (if any):
</p>

<pre class="example">
# poudriere bulk -j 14amd64 -p local -z workstation -b quarterly -nv -C astro/qmapshack
...
[00:00:42] [Dry Run] Dry run mode, cleaning up and exiting
[00:00:42] [Dry Run] Would build 3 packages using 3 builders
[00:00:42] [Dry Run] Ports to build: astro/qmapshack graphics/gdal www/qt5-webengine
...
# poudriere bulk -j 14amd64 -p local -z workstation -b quarterly -C astro/qmapshack
</pre>

<p>
And it successfully builds and running correctly without <code>bsdisks</code>!
</p>

<pre class="example">
[14:00:58] [01] [14:00:02] Finished www/qt5-webengine | qt5-webengine-5.15.18p5_1: Success
[14:01:01] [01] [00:00:00] Building astro/qmapshack | qmapshack-1.17.1_5
[15:08:33] [01] [01:07:32] Finished astro/qmapshack | qmapshack-1.17.1_5: Success
[15:08:33] Stopping 3 builders
[15:08:37] Creating pkg repository
Creating repository in /tmp/packages: 100%
Packing files for repository: 100%
[15:09:05] Committing packages to repository: /hdd/poudriere/data/packages/14amd64-local-workstation/.real_1743306462 via .latest symlink
[15:09:05] Removing old packages
[15:09:05] Built ports: graphics/gdal www/qt5-webengine astro/qmapshack
</pre>


<div class="figure">
<p><img src="/assets/static/qmapshack-wout-bsdisks.png" alt="Qmapshack main interface" align="center" />
</p>
<p style="text-align: center"><i>Main window of Qmapshack GIS software</i></p>
</div>

<p>
Last step: after successfull compilation I reverted my changes in
<code>astro/qmapshack/Makefile</code> to avoid unnecessary problems with ports updates.
</p>
</div>
</div>
</div>
<div id="outline-container-results-and-thoughts" class="outline-2">
<h2 id="results-and-thoughts">Results and thoughts</h2>
<div class="outline-text-2" id="text-results-and-thoughts">
<p>
Before, I was using a Gentoo (and compiling the whole system, of course) which
<code>emerge</code> system was inspired by FreeBSD ports. Comparing these two system, I can
say that ports infrastructure looks like simplier for me.
</p>

<p>
When I recompiled the program in the Gentoo with the new options I usually did
the next:
</p>
<ol class="org-ol">
<li>Run <code>emerge --ask program-name</code> to see the USE flags of program <b>and</b> it's
dependencies.</li>
<li>If I want to change something and need to see the exact meaning of some USE
flag, I call <code>equery uses program-name</code>. Then I open a text file somewhere in
<code>/etc/portage/package.use/</code> and add package atom and the necessary USE flags'
settings.</li>
<li>After that I could start compilation with necessary options.</li>
</ol>

<p>
Looks like for me, the same process in the FreeBSD is simpler. I can configure
build-time options for program and it's dependencies with a single call of
<code>poudriere options ...</code> which provides me a useful TUI menu with descriptions of
all of the options. And I don't need to copy it to the some configuration
file¬†‚Äî all of them will be inserted in the right place themselves.
</p>

<p>
Also, all ports infrastructure looks like simplier¬†‚Äî it is just a Makefile and
a bunch of human-readable text files with package descriptions and so on!
</p>

<p>
Of course there are drawbacks:
</p>
<ul class="org-ul">
<li>Some packages I think (like Qt¬†6) lack the configuration options.</li>
<li>If I want to update packages, it is better to update my local repository
first. Instead, some of the packages will be dependent from the old
libraries which are already updated in the <code>FreeBSD</code> repository. Sometimes it
will work as usual without any problems, but sometimes, I think, it will be
break due to API changes.</li>
<li>If I will update my OS to something like FreeBSD¬†14.3¬†‚Äî then I should to
checkout corresponding branch for local ports and update my 14amd64 jail to
the right version of OS.</li>
<li>The same is true for major updates.</li>
<li>And every quarter I should checkout the right branch for the ports, to have
a synchronization between the binary packages from the FreeBSD repository
and the ports.</li>
</ul>

<p>
BTW, I got one sudden and major result of un-waylanding of my system. Before,
I was constantly struggling from strange glitches on my display, that looks
like this:
</p>


<div class="figure">
<p><img src="/assets/static/freebsd_intel_glitches.jpg" alt="strange black glitches on the screen" align="center" />
</p>
</div>

<p>
I thought what this is because:
</p>
<ol class="org-ol">
<li>I used the outdated method of acceleration for X server <code>intel</code> driver. So, I
switched from UXA to Glamor. And this is not helped to me.</li>
<li>I used the wrong options for video card powersaving. Revised it and ‚Ä¶
nothing changed.</li>
<li>My soldering of AGAN X230 expansion card were bad. So, I recheck it and
found nothing suspicios.</li>
<li>I compiled coreboot not the right way because I specified the wrong initial
framebuffer resolution when the machine is booting. I switched to
precompiled libreboot and properly configure it. Aaand ‚Ä¶ nothing changed.</li>
<li>I started to suspect my video card. Maybe my hardware is dying?‚Ä¶ü§î</li>
</ol>

<p>
But after I removed Qt6 and Wayland related stuff from my machine, I'm not
seeing these glitches anymore. Before, I was seeing it almost every day. But
for now, two days already passed and all is OK.
</p>

<hr />
</div>
</div>
<div id="outline-container-notes" class="outline-2">
<h2 id="notes">Notes</h2>
<div class="outline-text-2" id="text-notes">
</div>
</div>
<div id="footnotes">

<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.tomaoki" class="footnum" href="#fnr.tomaoki" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://mastodon.bsd.cafe/@TomAoki/114209804382234562">https://mastodon.bsd.cafe/@TomAoki/114209804382234562</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.pkg" class="footnum" href="#fnr.pkg" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
It may be necessary to build a <code>ports-mgmt/pkg</code> before building anything
in the jail. In my case poudriere won't install <code>cmake-core</code> because it has
unsatisfied dependency¬†‚Äî the <code>pkg</code>. Despite the <code>pkg</code> of necessary version was
previously bootstrapped to install binary packages in the jail.
</p></div></div>

<div class="footdef"><sup><a id="fn.cpu-cores" class="footnum" href="#fnr.cpu-cores" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
Except the Qt building process. There is a line in
<code>/usr/local/etc/poudriere.conf</code>, which instructs to build some packages on the
all accessible CPU cores:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">List of packages that will always be allowed to use MAKE_JOBS</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">regardless of ALLOW_MAKE_JOBS. This is useful for allowing ports</span>
<span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">which holdup the rest of the queue to build more quickly.</span>
<span style="color: #268bd2;">ALLOW_MAKE_JOBS_PACKAGES</span>=<span style="color: #2aa198;">"pkg ccache py* vlc qt*"</span>
</pre>
</div>

<p class="footpara">
I added the Qt to it, because it builds so slooow on the one CPU core‚Ä¶
</p></div></div>


</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="it" /><category term="freebsd" /><summary type="html"><![CDATA[TOC&#xa0;&#xa0;&#xa0; Preamble Poudriere installation Removing unwanted dependencies More complex examples of deWaylandization Ports flavors Patching Makefile Results and thoughts Notes Preamble My everyday FreeBSD system has two good old components for graphics and sound¬†‚Äî the X Server and the OSS. There are simple reasons to use these components¬†‚Äî they are mature, they have tons of user documentation, use case examples, etc. I also like the way these things have been used in the FreeBSD world. Let me quote vermaden, who wrote well (about the OSS) in the Quare FreeBSD? blogpost:]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/poudriere-header.png" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/poudriere-header.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∏–º—ã 2024-2025</title><link href="https://eugene-andrienko.com/photo/2025/03/16/winter-photos-2024-2025.html" rel="alternate" type="text/html" title="–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∑–∏–º—ã 2024-2025" /><published>2025-03-16T00:00:00+03:00</published><updated>2025-03-16T00:00:00+03:00</updated><id>https://eugene-andrienko.com/photo/2025/03/16/winter-photos-2024-2025</id><content type="html" xml:base="https://eugene-andrienko.com/photo/2025/03/16/winter-photos-2024-2025.html"><![CDATA[<p>
–≠—Ç–æ–π –∑–∏–º–æ–π —è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–ª –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ –æ–±—ã—á–Ω–æ–≥–æ¬†‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –≥—Ä—è–∑—å –Ω–∞
–¥–æ—Ä–æ–≥–∞—Ö, —Ö–æ–ª–æ–¥ –≤ —Ä–∞–π–æ–Ω–µ -15¬∞C‚Ä¶-20¬∞C, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ–ª–Ω—Ü–∞
–∏ –Ω–∏–∑–∫–æ–≤–∏—Å—è—â–∏–µ —Å–µ—Ä—ã–µ –æ–±–ª–∞–∫–∞, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ –Ω–µ–±–æ¬†‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ
–º–æ—Ç–∏–≤–∏—Ä—É—é—Ç –Ω–µ –≤—ã—Å–æ–≤—ã–≤–∞—Ç—å –∏ –Ω–æ—Å–∞ –Ω–∞ —É–ª–∏—Ü—É.
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, –ø–∞—Ä–æ—á–∫–∞ –¥–Ω–µ–π —Å —Å–æ–ª–Ω—Ü–µ–º –≤—Å—ë —Ç–∞–∫–∏ –±—ã–ª–∏:
</p>


<div class="figure">
<p><img src="/assets/static/20241204_132006.jpg" alt="Spruce branches with the sun shining through" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241204_132404.jpg" alt="Snow-covered green grass illuminated by the setting sun" align="center" />
</p>
</div>

<p>
–ù–æ –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–≤–æ—ë–º, –µ—Å–ª–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–µ —É–∫—Ä–∞—à–µ–Ω–∏—è, –≤—Å—ë –≤—ã–≥–ª—è–¥–µ–ª–æ
–∫–∞–∫-—Ç–æ —Ç–∞–∫:
</p>


<div class="figure">
<p><img src="/assets/static/20241218_172101.jpg" alt="The line to enter the subway, the building lit up with orange lights, night all around. In the background there is a fir tree decorated with garlands" align="center" />
</p>
</div>

<p>
–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–æ–ª—É—á–∏–ª–æ—Å—å —Å –ù–æ–≤–æ–≥–æ –ì–æ–¥–∞:
</p>


<div class="figure">
<p><img src="/assets/static/20241218_174246.jpg" alt="An orange lamp illuminating a brick wall" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241218_192314.jpg" alt="Set of clear glasses" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241218_192334.jpg" alt="Set of guitar effects" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241218_192339.jpg" alt="Some sound equipment" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241218_192437.jpg" alt="Bike engine" align="center" />
</p>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="photo" /><summary type="html"><![CDATA[–≠—Ç–æ–π –∑–∏–º–æ–π —è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–ª –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ –æ–±—ã—á–Ω–æ–≥–æ¬†‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –≥—Ä—è–∑—å –Ω–∞ –¥–æ—Ä–æ–≥–∞—Ö, —Ö–æ–ª–æ–¥ –≤ —Ä–∞–π–æ–Ω–µ -15¬∞C‚Ä¶-20¬∞C, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ–ª–Ω—Ü–∞ –∏ –Ω–∏–∑–∫–æ–≤–∏—Å—è—â–∏–µ —Å–µ—Ä—ã–µ –æ–±–ª–∞–∫–∞, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ –Ω–µ–±–æ¬†‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –º–æ—Ç–∏–≤–∏—Ä—É—é—Ç –Ω–µ –≤—ã—Å–æ–≤—ã–≤–∞—Ç—å –∏ –Ω–æ—Å–∞ –Ω–∞ —É–ª–∏—Ü—É.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/header-winter-2024-2025.jpg" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/header-winter-2024-2025.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">FreeBSD 14.2 and Thinkpad X220</title><link href="https://eugene-andrienko.com/it/2025/03/10/freebsd14-2-thinkpad-x220.html" rel="alternate" type="text/html" title="FreeBSD 14.2 and Thinkpad X220" /><published>2025-03-10T00:00:00+03:00</published><updated>2025-03-10T00:00:00+03:00</updated><id>https://eugene-andrienko.com/it/2025/03/10/freebsd14-2-thinkpad-x220</id><content type="html" xml:base="https://eugene-andrienko.com/it/2025/03/10/freebsd14-2-thinkpad-x220.html"><![CDATA[<p>
Since I've wrote <a href="https://eugene-andrienko.com/it/2020/09/26/thinkpad-x220-freebsd">post about my specific FreeBSD settings for Thinkpad X220</a>
near 5 years have passed. That post has a lot of additions and become a bit
messy. So, after I updated FreeBSD on my laptop up to 14.2 version and finally
found some time to carefully read a <a href="https://docs.freebsd.org/en/books/handbook/">"FreeBSD handbook"</a>, I decided to write a
new article about my configuration and about few useful utilities and tricks.
</p>

<p>
Few words about my setup. I use ZFS as a filesystem. The root filesystem
installed in the ZFS pool <code>zroot</code> which has two disks: first near a 500¬†GB SSD
and second a 160¬†Gb SSD:
</p>

<pre class="example">
 ~ % zpool status zroot
  pool: zroot
 state: ONLINE
  scan: scrub repaired 0B in 00:06:42 with 0 errors on Thu Feb 6 03:13:50 2025
config:

        NAME          STATE     READ WRITE CKSUM
        zroot         ONLINE       0     0     0
          ada0p3.eli  ONLINE       0     0     0
          ada2p3.eli  ONLINE       0     0     0

errors: No known data errors
 ~ % zpool list zroot
NAME    SIZE  ALLOC   FREE  CKPOINT  EXPANDSZ   FRAG    CAP  DEDUP    HEALTH  ALTROOT
zroot   579G   123G   456G        -         -     6%    21%  1.00x    ONLINE  -
</pre>

<p>
As you can see, I bravely traded reliability for read speedü´†. I hope that
snapshots and backups will save me.
</p>

<p>
And there is a third disk is in separate pool with a datasets for VMs (bhyve):
</p>

<pre class="example">
 ~ % zpool status hdd
  pool: hdd
 state: ONLINE
  scan: scrub repaired 0B in 00:01:37 with 0 errors on Thu Feb  6 03:08:49 2025
config:

        NAME        STATE     READ WRITE CKSUM
        hdd         ONLINE       0     0     0
          ada1      ONLINE       0     0     0

errors: No known data errors
 ~ % zfs list -r hdd
NAME              USED  AVAIL  REFER  MOUNTPOINT
hdd              10.2G   439G    96K  /hdd
hdd/vms          10.2G   439G  3.86G  /hdd/vms
hdd/vms/windows  6.39G   439G  6.39G  /hdd/vms/windows
</pre>

<p>
There is a <a href="https://eugene-andrienko.com/en/it/2024/12/21/thinkpad-x220-libreboot">Libreboot installed in the laptop</a> instead of BIOS. So my <code>loader</code>
starts in graphics mode, instead I've get problems with Libreboot built with
corebootfb.
</p>

<p>
As a WiFi card I use an Intel 8260 card with integrated WiFi and Bluetooth
(TL-8260D2W).
</p>

<p>
More information about my hardware you can read in <a href="https://eugene-andrienko.com/en/it/2024/07/07/thinkpad-x220-second-life">this post</a>.
</p>
<div class="outline-2">
<h2>TOC&#xa0;&#xa0;&#xa0;<span class="tag"></span></h2>
<div class="outline-text-2">
<ul class="org-ul">
<li><a href="#bootloader">Bootloader</a></li>
<li><a href="#drm">Direct Rendering Manager kernel module</a></li>
<li><a href="#boot-loader-conf">/boot/loader.conf</a></li>
<li><a href="#etc-rc-conf">/etc/rc.conf</a></li>
<li><a href="#etc-sysctl-conf">/etc/sysctl.conf</a></li>
<li><a href="#x-window-system">X Window System</a></li>
<li><a href="#power-management">Power management</a></li>
<li><a href="#networking">Networking</a>
<ul class="org-ul">
<li><a href="#usb-tethering">USB tethering</a></li>
</ul></li>
<li><a href="#storage">Storage</a></li>
<li><a href="#fingerprint-scanner">Fingerprint scanner</a></li>
<li><a href="#files-to-download">Files to download</a></li>
<li><a href="#notes">Notes</a></li>
</ul>
</div>
</div>
<div id="outline-container-bootloader" class="outline-2">
<h2 id="bootloader">Bootloader</h2>
<div class="outline-text-2" id="text-bootloader">
<p>
As <a href="https://libreboot.org/docs/bsd/#freebsd-and-corebootfb">stated in the Libreboot's site</a>, it doesn't works well with the FreeBSD
<code>loader</code>. If you install libreboot with <code>libgfxinit</code> (i.e. use binary with
<code>-corebootfb</code> suffix) and try to load FreeBSD, then you get a slim line on the
top of the screen instead of bootloader graphics and boot log of the FreeBSD
kernel and <code>init</code>. It looks like this:
</p>


<div class="figure">
<p><img src="/assets/static/freebsd_n_corebootfb.jpg" alt="Slim blue line on the top of the screen instead of the bsdinstall interface fullscreen" align="center" />
</p>
<p style="text-align: center"><i>Slim blue line instead of bsdinstall interface</i></p>
</div>

<p>
Fortunately, I found a workaround for this problem. If you booting the FreeBSD
installation media and the <code>loader</code> interface should appears on the screen¬†‚Äî
blindly press <code>Esc</code> and type <code>vbe on</code> and press <code>Enter</code>. After that the fullscreen
<code>loader</code> interface should appear and installation process should display on the
screen as usual.
</p>

<p>
If you already installed FreeBSD, then just add the next lines to the
<code>/boot/loader.conf</code>:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">1: </span>hw.vga.textmode=<span style="color: #2aa198;">"0"</span>
<span id="coderef-loader-conf-resolution" class="coderef-off"><span class="linenr">2: </span><span style="color: #268bd2;">vbe_max_resolution</span>=2560x1440</span>
</pre>
</div>

<p>
Don't forget to insert the actual resolution to the line
<a href="#coderef-loader-conf-resolution" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-resolution');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-resolution');">2</a>!
</p>

<p>
After switch to FreeBSD¬†14.2 the things became more complicated. Because of
Netflix, the graphics mode from MBR bootloader <a href="https://www.freebsd.org/releases/14.2R/relnotes/#:~:text=removed%20support%20for%20graphics%20mode">was removed</a> and GZIP/BZIP2
compression takes its place. But this graphics mode was necessary for me to
see anything on the screen while system is booting. The previously described
trick doesn't work if bootloader lacks of graphics mode!
</p>

<p>
I found <a href="https://forums.freebsd.org/threads/freebsd-14-2-bootsplash-gone.96142/#post-684187">a solution</a> in the FreeBSD forum: just rebuild a loader with reverted
<a href="https://cgit.freebsd.org/src/commit/?id=4d3b05a8530e">4d3b05a8530e</a> commit and image on the display will be back. To achieve this I
did the next things:
</p>
<ol class="org-ol">
<li>Went to the <code>/usr/src/</code> catalog.</li>
<li>Because there is no Git repository in this catalog (in my case), I manually
reverted the changes from the aforementioned commit.</li>
<li><p>
Then I executed next set of commands:
</p>
<pre class="example">
cd /usr/src/stand/
make clean
make
make install
</pre>

<p>
I should note that <code>make clean install</code> command, suggested at the mentioned
forum's message, didn't completed successfully on my machine. That's why
there are three consequtive <code>make</code> calls on the code block above.
</p>

<p>
These calls should be completed without an errors.
</p></li>
<li>At this point the <code>loader</code> with graphics support should be already installed
in the <code>/boot</code> directory. So, after a reboot, the graphics interface of
bootloader and the boot log of the kernel should appear on the screen.</li>
</ol>
</div>
</div>
<div id="outline-container-drm" class="outline-2">
<h2 id="drm">Direct Rendering Manager kernel module</h2>
<div class="outline-text-2" id="text-drm">
<p>
<i>This section is applicable till 31 March 2025. After the FreeBSD¬†14.1 EoL it
will be no longer neccessary.</i>
</p>

<p>
For now (February 2025) the drm-kmod kernel module is still building for
FreeBSD¬†14.1. So when I updated to 14.2 release, I've got a drm-kmod for 14.1
kernel with 14.2 kernel. Of course it didn't work properly and I've got nor
text consoles neither boot log (after <code>init</code> start). Only the X-server works,
which is starting automatically on boot on my laptop.
</p>

<p>
There are two "default" options I've found in the Internet:
</p>
<ol class="org-ol">
<li>Don't update till 31 March 2025. After this date the drm-kmod will be built
for FreeBSD¬†14.2 and it will be safe to update the system.</li>
<li>Update the system now and build proper DRM kernel module for 14.2 manually.</li>
</ol>

<p>
Fortunately, the <a href="https://mas.to/@patrizia@hachyderm.io">@patrizia@hachyderm.io</a> showed me the third option. There is
exists a special FreeBSD-kmods repository with drm-kmod, built for newly
released FreeBSD version.
</p>

<p>
Based on <a href="https://hachyderm.io/@patrizia/113897441053997542">this</a> and <a href="https://forums.freebsd.org/threads/new-install-of-14-2.96276/#post-684792">this</a>, the solution is simple:
</p>
<ol class="org-ol">
<li><p>
Add/edit the file <code>/usr/local/etc/pkg/repos/FreeBSD-kmods.conf</code>. It should
has the next contents for the system based on the quarterly releases:
</p>
<pre class="example">
FreeBSD-kmods: {
    url             : "pkg+https://pkg.freebsd.org/${ABI}/kmods_quarterly_${VERSION_MINOR}",
    enabled         : yes,
    priority        : 10,
    mirror_type     : "SRV",
    signature_type  : "FINGERPRINTS",
    fingerprints    : "/usr/share/keys/pkg"
}
</pre></li>
<li>Call <code>sudo pkg update</code> to check that the new repository is accessible.</li>
<li><p>
Check currently used drm-kmod version
</p>
<pre class="example">
% sudo pkg info | grep drm
drm-61-kmod-6.1.92.1402000_3   DRM drivers modules
drm-kmod-20220907_3            Metaport of DRM modules for the linuxkpi-based KMS components
</pre></li>
<li><p>
Check that this version (drm-61-kmod in my case) exists in FreeBSD-kmod repository:
</p>
<pre class="example">
% sudo pkg search -r FreeBSD-kmods drm
drm-515-kmod-5.15.160.1402000_2 DRM drivers modules
drm-61-kmod-6.1.92.1402000_3   DRM drivers modules
</pre></li>
<li><p>
Remove installed drm-kmod:
</p>
<pre class="example">
% sudo pkg remove drm-kmod drm-61-kmod
</pre></li>
<li><p>
And install drm-61-kmod from a proper repository:
</p>
<pre class="example">
% sudo pkg install -r FreeBSD-kmods drm-61-kmod &amp;&amp; sudo pkg install drm-kmod
</pre></li>
</ol>

<p>
After reboot the boot log and the text consoles are back!
</p>
</div>
</div>
<div id="outline-container-boot-loader-conf" class="outline-2">
<h2 id="boot-loader-conf">/boot/loader.conf</h2>
<div class="outline-text-2" id="text-boot-loader-conf">
<p>
There were two sections about FreeBSD¬†14.2 specific things, which I've added
to the system after upgrading from 14.1. Now I'll write about the realüòé
system configuration.
</p>

<p>
Let's start with <code>/boot/loader.conf</code> ‚Äî there is a configuration file for
<a href="https://man.freebsd.org/cgi/man.cgi?query=loader&amp;sektion=8&amp;format=html">loader(8)</a> ‚Äî the 3rd stage bootloader, which loads the kernel. Most of
variables in this file are well described in <a href="https://man.freebsd.org/cgi/man.cgi?loader.conf">loader.conf(5)</a>.
</p>

<p>
The first section of my file describes <code>loader</code>-related configuration:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">1: </span><span style="color: #93a1a1;">##################</span>
<span class="linenr">2: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Loader settings:</span>
<span class="linenr">3: </span><span style="color: #93a1a1;">##################</span>
<span id="coderef-loader-conf-boot-delay" class="coderef-off"><span class="linenr">4: </span><span style="color: #268bd2;">autoboot_delay</span>=<span style="color: #2aa198;">"0"</span></span>
<span id="coderef-loader-conf-beastie" class="coderef-off"><span class="linenr">5: </span><span style="color: #268bd2;">beastie_disable</span>=<span style="color: #2aa198;">"YES"</span></span>
<span id="coderef-loader-conf-boot-mute" class="coderef-off"><span class="linenr">6: </span><span style="color: #268bd2;">boot_mute</span>=<span style="color: #2aa198;">"YES"</span></span>
<span class="linenr">7: </span><span style="color: #268bd2;">cpu_microcode_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">8: </span><span style="color: #268bd2;">cpu_microcode_name</span>=<span style="color: #2aa198;">"/boot/firmware/intel-ucode.bin"</span>
</pre>
</div>

<p>
Lines <a href="#coderef-loader-conf-boot-delay" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-boot-delay');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-boot-delay');">4</a> and <a href="#coderef-loader-conf-beastie" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-beastie');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-beastie');">5</a> are used to skip the
<code>loader</code>'s interactive menu and boot the kernel right after the computer is
turned on. I can still jump to the <code>loader</code> console by pressing any key while
the <code>loader</code> is loading modules and preparing to load the kernel.
</p>

<p>
Line <a href="#coderef-loader-conf-boot-mute" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-boot-mute');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-boot-mute');">6</a> used to hide the kernel log during
loading. Instead, the nice white FreeBSD logo is displayed, just like in other
consumer OSes:
</p>


<div class="figure">
<p><img src="/assets/static/bootlogo.png" alt="black and white FreeBSD boot logo" align="center" />
</p>
<p style="text-align: center"><i>FreeBSD logo during the boot if boot_mute="YES"</i></p>
</div>

<p>
The last two lines allow loading <a href="https://en.wikipedia.org/wiki/Microcode">Intel CPU microcode</a> during kernel
loading. The <code>sysutils/cpu-microcode-intel</code> package should be installed first!
</p>

<p>
In the next section, there are lines with kernel modules that the <code>loader</code> will
load:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr"> 9: </span><span style="color: #93a1a1;">##################</span>
<span class="linenr">10: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Modules to load:</span>
<span class="linenr">11: </span><span style="color: #93a1a1;">##################</span>
<span id="coderef-loader-conf-i915kms" class="coderef-off"><span class="linenr">12: </span><span style="color: #268bd2;">i915kms_load</span>=<span style="color: #2aa198;">"YES"</span></span>
<span id="coderef-loader-conf-aesni" class="coderef-off"><span class="linenr">13: </span><span style="color: #268bd2;">aesni_load</span>=<span style="color: #2aa198;">"YES"</span></span>
<span class="linenr">14: </span><span style="color: #268bd2;">cryptodev_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">15: </span><span style="color: #268bd2;">geom_eli_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">16: </span><span style="color: #268bd2;">zfs_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">17: </span><span style="color: #268bd2;">libiconv_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">18: </span><span style="color: #268bd2;">libmchain_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">19: </span><span style="color: #268bd2;">cd9660_iconv_load</span>=<span style="color: #2aa198;">"YES"</span>
<span id="coderef-loader-conf-cd9660-iconv" class="coderef-off"><span class="linenr">20: </span><span style="color: #268bd2;">msdosfs_iconv_load</span>=<span style="color: #2aa198;">"YES"</span></span>
<span class="linenr">21: </span><span style="color: #268bd2;">acpi_ibm_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">22: </span><span style="color: #268bd2;">acpi_video_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">23: </span><span style="color: #268bd2;">acpi_dock_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">24: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Load the H-TCP algorithm. It has a more aggressive ramp-up to max</span>
<span class="linenr">25: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">bandwidth, and its optimized for high-speed, high-latency connections.</span>
<span id="coderef-loader-conf-cc-htcp" class="coderef-off"><span class="linenr">26: </span><span style="color: #268bd2;">cc_htcp_load</span>=<span style="color: #2aa198;">"YES"</span></span>
<span id="coderef-loader-conf-cpuctl" class="coderef-off"><span class="linenr">27: </span><span style="color: #268bd2;">cpuctl_load</span>=<span style="color: #2aa198;">"YES"</span></span>
<span class="linenr">28: </span><span style="color: #268bd2;">coretemp_load</span>=<span style="color: #2aa198;">"YES"</span>
<span id="coderef-loader-conf-sysctlinfo" class="coderef-off"><span class="linenr">29: </span><span style="color: #268bd2;">sysctlinfo_load</span>=<span style="color: #2aa198;">"YES"</span></span>
<span class="linenr">30: </span><span style="color: #268bd2;">sysctlbyname_improved_load</span>=<span style="color: #2aa198;">"YES"</span>
</pre>
</div>

<p>
Although these lines may look a bit cryptic¬†‚Äî they aren't. Most of these lines
were added by the <code>bsdinstaller</code> during the installation process. The
instructions for loading modules may look like the same instructions from
<code>/etc/rc.conf</code>¬†‚Äî but they should be placed in <code>/boot/loader.conf</code>. This is
necessary because these modules <b>must</b> be loaded before the system mounts the
disks using <a href="https://man.freebsd.org/cgi/man.cgi?rc(8)">rc(8)</a> scripts. Without them, the system won't be able to mount the
disks and initialize the other hardware properly. That's why modules should be
loaded by the <code>loader</code> before initialization scripts loading.
</p>

<ul class="org-ul">
<li>Line <a href="#coderef-loader-conf-i915kms" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-i915kms');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-i915kms');">12</a> was added by myself¬†‚Äî it instructs to load kernel
mode setting<sup><a id="fnr.modesetting-wiki" class="footref" href="#fn.modesetting-wiki" role="doc-backlink">1</a></sup> module for the Intel integrated video
card. Without it, there was no graphical output, at least in the console.</li>
<li><p>
Lines from <a href="#coderef-loader-conf-aesni" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-aesni');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-aesni');">13</a> through <a href="#coderef-loader-conf-cd9660-iconv" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-cd9660-iconv');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-cd9660-iconv');">20</a> load the
storage-related kernel modules. Some modules (<code>aesni</code>, <code>cryptodev</code>, <code>geom_eli</code> and
<code>zfs)</code> were added during the installation process. They are needed to decrypt
the encrypted disk partitions, to decrypt them fast enough, and for ZFS
support.
</p>

<p>
The <code>libiconv</code>, <code>libmchain</code>, <code>cd9660_iconv</code> and <code>msdosfs_iconv</code> modules were added
by myself. They are needed for codeset conversion when the path on the
mounted filesystem is not in UTF-8 but in something like CP1251, CP866,
etc. This usually happens when I mount some old ISOs from the 199Xs or
unpack some archives from the Windows XP era with Cyrillic filenames.
</p></li>
<li>Various <code>acpi_*</code> modules are needed to support Thinkpad-specific things:
<ul class="org-ul">
<li><a href="https://man.freebsd.org/cgi/man.cgi?query=acpi_ibm&amp;apropos=0&amp;sektion=4&amp;manpath=FreeBSD+14.2-RELEASE&amp;arch=default&amp;format=html">acpi_ibm(4)</a> provides access to Thinkpad-specific hardware available
through the ACPI interface. For example, ThinkLight status can be read via
<code>sysctl dev.acpi_ibm.0.thinklight</code>, and even enabled programmatically via
<code>sudo sysctl dev.acpi_ibm.0.thinklight=1</code>.</li>
<li><a href="https://man.freebsd.org/cgi/man.cgi?query=acpi_video&amp;apropos=0&amp;sektion=4&amp;manpath=FreeBSD+14.2-RELEASE&amp;arch=default&amp;format=html">acpi_video(4)</a> provides various controls for some video core outputs (LVDS,
VGA, etc).</li>
<li><a href="https://man.freebsd.org/cgi/man.cgi?query=acpi_dock&amp;apropos=0&amp;sektion=4&amp;manpath=FreeBSD+14.2-RELEASE&amp;arch=default&amp;format=html">acpi_dock(4)</a> is a docking station device driver.</li>
</ul></li>
<li>Line <a href="#coderef-loader-conf-cc-htcp" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-cc-htcp');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-cc-htcp');">26</a> was taken from <a href="https://www.sacredheartsc.com/blog/freebsd-14-on-the-desktop/">this blog post</a> to improve
performance when my laptop is connected to the Internet (my main use case).</li>
<li>The next two lines, starting at <a href="#coderef-loader-conf-cpuctl" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-cpuctl');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-cpuctl');">27</a>, are necessary to
access specific CPU-related information, such as CPUID or temperature, and
to perform CPU firmware updates.</li>
<li><p>
The last two lines, starting at <a href="#coderef-loader-conf-sysctlinfo" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-sysctlinfo');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-sysctlinfo');">29</a>, are added for
<a href="https://man.freebsd.org/cgi/man.cgi?query=mixertui&amp;sektion=8&amp;n=1">mixertui(8)</a>¬†‚Äî an ncurses-like interface mixer for OSS:
</p>

<div class="figure">
<p><img src="/assets/static/mixertui.png" alt="Console interface for mixertui, with gauge controls for different sound inputs/outputs" align="center" />
</p>
<p style="text-align: center"><i>mixertui console interface</i></p>
</div></li>
</ul>

<p>
The last section contains some system settings. All of these settings are just
some <a href="https://man.freebsd.org/cgi/man.cgi?query=sysctl&amp;apropos=0&amp;sektion=8&amp;manpath=FreeBSD+14.2-RELEASE&amp;arch=default&amp;format=html">sysctl(8)</a> variables that are read-only on FreeBSD and can only be changed
by the <code>loader</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">31: </span><span style="color: #93a1a1;">##################</span>
<span class="linenr">32: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">System settings:</span>
<span class="linenr">33: </span><span style="color: #93a1a1;">##################</span>
<span id="coderef-loader-conf-allow-destructive-dtrace" class="coderef-off"><span class="linenr">34: </span>security.bsd.allow_destructive_dtrace=0</span>
<span class="linenr">35: </span><span style="color: #93a1a1;">#</span>
<span class="linenr">36: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Read only but tunable sysctl settings:</span>
<span class="linenr">37: </span><span style="color: #93a1a1;">#</span>
<span id="coderef-loader-conf-enable-fbc" class="coderef-off"><span class="linenr">38: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Enable framebuffer compression for power saving:</span></span>
<span class="linenr">39: </span>compat.linuxkpi.i915_enable_fbc=1
<span class="linenr">40: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Try to skip unnecessary mode sets at boot time:</span>
<span id="coderef-loader-conf-fastboot" class="coderef-off"><span class="linenr">41: </span>compat.linuxkpi.i915_fastboot=1</span>
<span id="coderef-loader-conf-synaptics" class="coderef-off"><span class="linenr">42: </span>hw.psm.synaptics_support=1</span>
<span class="linenr">43: </span>hw.psm.trackpoint_support=1
<span id="coderef-loader-conf-kern" class="coderef-off"><span class="linenr">44: </span>kern.hz=100</span>
<span class="linenr">45: </span>kern.ipc.shmmni=<span style="color: #2aa198;">"1024"</span>
<span class="linenr">46: </span>kern.ipc.shmseg=<span style="color: #2aa198;">"1024"</span>
<span class="linenr">47: </span>kern.maxproc=<span style="color: #2aa198;">"100000"</span>
<span class="linenr">48: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Enable faster soreceive() implementation:</span>
<span id="coderef-loader-conf-soreceive" class="coderef-off"><span class="linenr">49: </span>net.inet.tcp.soreceive_stream=<span style="color: #2aa198;">"1"</span></span>
<span class="linenr">50: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Increase the network interface queue link - the default (50) is way</span>
<span class="linenr">51: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">too low:</span>
<span id="coderef-loader-conf-queue-link" class="coderef-off"><span class="linenr">52: </span>net.isr.defaultqlimit=<span style="color: #2aa198;">"2048"</span></span>
<span class="linenr">53: </span>net.link.ifqmaxlen=<span style="color: #2aa198;">"2048"</span>
</pre>
</div>

<ul class="org-ul">
<li>The <a href="#coderef-loader-conf-allow-destructive-dtrace" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-allow-destructive-dtrace');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-allow-destructive-dtrace');">34</a>th line has been added by
<code>bsdinstall</code>. It removes DTrace's ability to work with system
internals<sup><a id="fnr.dtrace-internal" class="footref" href="#fn.dtrace-internal" role="doc-backlink">2</a></sup>.</li>
<li>The lines from <a href="#coderef-loader-conf-enable-fbc" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-enable-fbc');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-enable-fbc');">38</a> to <a href="#coderef-loader-conf-fastboot" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-fastboot');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-fastboot');">41</a> just
enable some nice features for my integrated Intel GMA X3100 video card.</li>
<li>Two lines starting at <a href="#coderef-loader-conf-synaptics" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-synaptics');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-synaptics');">42</a> line enable TrackPoint and
Synaptics touchpad support.</li>
<li>Four lines starting at <a href="#coderef-loader-conf-kern" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-kern');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-kern');">44</a> contain various kernel-related
handles that increase the defaults to make it more suitable for desktop
systems.</li>
<li>Line <a href="#coderef-loader-conf-soreceive" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-soreceive');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-soreceive');">49</a> and two lines after <a href="#coderef-loader-conf-queue-link" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-loader-conf-queue-link');" onmouseout="CodeHighlightOff(this, 'coderef-loader-conf-queue-link');">52</a>
were taken from someone's blogpost to increase the network performance of my
laptop.</li>
</ul>
</div>
</div>
<div id="outline-container-etc-rc-conf" class="outline-2">
<h2 id="etc-rc-conf">/etc/rc.conf</h2>
<div class="outline-text-2" id="text-etc-rc-conf">
<p>
The next main configuration file in FreeBSD is an <code>/etc/rc.conf</code>. Here, as
stated in <a href="https://man.freebsd.org/cgi/man.cgi?rc.conf(5)">rc.conf(5)</a>, stored the next settings:
</p>
<ul class="org-ul">
<li>Network configuration, including hostname, interface(s) configuration, etc.</li>
<li>List services to run at system startup.</li>
<li>Sometimes, it includes configuration for <b>system</b> services.</li>
</ul>

<p>
List of services already populated by <code>bsdinstaller</code>, but I've added a lot more:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr"> 1: </span><span style="color: #93a1a1;">####################</span>
<span class="linenr"> 2: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Services to start:</span>
<span class="linenr"> 3: </span><span style="color: #93a1a1;">####################</span>
<span class="linenr"> 4: </span><span style="color: #268bd2;">local_unbound_enable</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr"> 5: </span><span style="color: #268bd2;">clear_tmp_enable</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr"> 6: </span><span style="color: #268bd2;">sshd_enable</span>=<span style="color: #2aa198;">"NO"</span>
<span class="linenr"> 7: </span><span style="color: #268bd2;">ntpd_enable</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr"> 8: </span><span style="color: #268bd2;">autofs_enable</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr"> 9: </span><span style="color: #268bd2;">zfs_enable</span>=<span style="color: #2aa198;">"YES"</span>
<span id="coderef-rc-conf-custom-lines" class="coderef-off"><span class="linenr">10: </span><span style="color: #268bd2;">dbus_enable</span>=<span style="color: #2aa198;">"YES"</span></span>
<span id="coderef-rc-conf-lightdm" class="coderef-off"><span class="linenr">11: </span><span style="color: #268bd2;">lightdm_enable</span>=<span style="color: #2aa198;">"YES"</span></span>
<span class="linenr">12: </span><span style="color: #268bd2;">powerd_enable</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">13: </span><span style="color: #268bd2;">wifibox_enable</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">14: </span><span style="color: #268bd2;">webcamd_enable</span>=<span style="color: #2aa198;">"YES"</span>
<span id="coderef-rc-conf-devmatch" class="coderef-off"><span class="linenr">15: </span><span style="color: #268bd2;">devmatch_enable</span>=<span style="color: #2aa198;">"YES"</span></span>
<span id="coderef-rc-conf-vm" class="coderef-off"><span class="linenr">16: </span><span style="color: #268bd2;">vm_enable</span>=<span style="color: #2aa198;">"YES"</span></span>
<span id="coderef-rc-conf-linux" class="coderef-off"><span class="linenr">17: </span><span style="color: #268bd2;">linux_enable</span>=<span style="color: #2aa198;">"YES"</span></span>
<span id="coderef-rc-conf-microcode-update" class="coderef-off"><span class="linenr">18: </span><span style="color: #268bd2;">microcode_update_enable</span>=<span style="color: #2aa198;">"YES"</span></span>
</pre>
</div>

<p>
My custom settings starting from line <a href="#coderef-rc-conf-custom-lines" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-custom-lines');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-custom-lines');">10</a>. First, I enable
D-Bus¬†‚Äî sadly, it is necessary for some programs even if I use i3wm, despite
it was created for KDE or Gnome¬†‚Äî for example for <del>Firefox</del> Librewolf and
<a href="https://fprint.freedesktop.org/">fprintd</a> utilities.
</p>

<p>
Then (<a href="#coderef-rc-conf-lightdm" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-lightdm');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-lightdm');">11</a>), I enable LightDM service¬†‚Äî the nice and lightweight
login screen for X server:
</p>


<div class="figure">
<p><img src="/assets/static/lightdm.jpg" alt="LightDM login window" align="center" />
</p>
<p style="text-align: center"><i>LightDM login screen</i></p>
</div>

<p>
LightDM configuration for i3 was a bit tricky. But after some experiments I
added these lines to <code>/usr/local/etc/lightdm/lightdm.conf</code>:
</p>

<div class="org-src-container">
<pre class="src src-nil"><span class="linenr">1: </span>[Seat:*]
<span class="linenr">2: </span>xserver-share=true
<span class="linenr">3: </span>greeter-session=lightdm-gtk-greeter
<span class="linenr">4: </span>session-wrapper=/usr/local/etc/lightdm/Xsession
<span id="coderef-lightdm-conf-2k" class="coderef-off"><span class="linenr">5: </span>display-setup-script=xrandr --output DP-3 --primary --dpi 130</span>
</pre>
</div>

<p>
On the line <a href="#coderef-lightdm-conf-2k" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-lightdm-conf-2k');" onmouseout="CodeHighlightOff(this, 'coderef-lightdm-conf-2k');">5</a> there is a special command to properly setup X
server to display login screen on the right display with a right DPI.
</p>

<p>
Lets return to the <code>/etc/rc.conf</code>. Line <a href="#coderef-rc-conf-devmatch" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-devmatch');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-devmatch');">15</a> enables auto-loading
of kernel modules with <a href="https://man.freebsd.org/cgi/man.cgi?query=devmatch&amp;sektion=8&amp;apropos=0&amp;manpath=FreeBSD+14.2-RELEASE+and+Ports">devmatch(8)</a>¬†‚Äî I need it to blacklist some modules,
which is unnecessary in my configuration but load by default. And the line
<a href="#coderef-rc-conf-microcode-update" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-microcode-update');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-microcode-update');">18</a> enables service to update CPU microcode on the
start (if package <code>sysutils/cpu-microcode-intel</code> is installed).
</p>

<p>
Then, I enable the <code>vm</code> service for <a href="https://github.com/churchers/vm-bhyve">bhyve-vm management console</a> (line
<a href="#coderef-rc-conf-vm" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-vm');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-vm');">16</a>). And a <a href="https://docs.freebsd.org/en/books/handbook/linuxemu/">Linuxulator</a>¬†‚Äî Linux compatibility layer¬†‚Äî on the line
<a href="#coderef-rc-conf-linux" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-linux');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-linux');">17</a>. Usually it is not necessary for normal FreeBSD operation
because all necessary programs built for FreeBSD. I don't remember why I
enable it, maybe to launch Dwarf Fortress, may be to lauch <a href="https://cataclysmdda.org/">Cataclysm-DDA</a>.
</p>

<p>
The most of the system-related configuration is already populated by the
<code>bsdinstaller</code>. So I've just added the few lines:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">19: </span><span style="color: #93a1a1;">#######################</span>
<span class="linenr">20: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">System configuration:</span>
<span class="linenr">21: </span><span style="color: #93a1a1;">#######################</span>
<span class="linenr">22: </span><span style="color: #268bd2;">hostname</span>=<span style="color: #2aa198;">"freebsd"</span>
<span id="coderef-rc-conf-kld-list" class="coderef-off"><span class="linenr">23: </span><span style="color: #268bd2;">kld_list</span>=<span style="color: #2aa198;">"fusefs ipsec ng_l2tp cuse"</span></span>
<span class="linenr">24: </span><span style="color: #268bd2;">syslogd_flags</span>=<span style="color: #2aa198;">"-ss"</span>
<span class="linenr">25: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Set dumpdev to "AUTO" to enable crash dumps, "NO" to disable</span>
<span class="linenr">26: </span><span style="color: #268bd2;">dumpdev</span>=<span style="color: #2aa198;">"NO"</span>
<span id="coderef-rc-conf-blacklist" class="coderef-off"><span class="linenr">27: </span><span style="color: #268bd2;">devmatch_blocklist</span>=<span style="color: #2aa198;">"if_iwm if_iwlwifi"</span></span>
</pre>
</div>

<ul class="org-ul">
<li>In the line <a href="#coderef-rc-conf-kld-list" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-kld-list');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-kld-list');">23</a> I load some kernel modules: the <code>fusefs</code> and
the <code>cuse</code> modules. The first is necessary to work with <a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace">userspace
filesystems</a>. And the second is necessary for webcamd to operate with my
web-camera. Also, for some experiments with <a href="https://en.wikipedia.org/wiki/Layer_2_Tunneling_Protocol">L2TP</a> I load <code>ipsec</code> and <code>ng_l2tp</code>
modules.</li>
<li>And in the line <a href="#coderef-rc-conf-blacklist" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-blacklist');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-blacklist');">27</a> I blacklisted modules for FreeBSD WiFi¬†‚Äî
because I use <a href="https://man.freebsd.org/cgi/man.cgi?query=wifibox&amp;apropos=0&amp;sektion=8&amp;manpath=freebsd-ports&amp;format=html">wifibox(8)</a>, all FreeBSD related wireless networking shouldn't
interfere with it.</li>
</ul>

<p>
The daemons' configuration also populated by <code>bsdinstaller</code>:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">28: </span><span style="color: #93a1a1;">#########################</span>
<span class="linenr">29: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Services configuration:</span>
<span class="linenr">30: </span><span style="color: #93a1a1;">#########################</span>
<span class="linenr">31: </span><span style="color: #268bd2;">ntpd_sync_on_start</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">32: </span><span style="color: #268bd2;">moused_nondefault_enable</span>=<span style="color: #2aa198;">"NO"</span>
<span id="coderef-rc-conf-webcamd-conf" class="coderef-off"><span class="linenr">33: </span><span style="color: #268bd2;">webcamd_0_flags</span>=<span style="color: #2aa198;">"-d ugen0.5"</span></span>
<span id="coderef-rc-conf-vm-conf" class="coderef-off"><span class="linenr">34: </span><span style="color: #268bd2;">vm_dir</span>=<span style="color: #2aa198;">"zfs:hdd/vms"</span></span>
</pre>
</div>

<p>
Here I just added an option for <code>webcamd</code> to use only specified device as a my
web-camera (<a href="#coderef-rc-conf-webcamd-conf" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-webcamd-conf');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-webcamd-conf');">33</a>), as written <a href="https://docs.freebsd.org/en/books/handbook/multimedia/index.html#webcam-setup">in documentation</a>. And
specified the separate ZFS pool on the thirdt HDD to use for my VMs.
</p>
</div>
</div>
<div id="outline-container-etc-sysctl-conf" class="outline-2">
<h2 id="etc-sysctl-conf">/etc/sysctl.conf</h2>
<div class="outline-text-2" id="text-etc-sysctl-conf">
<p>
The last main configuration file is a <code>/etc/sysctl.conf</code> with various system
variables.
</p>

<p>
The first section in my file is just a kernel-related settings:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr"> 1: </span><span style="color: #93a1a1;">##################</span>
<span class="linenr"> 2: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Kernel settings:</span>
<span class="linenr"> 3: </span><span style="color: #93a1a1;">##################</span>
<span class="linenr"> 4: </span>kern.geom.label.disk_ident.enable=<span style="color: #2aa198;">"0"</span>
<span class="linenr"> 5: </span>kern.geom.label.gptid.enable=<span style="color: #2aa198;">"0"</span>
<span class="linenr"> 6: </span>kern.randompid=1
<span class="linenr"> 7: </span>kern.coredump=0
<span class="linenr"> 8: </span>kern.corefile=/dev/null
<span class="linenr"> 9: </span>kern.vt.enable_bell=0
<span class="linenr">10: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Make desktop more responsive under high CPU load:</span>
<span class="linenr">11: </span>kern.sched.preempt_thresh=224
<span class="linenr">12: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Prevent shared memory from being swapped to disk:</span>
<span class="linenr">13: </span>kern.ipc.shm_use_phys=1
</pre>
</div>

<p>
Aside from the first lines added by the <code>bsdinstaller</code> and the commented lines,
there are the following settings:
</p>
<ul class="org-ul">
<li>Coredumps are disabled</li>
<li>Bell on the console is also disabled.</li>
</ul>

<p>
The next section in the file is hardware-specific:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">14: </span><span style="color: #93a1a1;">###################</span>
<span class="linenr">15: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Hardware setings:</span>
<span class="linenr">16: </span><span style="color: #93a1a1;">###################</span>
<span id="coderef-sysctl-conf-trackpoint" class="coderef-off"><span class="linenr">17: </span>hw.psm.trackpoint.sensitivity=150</span>
<span class="linenr">18: </span>hw.psm.trackpoint.upper_plateau=125
<span class="linenr">19: </span>hw.syscons.bell=0
<span class="linenr">20: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Enable sleep:</span>
<span id="coderef-sysctl-conf-suspend" class="coderef-off"><span class="linenr">21: </span>hw.pci.do_power_suspend=0</span>
<span class="linenr">22: </span>hw.pci.do_power_nodriver=1
<span class="linenr">23: </span>hw.acpi.lid_switch_state=S3
<span class="linenr">24: </span>hw.acpi.sleep_button_state=S3
<span class="linenr">25: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Override ACPI coretemp values:</span>
<span id="coderef-sysctl-conf-acpi-thermal" class="coderef-off"><span class="linenr">26: </span>hw.acpi.thermal.user_override=1</span>
<span class="linenr">27: </span>hw.acpi.thermal.tz0._PSV=80C
<span class="linenr">28: </span>hw.acpi.thermal.tz1._PSV=80C
<span class="linenr">29: </span>hw.acpi.thermal.tz0._CRT=199C
<span class="linenr">30: </span>hw.acpi.thermal.tz1._CRT=199C
</pre>
</div>

<p>
Here are my specific trackpoint sensivity values, starting at
line¬†<a href="#coderef-sysctl-conf-trackpoint" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-sysctl-conf-trackpoint');" onmouseout="CodeHighlightOff(this, 'coderef-sysctl-conf-trackpoint');">17</a>. I chose these numbers experimentally, to get
the best user experience.
</p>

<p>
The four lines starting at¬†<a href="#coderef-sysctl-conf-suspend" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-sysctl-conf-suspend');" onmouseout="CodeHighlightOff(this, 'coderef-sysctl-conf-suspend');">21</a>, configure the suspend
behavior for my laptop. The first two lines are from the FreeBSD forum. They
make my peripherals (especially the PCI Express card with USB3.0 ports in it)
work properly after the laptop wakes up. The last two lines tell the OS to go
to S3 state when I close the lid or press the sleep key (Fn+F4 on my Thinkpad
X220).
</p>

<p>
The five lines from <a href="#coderef-sysctl-conf-acpi-thermal" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-sysctl-conf-acpi-thermal');" onmouseout="CodeHighlightOff(this, 'coderef-sysctl-conf-acpi-thermal');">26</a> line are the <b>DANGEROUS</b> ones!
The first allows you to override thermal protections for the laptop. So, if
you configure something wrong, the laptop might meltü´†. The next two lines
lower the default temperature to disable the passive cooling¬†‚Äî the defaults
were set to 90¬∞C, which is too high for me.
</p>

<p>
And the last two lines are necessary to prevent some weird behaviour of my
laptop when it wakes up from the sleep state. Due to a some bug in the
Libreboot, my ThinkPad X220 doing some hard calculations with it's CPU for a
second, when it is waking up. And this second is enough for ACPI to decide,
"on ho, the CPU is overheating¬†‚Äî let's turn off the everything!"
</p>

<p>
So, to prevent this unwanted shutdown I added those two lines. For now, laptop
still overheats for a second (fan noise increases) but it is successfully
wakes up and working like a charm. And it is not melt (yet)!
</p>

<p>
The next few lines are filesystem specific settings. Most of these are also
set by <code>bsdinstaller</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">29: </span><span style="color: #93a1a1;">###############</span>
<span class="linenr">30: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">VFS settings:</span>
<span class="linenr">31: </span><span style="color: #93a1a1;">###############</span>
<span id="coderef-sysctl-conf-usermount" class="coderef-off"><span class="linenr">32: </span>vfs.usermount=1</span>
<span class="linenr">33: </span>vfs.read_max=128
<span class="linenr">34: </span>vfs.zfs.min_auto_ashift=12 <span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">4 KB blocks</span>
<span class="linenr">35: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Increase ZFS transaction timeout to save battery</span>
<span id="coderef-sysctl-conf-zfs-timeout" class="coderef-off"><span class="linenr">36: </span>vfs.zfs.txg.timeout=<span style="color: #2aa198;">"10"</span></span>
</pre>
</div>

<p>
I just made the following changes:
</p>
<ul class="org-ul">
<li>Allow user to mount filesystems in line <a href="#coderef-sysctl-conf-usermount" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-sysctl-conf-usermount');" onmouseout="CodeHighlightOff(this, 'coderef-sysctl-conf-usermount');">32</a>. Since I'm
the only one user of my laptop, I obviously allow myself to mount
filesystems from various USB drives, SD cards, etc.</li>
<li>The line <a href="#coderef-sysctl-conf-zfs-timeout" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-sysctl-conf-zfs-timeout');" onmouseout="CodeHighlightOff(this, 'coderef-sysctl-conf-zfs-timeout');">36</a> I took from the someone's blog. I can't
say that it significantly increases the battery life of the laptop&#x2026;</li>
</ul>

<p>
The next lines are not written by me¬†‚Äî I took them from <a href="https://www.sacredheartsc.com/blog/freebsd-14-on-the-desktop/">this blogpost</a>:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">37: </span><span style="color: #93a1a1;">#############################</span>
<span class="linenr">38: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Network performance tuning:</span>
<span class="linenr">39: </span><span style="color: #93a1a1;">#############################</span>
<span class="linenr">40: </span>kern.ipc.maxsockbuf=2097152
<span class="linenr">41: </span>kern.ipc.soacceptqueue=1024
<span class="linenr">42: </span>kern.ipc.somaxconn=1024
<span class="linenr">43: </span>net.inet.tcp.abc_l_var=44
<span class="linenr">44: </span>net.inet.tcp.cc.abe=1
<span class="linenr">45: </span>net.inet.tcp.cc.algorithm=htcp
<span class="linenr">46: </span>net.inet.tcp.cc.htcp.adaptive_backoff=1
<span class="linenr">47: </span>net.inet.tcp.cc.htcp.rtt_scaling=1
<span class="linenr">48: </span>net.inet.tcp.ecn.enable=1
<span class="linenr">49: </span>net.inet.tcp.fast_finwait2_recycle=1
<span class="linenr">50: </span>net.inet.tcp.fastopen.server_enable=1
<span class="linenr">51: </span>net.inet.tcp.finwait2_timeout=5000
<span class="linenr">52: </span>net.inet.tcp.initcwnd_segments=44
<span class="linenr">53: </span>net.inet.tcp.keepcnt=2
<span class="linenr">54: </span>net.inet.tcp.keepidle=62000
<span class="linenr">55: </span>net.inet.tcp.keepinit=5000
<span class="linenr">56: </span>net.inet.tcp.minmss=536
<span class="linenr">57: </span>net.inet.tcp.msl=2500
<span class="linenr">58: </span>net.inet.tcp.mssdflt=1448
<span class="linenr">59: </span>net.inet.tcp.nolocaltimewait=1
<span class="linenr">60: </span>net.inet.tcp.recvbuf_max=2097152
<span class="linenr">61: </span>net.inet.tcp.recvspace=65536
<span class="linenr">62: </span>net.inet.tcp.sendbuf_inc=65536
<span class="linenr">63: </span>net.inet.tcp.sendbuf_max=2097152
<span class="linenr">64: </span>net.inet.tcp.sendspace=65536
<span class="linenr">65: </span>net.local.stream.recvspace=65536
<span class="linenr">66: </span>net.local.stream.sendspace=65536
</pre>
</div>

<p>
The next lines were added when I was experimenting with sleep on my
librebooted laptop. I couldn't get it to work properly¬†‚Äî the laptop still
sometimes overheats and shuts down due to ACPI temperature protection.
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">67: </span><span style="color: #93a1a1;">####################################################</span>
<span class="linenr">68: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Switch virtual consoles back and forth on suspend:</span>
<span class="linenr">69: </span><span style="color: #93a1a1;">####################################################</span>
<span class="linenr">70: </span>kern.vt.suspendswitch=0
<span class="linenr">71: </span>hw.acpi.sleep_delay=0
<span class="linenr">72: </span>hw.acpi.verbose=1
</pre>
</div>

<p>
After librebooting my laptop and suddenly finding that my RTC battery is
dead¬†‚Äî I force the kernel to save system time to the RTC on system shutdown:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">73: </span><span style="color: #93a1a1;">#######################</span>
<span class="linenr">74: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Save datetime to RTC:</span>
<span class="linenr">75: </span><span style="color: #93a1a1;">#######################</span>
<span class="linenr">76: </span>machdep.disable_rtc_set=0
</pre>
</div>

<p>
Of course, I replaced the dead battery with the new one, but because I'm using
the laptop in the places where the Internet may not exists¬†‚Äî I'm really
dependent on the right time value from the RTC chip.
</p>
</div>
</div>
<div id="outline-container-x-window-system" class="outline-2">
<h2 id="x-window-system">X Window System</h2>
<div class="outline-text-2" id="text-x-window-system">
<p>
I still use the X server in all my computers because ‚Ä¶ it just works and
requires minimal or no configuration itself (unless you need very special
features). I read a lot of comments on Reddit where people blame the X server
for requiring manual configuration, problems with video output, freezes,
crashes, and so on. But I have never experienced such problems with my Radeon,
NVidia and Intel integrated cards. The last time I was forced to configure X
server by hand was almost 2006-2007<sup><a id="fnr.slackware" class="footref" href="#fn.slackware" role="doc-backlink">3</a></sup>. The problems usually came with
video drivers in the extremely customized systems, like Gentoo with a custom
kernel and FreeBSD on the machine with a soldered-on 2K expansion board and 2K
display.
</p>

<p>
On my BSD box I have these lines in
<code>/usr/local/etc/X11/xorg.conf.d/10-intel.conf</code> to get the nice transparency and
other effects with picom:
</p>
<div class="org-src-container">
<pre class="src src-nil"><span class="linenr"> 1: </span>Section "Device"
<span class="linenr"> 2: </span>    Identifier  "Card0"
<span class="linenr"> 3: </span>    Driver      "intel"
<span class="linenr"> 4: </span>    BusID       "PCI:0:2:0"
<span class="linenr"> 5: </span>    Option      "Accel"        "true"
<span class="linenr"> 6: </span>    Option      "AccelMethod"  "SNA"
<span class="linenr"> 7: </span>    Option      "DRI"          "3"
<span class="linenr"> 8: </span>    Option      "TearFree"     "true"
<span class="linenr"> 9: </span>EndSection
<span class="linenr">10: </span>
<span class="linenr">11: </span>Section "Module"
<span class="linenr">12: </span>    Load        "dri3"
<span class="linenr">13: </span>EndSection
</pre>
</div>

<p>
Sometimes I use an external IBM¬†MU29J ball mouse with two buttons:
</p>

<p>
    <img alt="IBM black ball mouse" style="height: 100%; width: 100%;
        object-fit: cover" src="/assets/images/uses/mouse.jpg"/>
</p>

<p>
So I added the next configuration for the X server to
<code>/usr/local/etc/X11/xorg.conf.d/20-ibm.conf</code>. This allows me to press the left
and right buttons at the same time to simulate pressing the middle button.
</p>

<div class="org-src-container">
<pre class="src src-nil"><span class="linenr">1: </span>Section "InputClass"
<span class="linenr">2: </span>    Identifier "IBM MU29J Mouse"
<span class="linenr">3: </span>    Driver "libinput"
<span class="linenr">4: </span>    MatchDevicePath "/dev/input/event9"
<span class="linenr">5: </span>    Option "MiddleEmulation" "on"
<span class="linenr">6: </span>    Option "AccelProfile" "flat"
<span class="linenr">7: </span>    Option "AccelSpeed" "1.0"
<span class="linenr">8: </span>EndSection
</pre>
</div>

<p>
The path <code>/dev/input/event9</code> is taken from <code>/var/log/Xorg.0.log</code>¬†‚Äî it is printed
in this file after the mouse is connected.
</p>

<p>
The last custom configuration is a few lines to disable the touchpad when the
external mouse is connected and to send a click event when I tap on the
touchpad (it was disabled by default):
</p>

<div class="org-src-container">
<pre class="src src-nil"><span class="linenr">1: </span>Section "InputClass"
<span class="linenr">2: </span>    Identifier "X220 Touchpad"
<span class="linenr">3: </span>    MatchIsTouchpad "on"
<span class="linenr">4: </span>    MatchDevicePath "/dev/input/event*"
<span class="linenr">5: </span>    Driver "libinput"
<span class="linenr">6: </span>    Option "Tapping" "on"
<span class="linenr">7: </span>    Option "SendEventsMode" "disabled-on-external-mouse"
<span class="linenr">8: </span>EndSection
</pre>
</div>

<p>
I saved it as <code>/usr/local/etc/X11/xorg.conf.d/30-touchpad.conf</code> and after
restarting the X server, my touchpad automatically disables when the IBM mouse
is connected.
</p>
</div>
</div>
<div id="outline-container-power-management" class="outline-2">
<h2 id="power-management">Power management</h2>
<div class="outline-text-2" id="text-power-management">
<p>
To prolong life of the laptop when it's running on battery, I've just been
using the <a href="https://man.freebsd.org/cgi/man.cgi?powerd">powerd(8)</a> (this line from the <code>/etc/rc.conf</code>):
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #268bd2;">powerd_enable</span>=<span style="color: #2aa198;">"YES"</span>
</pre>
</div>

<p>
All necessary configuration are also placed in the <code>/etc/rc.conf</code>:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">35: </span><span style="color: #93a1a1;">######################</span>
<span class="linenr">36: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Power configuration:</span>
<span class="linenr">37: </span><span style="color: #93a1a1;">######################</span>
<span class="linenr">38: </span><span style="color: #268bd2;">powerd_flags</span>=<span style="color: #2aa198;">"-a hiadaptive -b adaptive -i 75 -N -M 2000"</span>
<span class="linenr">39: </span><span style="color: #268bd2;">performance_cx_lowest</span>=<span style="color: #2aa198;">"Cmax"</span>
<span class="linenr">40: </span><span style="color: #268bd2;">economy_cx_lowest</span>=<span style="color: #2aa198;">"Cmax"</span>
</pre>
</div>

<p>
Here I just select the <code>hiadaptive</code> mode when the laptop is running on AC power
and the <code>adaptive</code> mode when it is running on battery. As described in the
powerd man page:
</p>

<pre class="example">
hiadaptive  Like adaptive mode, but tuned for systems where performance
            and interactivity are more important than power consump-
            tion.  It increases frequency faster, reduces frequency
            less aggressively, and will maintain full frequency for
            longer.  May be abbreviated as hadp.
</pre>

<pre class="example">
adaptive    Attempt to strike a balance by degrading performance when
            the system appears idle and increasing it when the system
            is busy.  It offers a good balance between a small perfor-
            mance loss for greatly increased power savings.  May be ab-
            breviated as adp.
</pre>

<p>
Then I slightly increase the CPU load percent level at which powerd will start
to degrade performance to save the battery power. The default was at 50% and I
set it to the 75%.
</p>

<p>
And I set the maximum frequency that powerd will use to 2¬†GHz. Out of the box
my CPU can run at a maximum of 2.7¬†GHz, but I don't need so much computation
power, so I keep it at 2¬†GHz. The most CPU-intensive program¬†‚Äî Librewolf with
a YouTube video playing in a tab¬†‚Äî still works well with a 2¬†GHz CPU.
</p>

<p>
But I don't like it when my CPU is too hot (close to 50-60¬∞C) when I watch the
YouTube videos. So, in order to trade some silence for CPU temperature, I
install the <a href="https://github.com/claudiozz/bsdfan">bsdfan</a> utility. This little thing allows me to tweak the
temperature levels at which the fan starts spinning.
</p>

<p>
This daemon starts with these simple lines in <code>/etc/rc.local</code>:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #93a1a1;">#</span><span style="color: #93a1a1;">!/bin/</span><span style="color: #859900; font-weight: bold;">sh</span>

/usr/local/bin/bsdfan -d
</pre>
</div>

<p>
And to stop the daemon on system shutdown, these lines were added to the
<code>/etc/rc.shutdown.local</code>:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #93a1a1;">#</span><span style="color: #93a1a1;">!/bin/</span><span style="color: #859900; font-weight: bold;">sh</span>

/usr/bin/pkill bsdfan
</pre>
</div>

<p>
I use the default configuration file, placed in the <code>/usr/local/etc/bsdfan.conf</code>
with tweaked values that I choose experimentally:
</p>
<div class="org-src-container">
<pre class="src src-nil">#Levels are defined with: level(level_number, level_min_temperature, level_max_temperature)
#level_number goes from 0 (fan not active) to 7 (fan at full speed)
#not all levels have to be used

#the first level 'level_min_temperature' must be equal to 0 and the last level 'level_max_temperature' must be &gt;150
#please define levels in ascending order by level_number
#be careful

level (0,0,39)
level (1,38,46)
level (3,39,49)
level (4,44,51)
level (5,46,52)
level (7,49,32767)
</pre>
</div>
</div>
</div>
<div id="outline-container-networking" class="outline-2">
<h2 id="networking">Networking</h2>
<div class="outline-text-2" id="text-networking">
<p>
I have the two network interfaces on the laptop:
</p>
<ul class="org-ul">
<li><code>em0</code>¬†‚Äî the Ethernet card</li>
<li><code>wlan0</code>¬†‚Äî the WiFi card.</li>
</ul>

<p>
Speaking of Ethernet it's pretty easy to configure. Just ask the DHCP server
for the network configuration and do it in the background so the system
doesn't wait at boot time if it's not connected to any networks:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">41: </span><span style="color: #93a1a1;">########################</span>
<span class="linenr">42: </span><span style="color: #93a1a1;"># </span><span style="color: #93a1a1;">Network configuration:</span>
<span class="linenr">43: </span><span style="color: #93a1a1;">########################</span>
<span class="linenr">44: </span><span style="color: #268bd2;">ifconfig_em0</span>=<span style="color: #2aa198;">"DHCP"</span>
<span class="linenr">45: </span><span style="color: #268bd2;">ifconfig_em0_descr</span>=<span style="color: #2aa198;">"Ethernet"</span>
<span class="linenr">46: </span><span style="color: #268bd2;">background_dhclient</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">47: </span><span style="color: #268bd2;">background_dhclient_em0</span>=<span style="color: #2aa198;">"YES"</span>
<span id="coderef-rc-conf-route-delay" class="coderef-off"><span class="linenr">48: </span><span style="color: #268bd2;">defaultroute_delay</span>=<span style="color: #2aa198;">"0"</span></span>
</pre>
</div>

<p>
Line¬†<a href="#coderef-rc-conf-route-delay" class="coderef" onmouseover="CodeHighlightOn(this, 'coderef-rc-conf-route-delay');" onmouseout="CodeHighlightOff(this, 'coderef-rc-conf-route-delay');">48</a> tells the system not to wait at boot while the
interface(s) are getting address(es) from DHCP¬†‚Äî it's also to speed up booting
when there are no networks.
</p>

<p>
The WiFi configuration is much trickier. Since I'm using an Intel 8260 WiFi
card<sup><a id="fnr.4" class="footref" href="#fn.4" role="doc-backlink">4</a></sup>, I can't (for now<sup><a id="fnr.freebsd-wifi" class="footref" href="#fn.freebsd-wifi" role="doc-backlink">5</a></sup>) rely on the default FreeBSD
drivers if I want to use the new enough IEEE¬†802.11 standards. So I start
using the <a href="https://github.com/pgj/freebsd-wifibox">wifibox</a>:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span style="color: #268bd2;">wifibox_enable</span>=<span style="color: #2aa198;">"YES"</span>
</pre>
</div>

<p>
The system-side configuration is quite simple, and copies the configuration
for the <code>em0</code> interface:
</p>

<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">49: </span><span style="color: #268bd2;">ifconfig_wifibox0_descr</span>=<span style="color: #2aa198;">"WiFi (wifibox)"</span>
<span class="linenr">50: </span><span style="color: #268bd2;">ifconfig_wifibox0</span>=<span style="color: #2aa198;">"SYNCDHCP"</span>
<span class="linenr">51: </span><span style="color: #268bd2;">background_dhclient_wifibox0</span>=<span style="color: #2aa198;">"YES"</span>
</pre>
</div>

<p>
The configuration of the wifibox is well described in it's documentation and I
won't write about it here.
</p>
</div>
<div id="outline-container-usb-tethering" class="outline-3">
<h3 id="usb-tethering">USB tethering</h3>
<div class="outline-text-3" id="text-usb-tethering">
<p>
After reading the FreeBSD Handbook for the nth time, I found a few sentences
about USB tethering.
</p>

<p>
Back in the days, then phones didn't have the "smart" prefix, I used the cable
to connect my laptop to the Internet with my phone. The setup looks like this:
</p>
<ul class="org-ul">
<li>The phone connects to the Internet via the GPRS</li>
<li>The laptop connects to the phone via the USB cable</li>
<li>The driver in the OS (Linux) sees the phone as a usual modem (from the
dial-up era, of course).</li>
<li>Then the laptop can connect to the Internet via the <code>ppp</code>, just like in the
old days of 56K.</li>
</ul>

<p>
Times have changed and now smartphones can share their Internet connection via
WiFi. I have used this feature for some time. It has some advantages¬†‚Äî for
example, if the WiFi interface is already configured on the system, then the
user should just connect to the right AP with the right password as usual to
connect to the Internet. There are also some disadvantages¬†‚Äî the WiFi AP is
visible to everyone and the radio transmission drains the batteries of both
the laptop and the phone.
</p>

<p>
So I decided to experiment with USB tethering on the modern system to extend
the battery life and reduce the EMR for my devices. I used the Android phone,
other phones should use the different kernel modules<sup><a id="fnr.tethering-modules" class="footref" href="#fn.tethering-modules" role="doc-backlink">6</a></sup>.
</p>

<p>
On the FreeBSD side, the configuration is simple¬†‚Äî I've just added the next
lines to <code>/etc/rc.conf</code> and rebooted:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span class="linenr">52: </span><span style="color: #268bd2;">if_urndis_load</span>=<span style="color: #2aa198;">"YES"</span>
<span class="linenr">53: </span><span style="color: #268bd2;">ifconfig_ue0</span>=<span style="color: #2aa198;">"DHCP"</span>
<span class="linenr">54: </span><span style="color: #268bd2;">ifconfig_ue0_descr</span>=<span style="color: #2aa198;">"Motorola Defy (tethering)"</span>
</pre>
</div>

<p>
On the phone side, the configuration is much easier¬†‚Äî just connect the phone
to the laptop with the USB cable and select "USB tethering" in the
notification area.
</p>

<p>
After that, the <code>dmesg</code> should show that the OS has recognized the device as a
USB Ethernet peripheral:
</p>
<pre class="example">
ugen1.2: &lt;unknown TrebleDroid vanilla&gt; at usbus1
ugen1.2: &lt;unknown TrebleDroid vanilla&gt; at usbus1 (disconnected)
ugen1.2: &lt;unknown TrebleDroid vanilla&gt; at usbus1
urndis0 on uhub0
urndis0: &lt;unknown TrebleDroid vanilla, class 0/0, rev 2.00/4.19, addr 1&gt; on usbus1
ue0: &lt;USB Ethernet&gt; on urndis0
ue0: Ethernet address: 16:b5:c1:e6:61:58
</pre>

<p>
Then, to establish the connection through the new interface, the following
commands can be issued:
</p>
<pre class="example">
# service netif restart ue0
# service dhclient restart ue0
</pre>

<p>
I wrote a simple script to connect over the phone without typing a lot of
commands:
</p>
<div class="org-src-container">
<pre class="src src-shell"><span style="color: #93a1a1;">#</span><span style="color: #93a1a1;">!/usr/bin/</span><span style="color: #859900; font-weight: bold;">env</span><span style="color: #93a1a1;"> zsh</span>

<span style="color: #859900; font-weight: bold;">if</span> [ -f /usr/bin/x11-ssh-askpass ]; <span style="color: #859900; font-weight: bold;">then</span>
    <span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">SUDO_ASKPASS</span>=<span style="color: #2aa198;">"/usr/bin/x11-ssh-askpass"</span>
<span style="color: #859900; font-weight: bold;">elif</span> [ -f /usr/local/bin/x11-ssh-askpass ]; <span style="color: #859900; font-weight: bold;">then</span>
    <span style="color: #657b83; font-weight: bold;">export</span> <span style="color: #268bd2;">SUDO_ASKPASS</span>=<span style="color: #2aa198;">"/usr/local/bin/x11-ssh-askpass"</span>
<span style="color: #859900; font-weight: bold;">else</span>
    <span style="color: #859900; font-weight: bold;">exit</span> 1
<span style="color: #859900; font-weight: bold;">fi</span>

<span style="color: #859900; font-weight: bold;">case</span> $(<span style="color: #657b83; font-weight: bold;">echo</span> <span style="color: #2aa198;">"disable wifi:phone connect:phone disconnect"</span> | rofi -dpi 0 -dmenu -sep <span style="color: #2aa198;">":"</span> -p <span style="color: #2aa198;">"Select"</span>) <span style="color: #859900; font-weight: bold;">in</span>
    <span style="color: #2aa198;">"disable wifi"</span>)
        sudo -A service wifibox stop
        ;;
    <span style="color: #2aa198;">"phone connect"</span>)
        sudo -A service netif stop em0
        sudo -A service wifibox stop
        sudo -A service netif restart ue0
        sudo -A service dhclient restart ue0
        ;;
    <span style="color: #2aa198;">"phone disconnect"</span>)
        sudo -A service netif restart
        sudo -A service wifibox restart
        sudo -A service dhclient restart em0
        sudo -A service dhclient restart wifibox0
        ;;
<span style="color: #859900; font-weight: bold;">esac</span>
</pre>
</div>

<p>
This code displays a rofi menu with the three items and runs the appropriate
commands with sudo. The sudo will ask for a password using the askpass facility and
then execute the necessary set of commands to enable/disable network
interfaces.
</p>
</div>
</div>
</div>
<div id="outline-container-storage" class="outline-2">
<h2 id="storage">Storage</h2>
<div class="outline-text-2" id="text-storage">
<p>
Let's review my storage-specific configuration. As you can see from the <a href="#etc-rc-conf">/etc/rc.conf</a> section, I'm using the <a href="https://man.freebsd.org/cgi/man.cgi?query=autofs&amp;sektion=5&amp;format=html">autofs(5)</a> to automount the removable USB
drives with the next (default) configuration in the <code>/etc/auto_master</code>:
</p>
<pre class="example">
#
# Automounter master map, see auto_master(5) for details.
#
/net		-hosts		-nobrowse,nosuid,intr
# When using the -media special map, make sure to edit devd.conf(5)
# to move the call to "automount -c" out of the comments section.
/media		-media		-nosuid
</pre>

<p>
As you can see from the output of the <code>zpool status zroot</code> command at the top of
the post¬†‚Äî I am using two disks in a pool for the root filesystem. Some data
is written to the 500¬†Gb SSD and some is written to the 150¬†Gb SSD:
</p>
<pre class="example">
# zpool iostat -v zroot
                capacity     operations     bandwidth
pool          alloc   free   read  write   read  write
------------  -----  -----  -----  -----  -----  -----
zroot         97.1G   482G     59     17  6.26M   622K
  ada0p3.eli  35.3G  99.7G     21      7  2.26M   231K
  ada2p3.eli  61.9G   382G     38     10  3.99M   391K
------------  -----  -----  -----  -----  -----  -----
</pre>

<p>
There is no redundancy¬†‚Äî if one disk fails, the entire root filesystem
fails. So backups a very important to me.
</p>

<p>
ZFS comes to the rescue here! To make a snapshot of the root filesystem, I use
the next command (after the <code>@</code> symbol you can add any string you like, usually
the timestamp):
</p>
<pre class="example">
# zfs snapshot -r zroot@2025-03-09
</pre>

<p>
To check which snapshot was created, I use the next command for the <code>zroot</code>
mounted on the <code>/</code>:
</p>
<pre class="example">
% s ls -ls /.zfs/snapshot
total 255
17 drwxr-xr-x  20 root wheel   26B Jun 26  2024 2024-06-26-21:56:36-0/
17 drwxr-xr-x  20 root wheel   26B Jun 26  2024 2024-06-26-22:36:03-0/
17 drwxr-xr-x  20 root wheel   26B Jun 26  2024 2024-06-26-22:39:36-0/
17 drwxr-xr-x  20 root wheel   26B Jun 27  2024 2024-06-26-22:48:38-0/
17 drwxr-xr-x  20 root wheel   26B Aug 23  2024 2024-08-23-17:11:49-0/
17 drwxr-xr-x  20 root wheel   26B Sep  5  2024 2024-09-05-08:32:00-0/
17 drwxr-xr-x  20 root wheel   26B Oct 10 10:29 2024-10-10-10:58:23-0/
17 drwxr-xr-x  22 root wheel   28B Oct 30 20:09 2024-10-30-21:48:22-0/
17 drwxr-xr-x  22 root wheel   28B Jan 26 14:59 2025-01-26-17:15:24-0/
17 drwxr-xr-x  22 root wheel   28B Jan 26 17:17 2025-01-26-17:18:53-0/
17 drwxr-xr-x  22 root wheel   28B Feb  4 21:18 2025-02-04-21:20:58-0/
17 drwxr-xr-x  22 root wheel   28B Feb 10 01:32 2025-02-10-02:16:57-0/
17 drwxr-xr-x  22 root wheel   28B Feb 25 00:30 2025-02-25-00:45:45-0/
17 drwxr-xr-x  22 root wheel   28B Mar  9 10:40 2025-03-09/
17 drwxr-xr-x  21 root wheel   27B Oct 27 01:45 backup_recursive_2024-10-27/
</pre>

<p>
As you can see, there are a lot of outdated backups, mostly created by the
<code>freebsd-update</code> utility. I remove them with the <code>zfs destroy</code> command:
</p>
<pre class="example">
# zfs destroy -R zroot@backup_recursive_2024-10-27
# zfs destroy -R zroot/ROOT/default@2024-06-26-21:56:36-0
# zfs destroy -R zroot/ROOT/default@2024-06-26-22:36:03-0
# zfs destroy -R zroot/ROOT/default@2024-06-26-22:39:36-0
...
</pre>

<p>
After that, the only one (current) snapshot remains in the system:
</p>
<pre class="example">
# zfs list -r -t snapshot
NAME                            USED  AVAIL  REFER  MOUNTPOINT
zroot@2025-03-09                  0B      -    96K  -
zroot/ROOT@2025-03-09             0B      -    96K  -
zroot/ROOT/default@2025-03-09     0B      -  43.6G  -
zroot/home@2025-03-09             0B      -  49.9G  -
zroot/tmp@2025-03-09              0B      -   224K  -
zroot/usr@2025-03-09              0B      -    96K  -
zroot/usr/ports@2025-03-09        0B      -  2.65G  -
zroot/usr/src@2025-03-09          0B      -   857M  -
zroot/var@2025-03-09              0B      -    96K  -
zroot/var/audit@2025-03-09        0B      -   360K  -
zroot/var/crash@2025-03-09        0B      -    96K  -
zroot/var/log@2025-03-09          0B      -  3.93M  -
zroot/var/mail@2025-03-09         0B      -   576K  -
zroot/var/tmp@2025-03-09          0B      -   104K  -
# ls -ls /.zfs/snapshot
total 17
17 drwxr-xr-x  22 root wheel   28B Mar  9 10:40 2025-03-09/
</pre>

<p>
Restoring from this snapshot can be done with the:
</p>
<pre class="example">
# zfs rollback zroot@2025-03-09
</pre>

<p>
Snapshot can also be sent anywhere with the:
</p>
<pre class="example">
# zfs send zroot@2025-03-09 | send_it_somewhere
</pre>

<p>
or:
</p>

<pre class="example">
# zfs send zroot@2025-03-09 &gt; /backup/2025-03-09-zroot.snap
</pre>

<p>
To check the health of my disks and to verify the checksums of the files in my
pools, here are the next set of commands:
</p>
<pre class="example">
 $ zpool status -x
all pools are healthy
# zpool scrub zroot
# zpool scrub hdd
</pre>

<p>
The last two commands start a lot of heavy I/O operations, so don't launch
them if the system is already using the disks intensively! Estimates and
results of the scrubbing operation can be viewed using the <code>zpool status</code>
command.
</p>

<p>
The FreeBSD Handbook recommends launch scrubbing at least once a month.
</p>
</div>
</div>
<div id="outline-container-fingerprint-scanner" class="outline-2">
<h2 id="fingerprint-scanner">Fingerprint scanner</h2>
<div class="outline-text-2" id="text-fingerprint-scanner">
<p>
Some day, some time, I decided to configure fingerprint scanner on my
laptop. Many years ago I wrote an article about libfprint for IBM Portal, so I
thought that setting up fingerprint service will not be so difficult.
</p>


<div class="figure">
<p><img src="/assets/static/fingerprint_scanner.jpg" alt="fingerprint scanner with turned on green LED on the left" align="center" width="50%" />
</p>
<p style="text-align: center"><i>Thinkpad X220 fingerprint scanner</i></p>
</div>

<p>
As a starting documentation I take the next blog post:
<a href="https://hauweele.net/~gawen/blog/?p=408">https://hauweele.net/~gawen/blog/?p=408</a> and slightly modify some steps to fit
them to my system:
</p>

<ol class="org-ol">
<li><p>
First, I install all the necessary packages:
</p>
<pre class="example">
pkg install fprintd libfprint
</pre></li>
<li><p>
Then, I add my user to the <code>fprint</code> group to access the scanner device
without elevating to root:
</p>
<pre class="example">
pw groupadd fprint
pw groupmod fprint -m drag0n
</pre></li>
<li><p>
To get the correct permissions on the device file itself, I play with
<code>devd</code>¬†‚Äî create the file <code>/usr/local/etc/devd/fingerprint.conf</code> and add the
following lines:
</p>
<pre class="example">
notify 100 {
    match "system"      "USB";
    match "subsystem"   "DEVICE";
    match "type"        "ATTACH";
    match "vendor"      "0x147e";
    match "product"     "0x2016";
    action "chown drag0n:fprint /dev/$cdev &amp;&amp; chmod 660 /dev/$cdev";
};
</pre>

<p>
After that I reboot the system to apply the new settings.
</p></li>
<li><p>
Then, I ran into the D-Bus-related problemsü§Æ. The <code>libfprint</code> utilities
communicate with the daemon via D-Bus and my user can't connect to the
daemon via it.
</p>

<p>
I don't use D-Bus in my system¬†‚Äî I only have it to work with the <a href="https://dunst-project.org/">dunst
notification daemon</a>. There is a lightweight replacement for the big
notification daemons of a large desktop environments, which I obviously
don't use either. It works fine for me out of the box.
</p>

<p>
But it is not a case of <code>libfprint</code> utilities. So I've added the next lines
to <code>/usr/local/share/dbus-1/system.d/net.reactivated.Fprint.conf</code>:
</p>

<pre class="example">
&lt;policy user="drag0n"&gt;
  &lt;allow own="net.reactivated.Fprint"/&gt;
&lt;/policy&gt;
</pre></li>
<li><p>
And finally it's time to use fingerprints instead of passwords! Because I'm
a bit paranoid, I don't want to use fingerprints instead of a login
password or any other high-value passwords (like a password to unlock a GPG
key). Obviously, if I do that, then <i>some</i> bad actors can forcibly roll my
finger on the scanner and get access to my system.
</p>

<p>
So, I decide to use fingerprint instead of password only with <code>sudo</code>. If I'm
already logged in and someone catches me and forcibly rolls my finger¬†‚Äî
then I'm <b>already</b> <i>sooo fucked up</i> before that event!
</p>

<p>
To use the fingerprint scanner with <code>sudo</code>, I've just added this line to the
top of the file <code>/usr/local/etc/pam.d/sudo</code>:
</p>

<pre class="example">
auth       sufficient  /usr/local/lib/security/pam_fprintd.so
</pre></li>
<li>Finally, I soft reboot the system with <code>reboot -r</code> and enroll my finger with
the <code>sudo fprintd-enroll drag0n</code> command. To verify that the finger was
successfully scanned, I killed the <code>fprintd</code> daemon and verified the finger
with the <code>fprintd-verify</code> command.</li>
</ol>

<p>
Now, <code>sudo</code> asks me for my finger first and then asks for the password after
three failed attempts to get a proper fingerprint:
</p>
<pre class="example">
~ % sudo uname
Swipe your right index finger across the fingerprint reader
Your finger was not centered, try swiping your finger again
FreeBSD
</pre>
</div>
</div>
<div id="outline-container-files-to-download" class="outline-2">
<h2 id="files-to-download">Files to download</h2>
<div class="outline-text-2" id="text-files-to-download">
<ul class="org-ul">
<li><a href="/assets/static/loader.conf.txt">/boot/loader.conf</a></li>
<li><a href="/assets/static/rc.conf.txt">/etc/rc.conf</a></li>
<li><a href="/assets/static/sysctl.conf.txt">/etc/sysctl.conf</a></li>
<li><a href="/assets/static/10-intel.conf.txt">/usr/local/etc/X11/xorg.conf.d/10-intel.conf</a></li>
<li><a href="/assets/static/20-ibm.conf.txt">/usr/local/etc/X11/xorg.conf.d/20-ibm.conf</a></li>
<li><a href="/assets/static/30-touchpad.conf.txt">/usr/local/etc/X11/xorg.conf.d/30-touchpad.conf</a></li>
<li><a href="/assets/static/bsdfan.conf.txt">/usr/local/etc/bsdfan.conf</a></li>
<li><a href="/assets/static/phone-connect.sh.txt">phone-connect.sh</a></li>
</ul>
</div>
</div>
<div id="outline-container-notes" class="outline-2">
<h2 id="notes">Notes</h2>
<div class="outline-text-2" id="text-notes">
</div>
</div>
<div id="footnotes">

<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.modesetting-wiki" class="footnum" href="#fnr.modesetting-wiki" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://en.wikipedia.org/wiki/Mode_setting">https://en.wikipedia.org/wiki/Mode_setting</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.dtrace-internal" class="footnum" href="#fnr.dtrace-internal" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
For example, it is possible to call <code>panic()</code> via DTrace.
</p></div></div>

<div class="footdef"><sup><a id="fn.slackware" class="footnum" href="#fnr.slackware" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
In these times I used Slackware (MOPSLinux) and <code>Xconfigure</code>
generates wrong <code>/etc/X11/xorg.conf</code> for my AGP video card and CRT monitor, so I
was forced to write it by hands with proper monitor description and
proprietary driver's section included.
</p>

<p class="footpara">
<a href="https://eugene-andrienko.com/en/it/2024/01/02/life-in-console">https://eugene-andrienko.com/en/it/2024/01/02/life-in-console</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.4" class="footnum" href="#fnr.4" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
TL-8260D2W
</p></div></div>

<div class="footdef"><sup><a id="fn.freebsd-wifi" class="footnum" href="#fnr.freebsd-wifi" role="doc-backlink">5</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://freebsdfoundation.org/blog/why-laptop-support-why-now-freebsds-strategic-move-toward-broader-adoption/">Why laptop support, why now: FreeBSD‚Äôs strategic move toward
broader adoption</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.tethering-modules" class="footnum" href="#fnr.tethering-modules" role="doc-backlink">6</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
See the documentation:
<a href="https://docs.freebsd.org/en/books/handbook/advanced-networking/#network-usb-tethering">https://docs.freebsd.org/en/books/handbook/advanced-networking/#network-usb-tethering</a>
</p></div></div>


</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="it" /><category term="freebsd" /><category term="thinkpad" /><summary type="html"><![CDATA[Since I've wrote post about my specific FreeBSD settings for Thinkpad X220 near 5 years have passed. That post has a lot of additions and become a bit messy. So, after I updated FreeBSD on my laptop up to 14.2 version and finally found some time to carefully read a "FreeBSD handbook", I decided to write a new article about my configuration and about few useful utilities and tricks.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/freebsd14-2-thinkpad.jpg" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/freebsd14-2-thinkpad.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">LineageOS 21 –Ω–∞ Motorola Defy (2021)</title><link href="https://eugene-andrienko.com/it/2025/02/08/motorola-defy-2021-lineage-os.html" rel="alternate" type="text/html" title="LineageOS 21 –Ω–∞ Motorola Defy (2021)" /><published>2025-02-08T00:00:00+03:00</published><updated>2025-02-08T00:00:00+03:00</updated><id>https://eugene-andrienko.com/it/2025/02/08/motorola-defy-2021-lineage-os</id><content type="html" xml:base="https://eugene-andrienko.com/it/2025/02/08/motorola-defy-2021-lineage-os.html"><![CDATA[<p>
–í–æ—Ç —É–∂–µ –æ–∫–æ–ª–æ 3 –ª–µ—Ç —è –ø–æ–ª—å–∑—É—é—Å—å —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–º <a href="https://www.gsmarena.com/motorola_defy_(2021)-10969.php">Motorola Defy (2021)</a>. –≠—Ç–æ –æ–¥–∏–Ω –∏–∑
–Ω–µ–º–Ω–æ–≥–∏—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ <a href="https://en.wikipedia.org/wiki/IP_code#Code_breakdown">IP68</a>, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ
–≤—ã–¥–µ–ª—è–µ—Ç—Å—è —Å–≤–æ–µ–π —Ç–æ–ª—â–∏–Ω–æ–π –∏ –≤–ª–µ–∑–∞–µ—Ç –≤ –æ–±—ã—á–Ω—ã–π –∫–∞—Ä–º–∞–Ω. –°–æ —Å—Ç–æ—Ä–æ–Ω—ã –∫–∞–∂–µ—Ç—Å—è –±—É–¥—Ç–æ
—ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–±—ã—á–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —á–µ—Ö–ª–µ, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –Ω–µ —á–µ—Ö–æ–ª, –∞ –∫–æ—Ä–ø—É—Å
—Å–∞–º–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
</p>

<p>
–ó–∞ 3 –≥–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —è –º–Ω–æ–≥–æ —Ä–∞–∑ –ø—Ä–æ–≤–µ—Ä—è–ª –µ–≥–æ –∑–∞—â–∏—â—ë–Ω–Ω–æ—Å—Ç—å:
</p>
<ul class="org-ul">
<li>–†–æ–Ω—è–ª –±–æ–∫–æ–º –Ω–∞ –∫–∞—Ñ–µ–ª—å–Ω—ã–π –ø–æ–ª –∏ –Ω–∞ –∞—Å—Ñ–∞–ª—å—Ç.</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø–æ–¥ –¥–æ–∂–¥—ë–º –∏ –≤ —É—Å–ª–æ–≤–∏—è—Ö –∫—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–æ–π –≤–ª–∞–∂–Ω–æ—Å—Ç–∏.</li>
<li>–†–æ–Ω—è–ª –¥–∏—Å–ø–ª–µ–µ–º –≤–Ω–∏–∑ –Ω–∞ –∫–∞—Ñ–µ–ª—å–Ω—ã–π –ø–æ–ª.</li>
<li>–†–æ–Ω—è–ª –¥–∏—Å–ø–ª–µ–µ–º –≤–Ω–∏–∑ –Ω–∞ –∞—Å—Ñ–∞–ª—å—Ç, –ø—Ä—è–º–æ –≤ –ª—É–∂—É.</li>
</ul>

<p>
–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞¬†‚Äî –Ω–µ–±–æ–ª—å—à–∞—è –≤–º—è—Ç–∏–Ω–∞ –Ω–∞ —É–≥–ª—É,
–∫–æ–≥–¥–∞ —è —É—Ä–æ–Ω–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω –≤—ã—Ö–æ–¥—è –∏–∑ –º–∞—à–∏–Ω—ã.
</p>

<p>
–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ –º–æ–≥—É –ø–æ—Ö–≤–∞–ª–∏—Ç—å —Ç–µ–º–∏ –∂–µ —Å–ª–æ–≤–∞–º–∏ software –≤–Ω—É—Ç—Ä–∏
—Ç–µ–ª–µ—Ñ–æ–Ω–∞. –í–Ω—É—Ç—Ä–∏ –µ—Å—Ç—å –Ω–µ–Ω—É–∂–Ω–æ–µ –º–Ω–µ (–Ω–æ –Ω–µ —É–¥–∞–ª—è–µ–º–æ–µ) –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
–ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –ø–æ–≥–æ–¥—ã –æ—Ç Motorola. –ò –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –Ω–µ—É–¥–∞–ª—è–µ–º—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –æ—Ç Google,
–∫–æ—Ç–æ—Ä—ã–π —è –ª–∏–±–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é, –ª–∏–±–æ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ –Ω–µ –º–æ–≥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –≤ —Å–∏–ª—É
–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –†–§ (–Ω–∞–ø—Ä–∏–º–µ—Ä Google Pay).
</p>

<p>
–¢–∞–∫–∂–µ, –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —è –≤–æ—à—ë–ª –≤ —Å–≤–æ–π Google-–∞–∫–∫–∞—É–Ω—Ç —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞¬†‚Äî –º–∞–≥–∞–∑–∏–Ω
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Google Play —Å–æ—à—ë–ª —Å —É–º–∞ –∏ –Ω–∞—á–∞–ª —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∫—É—á—É –Ω–µ–Ω—É–∂–Ω—ã—Ö –º–Ω–µ
—Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: –ì–æ—Å—É—Å–ª—É–≥–∏, –í–ö, –û–¥–Ω–æ–∫–ª–∞—Å—Å–Ω–∏–∫–∏, —á—É—Ç—å –ª–∏ –Ω–µ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–Ø–Ω–¥–µ–∫—Å–∞, MirPay –∏ –≤—Ä–æ–¥–µ –±—ã –¥–∞–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç –°–±–µ—Ä–ë–∞–Ω–∫–∞. –ö —Å—á–∞—Å—Ç—å—é,
–æ–Ω–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏—Å—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏—Ö –±—ã–ª–æ –ª–µ–≥–∫–æ —É–¥–∞–ª–∏—Ç—å.
</p>

<p>
–ë–æ–ª—å—à—É—é —á–∞—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª FOSS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ F-Droid –∏ –≥–æ—Ä—è –Ω–µ
–∑–Ω–∞–ª. –ù–æ, –∫–∞–∫ —ç—Ç–æ –æ–±—ã—á–Ω–æ –±—ã–≤–∞–µ—Ç, –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø—Ä–∏–ª–µ—Ç–µ–ª–æ –æ—á–µ—Ä–µ–¥–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
–æ—Ç Google, –Ω–∞—á–∞–ª–∏—Å—å –ø—Ä–æ–±–ª–µ–º—ã. –ò–Ω–æ–≥–¥–∞, –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–æ—Ç —Ç–∞–∫–æ–µ ¬´–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–µ–µ¬ª –æ–∫–Ω–æ –æ—Ç Google Safety Net:
</p>


<div class="figure">
<p><img src="/assets/static/google_play_protect.png" alt="Google safety warning than installing applications from F-Droid" align="center" width="25%" />
</p>
</div>

<p>
–í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, –ø–æ–¥–æ–±–Ω–æ–µ ¬´–∑–∞–±–æ—Ç–ª–∏–≤–æ–µ¬ª –ø–æ–≤–µ–¥–µ–Ω–∏–µ Google –º–Ω–µ –Ω–∞–¥–æ–µ–ª–æ. –ó–∞–æ–¥–Ω–æ,
—Ö–æ—Ç–µ–ª–æ—Å—å –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç —Ä—è–¥–∞ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –ø–æ–ª—É—á–∏—Ç—å
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ F-Droid –Ω–∞–∂–∞—Ç–∏–µ–º –æ–¥–Ω–æ–π
–∫–Ω–æ–ø–∫–∏, –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –¥–∏–∞–ª–æ–≥–æ–≤–æ–≥–æ –æ–∫–Ω–∞ –æ—Ç Android: ¬´–∞ –≤—ã —Ç–æ—á–Ω–æ
—Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?¬ª
</p>

<p>
–Ø –∑–Ω–∞–ª, —á—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤—Å—ë –∂–µ–ª–∞–µ–º–æ–µ, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω—É—é
—Å–±–æ—Ä–∫—É Android –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω¬†‚Äî –≥–ª–∞–≤–Ω–æ–µ —á—Ç–æ–±—ã –æ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∞ –∂–µ–ª–µ–∑–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–ª–∞ –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é root. –ü–æ—Å–∫–æ–ª—å–∫—É —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–µ –æ—á–µ–Ω—å
–ø–æ–ø—É–ª—è—Ä–Ω—ã–π¬†‚Äî <a href="https://grapheneos.org/">GrapheneOS</a>, <a href="https://postmarketos.org/">postmarketOS</a> –∏ –ø—Ä–æ—á–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, –∏–∑–≤–µ—Å—Ç–Ω—ã–µ
–≤ —É–∑–∫–∏—Ö –∫—Ä—É–≥–∞—Ö, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∏ –µ–≥–æ –∂–µ–ª–µ–∑–æ.
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, –Ω–∞ —Ñ–æ—Ä—É–º–µ XDA Developers, <a href="https://xdaforums.com/f/motorola-defy-2021.12369/">–≤ —Ä–∞–∑–¥–µ–ª–µ</a> –ø–æ—Å–≤—è—â—ë–Ω–Ω–æ–º Motorola Defy
(2021) –Ω–∞—à–ª–∏—Å—å –∫–æ–µ-–∫–∞–∫–∏–µ —Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –º–Ω–µ –ø–æ–º–æ—á—å.
</p>
<div class="outline-2">
<h2>TOC&#xa0;&#xa0;&#xa0;<span class="tag"></span></h2>
<div class="outline-text-2">
<ul class="org-ul">
<li><a href="#preparations">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–µ—Ä–µ–ø—Ä–æ—à–∏–≤–∫–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞</a></li>
<li><a href="#bootloader-unlock">–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞</a></li>
<li><a href="#system-software-reflash">–ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –≤—Å–µ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ü–û</a></li>
<li><a href="#lineage-os-install">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Lineage OS</a></li>
<li><a href="#android-root">–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é root</a></li>
<li><a href="#4g-calls-sms">–ó–≤–æ–Ω–∫–∏ –∏ –°–ú–° —Å 4G</a></li>
<li><a href="#disable-floating-shit-on-copy">–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–π –µ—Ä—É–Ω–¥—ã –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞</a></li>
<li><a href="#turn-off-usb-debugging">–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏ –ø–æ USB</a></li>
<li><a href="#root-apps">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–µ–Ω root</a>
<ul class="org-ul">
<li><a href="#appstores">–ú–∞–≥–∞–∑–∏–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</a></li>
<li><a href="#firewall">Firewall (AFWall+)</a></li>
<li><a href="#adblocker">System-wide –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ä–µ–∫–ª–∞–º—ã (AdAway)</a></li>
<li><a href="#acca">AccA¬†‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ä—è–¥–∫–æ–π/—Ä–∞–∑—Ä—è–¥–∫–æ–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞</a></li>
<li><a href="#colorblendr">–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã (ColorBlendr)</a></li>
<li><a href="#sdmaid2se">SD Maid 2/SE¬†‚Äî –æ—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ç –º—É—Å–æ—Ä–∞</a></li>
</ul></li>
<li><a href="#backups">–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
<ul class="org-ul">
<li><a href="#neobackup">Neo Backup</a></li>
<li><a href="#flash-memory-backup">–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ flash-–ø–∞–º—è—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞</a></li>
</ul></li>
<li><a href="#bugs">BUGS</a></li>
<li><a href="#notes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</a></li>
</ul>
</div>
</div>
<div id="outline-container-preparations" class="outline-2">
<h2 id="preparations">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø–µ—Ä–µ–ø—Ä–æ—à–∏–≤–∫–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h2>
<div class="outline-text-2" id="text-preparations">
<p>
–í –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å, —è —Å–¥–µ–ª–∞–ª —Å–ø–∏—Å–æ–∫ –Ω—É–∂–Ω—ã—Ö –º–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ, —á—Ç–æ–±—ã
—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Ö –≤ –Ω–æ–≤—É—é –û–°. –ü–æ—Ç–æ–º, –∑–∞–±–µ–∫–∞–ø–∏–ª –≤–∞–∂–Ω—ã–µ –¥–ª—è –º–µ–Ω—è –¥–∞–Ω–Ω—ã–µ, –±–ª–∞–≥–æ
–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ FOSS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
</p>

<p>
–¢–∞–∫–∂–µ, –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π, —è –ø–µ—Ä–µ–ø–∏—Å–∞–ª –Ω–∞ –±—É–º–∞–∂–∫—É —Å–≤–æ–π IMEI¬†‚Äî –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏ –æ–Ω –Ω–µ
–ø—Ä–∏–≥–æ–¥–∏–ª—Å—è, –Ω–æ —Å–∞–º–æ –Ω–∞–ª–∏—á–∏–µ —Ç–∞–∫–æ–π –±—É–º–∞–∂–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ—Ä–≤–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫.
</p>

<p>
–î–ª—è –ø–µ—Ä–µ–ø—Ä–æ—à–∏–≤–∫–∏ —Å–æ —Å—Ç–æ–∫–æ–≤–æ–≥–æ Android'–∞ –Ω–∞ LineageOS –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–∞—Å—å –≤—Å–µ–≥–æ –ø–∞—Ä–∞
—É—Ç–∏–ª–∏—Ç, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞ PC:
</p>
<ol class="org-ol">
<li><a href="https://developer.android.com/tools/adb">adb</a> (<code>dev-util/android-tools</code> –≤ Gentoo)¬†‚Äî –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫
—Ä–∞–∑–ª–∏—á–Ω—ã–º, —Å–∫—Ä—ã—Ç—ã–º –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º, –∏ –¥–ª—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –Ω–µ –≤
–æ—Å–Ω–æ–≤–Ω—É—é –û–°, –∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤–æ —Ñ–ª–µ—à-–ø–∞–º—è—Ç–∏
—Ç–µ–ª–µ—Ñ–æ–Ω–∞.</li>
<li><a href="https://en.wikipedia.org/wiki/Fastboot">fastboot</a> (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ —Ç–æ–º –∂–µ –ø–∞–∫–µ—Ç–µ, —á—Ç–æ –∏ adb)¬†‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç
–ø–µ—Ä–µ–ø—Ä–æ—à–∏–≤–∞—Ç—å —Ñ–ª–µ—à-–ø–∞–º—è—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω–∞.</li>
</ol>

<p>
–î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤ —è —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–ª –º–æ–¥–µ–ª—å
—Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –∫–æ–¥ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö. <b>NB!</b> –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∏–∂–µ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –¥–ª—è
—Ç–µ–ª–µ—Ñ–æ–Ω–∞ –º–æ–¥–µ–ª–∏ XT2083-9 —Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π RETEU!
</p>
</div>
</div>
<div id="outline-container-bootloader-unlock" class="outline-2">
<h2 id="bootloader-unlock">–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞</h2>
<div class="outline-text-2" id="text-bootloader-unlock">
<p>
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, ¬´—Å –∑–∞–≤–æ–¥–∞¬ª, Android-—Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã –ø–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
–∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º¬†‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –æ–±–ª–∞—Å—Ç–∏ —Ñ–ª–µ—à-–ø–∞–º—è—Ç–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ
–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ —Å–∞–º –∑–∞–≥—Ä—É–∑—á–∏–∫. –° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–∞—è —à—Ç—É–∫–∞,
–∫–æ—Ç–æ—Ä–∞—è –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç –∫–æ–º—É —É–≥–æ–¥–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±–ª–∞—Å—Ç–∏
–ø–∞–º—è—Ç–∏, –µ—Å–ª–∏ –æ–Ω –ø–æ–ª—É—á–∏–ª —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É —Ç–µ–ª–µ—Ñ–æ–Ω—É. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã,
–æ–Ω–∞ –∂–µ –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç –º–Ω–µ, –∫–∞–∫ –≤–ª–∞–¥–µ–ª—å—Ü—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –¥–µ–ª–∞—Ç—å —Å –Ω–∏–º –≤—Å—ë, —á—Ç–æ —è –∑–∞—Ö–æ—á—É.
</p>

<p>
–ú–Ω–µ –ø—Ä–∏—à–ª–æ—Å—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫, —á—Ç–æ–±—ã –ø—Ä–æ—à–∏—Ç—å LineageOS –≤–æ
—Ñ–ª–µ—à-–ø–∞–º—è—Ç—å. –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤–æ—Ç –ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ:
<a href="https://source.android.com/docs/core/architecture/bootloader/locking_unlocking">https://source.android.com/docs/core/architecture/bootloader/locking_unlocking</a>.
</p>

<p>
–î–ª—è –Ω–∞—á–∞–ª–∞, –Ω—É–∂–Ω–æ –±—ã–ª–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ ¬´Developer Options¬ª –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö. –¢—É—Ç
–≤—Å—ë, –∫–∞–∫ –æ–±—ã—á–Ω–æ¬†‚Äî —è –æ—Ç–∫—Ä—ã–ª ¬´System‚áíAbout Phone¬ª –∏ –ø–æ—Å–ª–µ –∫–∞–∫–æ–≥–æ-—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
—Ç–∞–ø–æ–≤ –ø–æ –≤–µ—Ä—Å–∏–∏ Android'–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —è –ø–æ–ª—É—á–∏–ª –¥–æ—Å—Ç—É–ø –∫ –Ω—É–∂–Ω–æ–º—É –ø—É–Ω–∫—Ç—É
–º–µ–Ω—é. –ü–æ—Ç–æ–º –≤–∫–ª—é—á–∏–ª ¬´USB debugging¬ª —á–µ—Ä–µ–∑ –ø–æ–¥–º–µ–Ω—é: ¬´System‚áíAdvanced‚áíDeveloper
options¬ª. –î–∞–ª—å—à–µ –º–Ω–µ –Ω–∞–¥–æ –±—ã–ª–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –≤ UI –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ –≤–º–µ—Å—Ç–æ
–æ—Å–Ω–æ–≤–Ω–æ–π –û–°:
</p>
<ol class="org-ol">
<li>–¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ PC –ø—Ä–∏ –ø–æ–º–æ—â–∏ USB-–∫–∞–±–µ–ª—è.</li>
<li>–í —à—Ç–æ—Ä–∫–µ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –Ω–∞–¥–æ —Ç–∫–Ω—É—Ç—å –Ω–∞ ¬´USB Preferences¬ª –∏ –≤—ã–±—Ä–∞—Ç—å ¬´Use
USB for: PTP¬ª.</li>
<li>–í—Å–ø–ª—ã–≤—ë—Ç –æ–∫–Ω–æ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º –æ–± –æ—Ç–ª–∞–¥–æ—á–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ PC¬†‚Äî –µ–≥–æ –Ω–∞–¥–æ
—Ä–∞–∑—Ä–µ—à–∏—Ç—å.</li>
<li><p>
–ü–æ—Ç–æ–º —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ <code>adb</code> –≤–∏–¥–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω:
</p>
<pre class="example">
% adb devices
List of devices attached
ZY32DG32K2      device
</pre></li>
<li>–ò –Ω–∞–∫–æ–Ω–µ—Ü, —Ç–µ–ª–µ—Ñ–æ–Ω –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π: <code>adb reboot bootloader</code>.</li>
</ol>

<p>
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, —ç–∫—Ä–∞–Ω —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∑–∏–ª –≤–æ—Ç —Ç–∞–∫–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
</p>


<div class="figure">
<p><img src="/assets/static/bootloader.jpg" alt="Motorola Defy (2021) in the bootloader mode" align="center" />
</p>
<p style="text-align: center"><i>Motorola Defy (2021), –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π –≤ bootloader</i></p>
</div>

<p>
–î–∞–ª—å—à–µ –≤ –¥–µ–ª–æ –≤—Å—Ç—É–ø–∏–ª <code>fastboot</code>. –í –º–æ—ë–º —Å–ª—É—á–∞–µ —ç—Ç–∞ —É—Ç–∏–ª–∏—Ç–∞ —Å–Ω–∞—á–∞–ª–∞ –Ω–µ –≤–∏–¥–µ–ª–∞
—Ç–µ–ª–µ—Ñ–æ–Ω. –ù–æ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ <code>/dev/bus/usb/001/018</code> –≤—Å—ë
–∑–∞—Ä–∞–±–æ—Ç–∞–ª–æ:
</p>

<pre class="example">
% fastboot devices -l
% lsusb
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub
Bus 001 Device 003: ID 046d:c24e Logitech, Inc. G500s Laser Gaming Mouse
Bus 001 Device 018: ID 22b8:2e80 Motorola PCS Fastboot bathena S
% ls -l /dev/bus/usb/001/
total 0
crw-rw-r-- 1 root usb     189,  0 Dec 31 00:09 001
crw-rw-r-- 1 root usb     189,  1 Dec 31 00:09 002
crw-rw-r-- 1 root usb     189,  2 Dec 31 00:09 003
crw-rw---- 1 root android 189, 17 Dec 31 17:28 018
% sudo chown -R drag0n:drag0n /dev/bus/usb/001/018
% fastboot devices
ZY32DG32K2       fastboot
</pre>

<p>
–ß—Ç–æ–±—ã –Ω–µ–∏—Å–∫—É—à–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –∑–∞–≥—Ä—É–∑—á–∏–∫ –ø–æ –Ω–µ–∑–Ω–∞–Ω–∏—é,
–ø–æ–ª—É—á–∏–≤ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–µ–Ω–µ–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω, –∞ –∏—Å–∫—É—à—ë–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ
–º–æ–≥–ª–∏ –¥–µ–ª–∞—Ç—å —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —Ç–æ —á—Ç–æ –∏–º —Ö–æ—á–µ—Ç—Å—è¬†‚Äî —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ —Ç—Ä–µ–±—É—é—Ç
–≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ –∏ —Å–≤—è–∑—ã–≤–∞—Ç—å—Å—è —Å –Ω–∏–º–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ
–¥–µ–π—Å—Ç–≤–∏—è. –í –º–æ—ë–º —Å–ª—É—á–∞–µ –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–ª—Å—è –Ω–µ–∫–∏–π unlock
code:
</p>

<pre class="example">
% fastboot flashing unlock
(bootloader) usage: fastboot oem unlock &lt; unlock code &gt;
FAILED (remote: '')
fastboot: error: Command failed
% fastboot flashing get_unlock_ability
(bootloader) use "oem get_unlock_data" and web portal
(bootloader)     http://motorola.com/unlockbootloader
OKAY [  0.001s]
Finished. Total time: 0.001s
% fastboot oem get_unlock_data
(bootloader) Unlock data:
(bootloader) ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
(bootloader) ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
(bootloader) ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
(bootloader) ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
(bootloader) ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
OKAY [  0.017s]
Finished. Total time: 0.017s
</pre>

<p>
–ö —Å—á–∞—Å—Ç—å—é, Motorola –Ω–µ —Å—Ç–∞–ª–∞ –∏–∑–æ–±—Ä–µ—Ç–∞—Ç—å –≤–µ–ª–æ—Å–∏–ø–µ–¥ –∏ –ø—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–ª–∞ —Ñ–æ—Ä–º—É –Ω–∞
—Å–∞–π—Ç–µ, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç ¬´unlock data¬ª –∏ –≤—ã—Å—ã–ª–∞–µ—Ç –∫–ª—é—á —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏,
—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –Ω–∞ –ø–æ—á—Ç—É. –ö –Ω–µ—Å—á–∞—Å—Ç—å—é, —Å—Å—ã–ª–∫–∞,
–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–æ–π <code>get_unlock_ability</code> –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞ (–∫–∞–∫ –æ–±—ã—á–Ω–æ), –Ω–æ –ø–æ—Å–ª–µ
–Ω–µ–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –º–Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—É—é —Ñ–æ—Ä–º—É –Ω–∞
–∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–π –≤–µ—Ä—Å–∏–∏ —Å–∞–π—Ç–∞ Motorola:
<a href="https://en-us.support.motorola.com/app/standalone/bootloader/unlock-your-device-a">https://en-us.support.motorola.com/app/standalone/bootloader/unlock-your-device-a</a>. –ò
—á–µ—Ä–µ–∑ —ç—Ç—É —Ñ–æ—Ä–º—É —è —Å–º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å –ø–∏—Å—å–º–æ —Å –∫–æ–¥–æ–º —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏.
</p>

<p>
–ù—É –∞ –¥–∞–ª—å—à–µ –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∑–∞–≥—Ä—É–∑—á–∏–∫ –∫–æ–º–∞–Ω–¥–æ–π:
</p>

<pre class="example">
% fastboot oem unlock ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
(bootloader) Bootloader is unlocked!
OKAY [ 22.503s]
Finished. Total time: 22.503s
</pre>
</div>
</div>
<div id="outline-container-system-software-reflash" class="outline-2">
<h2 id="system-software-reflash">–ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –≤—Å–µ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ü–û</h2>
<div class="outline-text-2" id="text-system-software-reflash">
<p>
–°–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Lineage OS —Å —Ñ–æ—Ä—É–º–∞ XDA¬†‚Äî –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –º–Ω–µ
–Ω—É–∂–Ω–æ –±—ã–ª–æ —Å–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤ —Å ¬´–∑–∞–≤–æ–¥—Å–∫–∏–º–∏¬ª –¥–∞–º–ø–∞–º–∏ —Ä—è–¥–∞ —Ä–∞–∑–¥–µ–ª–æ–≤ —Ñ–ª–µ—à-–ø–∞–º—è—Ç–∏ –¥–ª—è
—Ç–µ–ª–µ—Ñ–æ–Ω–∞¬†‚Äî –∏ –ø—Ä–æ—à–∏—Ç—å –∏—Ö. –ö–∞–∫ —è –ø–æ–¥–æ–∑—Ä–µ–≤–∞—é, —ç—Ç–æ –Ω—É–∂–Ω–æ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –¥–ª—è —Ç–æ–≥–æ,
—á—Ç–æ–±—ã –∏–º–µ—Ç—å —É —Å–µ–±—è –Ω–∞ –∂—ë—Å—Ç–∫–æ–º –¥–∏—Å–∫–µ —Ç–æ—Ç –∂–µ <code>boot.img</code>, —á—Ç–æ –∏ –≤–æ —Ñ–ª–µ—à-–ø–∞–º—è—Ç–∏
—Ç–µ–ª–µ—Ñ–æ–Ω–∞¬†‚Äî —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è root'–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.
</p>

<p>
–û—Å–Ω–æ–≤—ã–≤–∞—è—Å—å <a href="https://xdaforums.com/t/flash-stock-rom-via-fastboot.4524845/">–Ω–∞ —ç—Ç–æ–º –ø–æ—Å—Ç–µ</a> —è –Ω–∞—à—ë–ª <a href="https://www.getdroidtips.com/motorola-defy-2021-stock-firmware/">—Å—Å—ã–ª–∫—É</a> –Ω–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –¥–ª—è –º–æ–µ–π –º–æ–¥–µ–ª–∏
—Ç–µ–ª–µ—Ñ–æ–Ω–∞ (XT2083-9, build number RZD31.31) –∑–µ—Ä–∫–∞–ª–æ –∏ –≤–Ω—É—Ç—Ä–∏, –ø–æ –ø—É—Ç–∏
<code>/firmware/lenomola/2021/bathena/official/RETEU/</code>, –±—ã–ª –∞—Ä—Ö–∏–≤
<code>XT2083-9_BATHENA_RETEU_11_RZD31.31_subsidy-DEFAULT_regulatory-XT2083-9-EUROPE-SAR_CFC.xml.zip</code>
—Å –¥–∞–º–ø–∞–º–∏ —Ä–∞–∑–¥–µ–ª–æ–≤ —Ñ–ª–µ—à-–ø–∞–º—è—Ç–∏ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞:
</p>

<pre class="example">
% unzip XT2083-9_BATHENA_RETEU_11_RZD31.31_subsidy-DEFAULT_regulatory-XT2083-9-EUROPE-SAR_CFC.xml.zip
Archive:  XT2083-9_BATHENA_RETEU_11_RZD31.31_subsidy-DEFAULT_regulatory-XT2083-9-EUROPE-SAR_CFC.xml.zip
inflating: recovery.img
inflating: gpt.bin
inflating: boot.img
inflating: dspso.bin
inflating: BTFM.bin
inflating: vbmeta.img
inflating: radio.img
inflating: dtbo.img
inflating: logo.bin
inflating: bootloader.img
inflating: super.img_sparsechunk.0
inflating: super.img_sparsechunk.1
inflating: super.img_sparsechunk.2
inflating: super.img_sparsechunk.3
inflating: super.img_sparsechunk.4
inflating: super.img_sparsechunk.5
inflating: super.img_sparsechunk.6
inflating: super.img_sparsechunk.7
inflating: super.img_sparsechunk.8
inflating: flashfile.xml
inflating: servicefile.xml
extracting: slcf_rev_d_default_v1.0.nvm
inflating: regulatory_info_xt2083_9_europe_sar.png
inflating: signing-info.txt
inflating: BATHENA_RETAIL_RZD31.31_subsidy-DEFAULT_regulatory-XT2083-9-EUROPE-SAR_CFC.info.txt
</pre>

<p>
–§–ª–µ—à-–ø–∞–º—è—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤, —á–∞—Å—Ç—å –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö
—É–Ω–∏–∫–∞–ª—å–Ω–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤. –ü–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ –≤ Motorola Defy (2021)
–º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–∞–∑–¥–µ–ª–æ–≤, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–≤ —Ç–µ–ª–µ—Ñ–æ–Ω –≤ bootloader –∏ –≤—ã–ø–æ–ª–Ω–∏–≤
–∫–æ–º–∞–Ω–¥—É <code>fastboot oem partition</code>:
</p>

<pre class="example">
~ % fastboot oem partition
(bootloader) xbl_a: offset=65536KB, size=5120KB
(bootloader) xbl_b: offset=70656KB, size=5120KB
(bootloader) xbl_config_a: offset=75776KB, size=128KB
(bootloader) xbl_config_b: offset=75904KB, size=128KB
(bootloader) tz_a: offset=76032KB, size=4096KB
(bootloader) tz_b: offset=80128KB, size=4096KB
(bootloader) rpm_a: offset=84224KB, size=512KB
(bootloader) rpm_b: offset=131072KB, size=512KB
(bootloader) hyp_a: offset=196608KB, size=512KB
(bootloader) hyp_b: offset=197120KB, size=512KB
(bootloader) cmnlib_a: offset=197632KB, size=512KB
(bootloader) cmnlib_b: offset=198144KB, size=512KB
(bootloader) cmnlib64_a: offset=198656KB, size=512KB
(bootloader) cmnlib64_b: offset=199168KB, size=512KB
(bootloader) keymaster_a: offset=199680KB, size=512KB
(bootloader) keymaster_b: offset=200192KB, size=512KB
(bootloader) prov_a: offset=200704KB, size=256KB
(bootloader) prov_b: offset=200960KB, size=256KB
(bootloader) abl_a: offset=201216KB, size=1024KB
(bootloader) abl_b: offset=202240KB, size=1024KB
(bootloader) uefisecapp_a: offset=203264KB, size=2048KB
(bootloader) uefisecapp_b: offset=205312KB, size=2048KB
(bootloader) devcfg_a: offset=207360KB, size=128KB
(bootloader) devcfg_b: offset=207488KB, size=128KB
(bootloader) qupfw_a: offset=207616KB, size=80KB
(bootloader) qupfw_b: offset=207696KB, size=80KB
(bootloader) storsec_a: offset=207776KB, size=128KB
(bootloader) storsec_b: offset=207904KB, size=128KB
(bootloader) ddr: offset=208032KB, size=1024KB
(bootloader) modem_a: offset=209056KB, size=184320KB
(bootloader) modem_b: offset=393376KB, size=184320KB
(bootloader) bluetooth_a: offset=577696KB, size=1024KB
(bootloader) bluetooth_b: offset=578720KB, size=1024KB
(bootloader) dsp_a: offset=579744KB, size=65536KB
(bootloader) dsp_b: offset=645280KB, size=65536KB
(bootloader) boot_a: offset=710816KB, size=98304KB
(bootloader) boot_b: offset=809120KB, size=98304KB
(bootloader) dtbo_a: offset=907424KB, size=24576KB
(bootloader) dtbo_b: offset=932000KB, size=24576KB
(bootloader) recovery_a: offset=983040KB, size=102400KB
(bootloader) recovery_b: offset=1085440KB, size=102400KB
(bootloader) ssd: offset=1245184KB, size=8KB
(bootloader) utags: offset=1310720KB, size=512KB
(bootloader) utagsBackup: offset=1311232KB, size=512KB
(bootloader) kpan: offset=1311744KB, size=8192KB
(bootloader) dhob: offset=1319936KB, size=32KB
(bootloader) msadp: offset=1376256KB, size=256KB
(bootloader) persist: offset=1441792KB, size=32768KB
(bootloader) prodpersist: offset=1474560KB, size=8192KB
(bootloader) metadata: offset=1482752KB, size=16384KB
(bootloader) misc: offset=1499136KB, size=1024KB
(bootloader) frp: offset=1500160KB, size=512KB
(bootloader) cid: offset=1507328KB, size=128KB
(bootloader) logo_a: offset=1507456KB, size=16384KB
(bootloader) logo_b: offset=1523840KB, size=16384KB
(bootloader) carrier: offset=1572864KB, size=16384KB
(bootloader) devinfo: offset=1638400KB, size=4KB
(bootloader) apdp: offset=1638404KB, size=256KB
(bootloader) spunvm: offset=1703936KB, size=8192KB
(bootloader) logfs: offset=1769472KB, size=8192KB
(bootloader) vbmeta_a: offset=1777664KB, size=64KB
(bootloader) vbmeta_b: offset=1777728KB, size=64KB
(bootloader) vbmeta_system_a: offset=1777792KB, size=64KB
(bootloader) vbmeta_system_b: offset=1777856KB, size=64KB
(bootloader) limits: offset=1777920KB, size=4KB
(bootloader) uefivarstore: offset=1777924KB, size=512KB
(bootloader) modemst1: offset=1835008KB, size=2560KB
(bootloader) modemst2: offset=1837568KB, size=2560KB
(bootloader) fsg_a: offset=1840128KB, size=65536KB
(bootloader) fsg_b: offset=1905664KB, size=65536KB
(bootloader) fsc: offset=1971200KB, size=128KB
(bootloader) hw: offset=2031616KB, size=8192KB
(bootloader) sp: offset=2097152KB, size=8192KB
(bootloader) padA: offset=2105344KB, size=640KB
(bootloader) super: offset=2105984KB, size=11631616KB
(bootloader) padB: offset=13737600KB, size=384KB
(bootloader) userdata: offset=13737984KB, size=47333359KB
(bootloader) system_a: offset=2105984KB, size=2376024KB
(bootloader) system_b: offset=2105984KB, size=165052KB
(bootloader) vendor_a: offset=2105984KB, size=585820KB
(bootloader) vendor_b: offset=2105984KB, size=0KB
(bootloader) product_b: offset=2105984KB, size=0KB
(bootloader) product_a: offset=2105984KB, size=4KB
OKAY [  0.015s]
Finished. Total time: 0.015s
</pre>

<p>
–ö —Å—á–∞—Å—Ç—å—é, –Ω–µ –≤—Å–µ —ç—Ç–∏ —Ä–∞–∑–¥–µ–ª—ã –º–Ω–µ –Ω—É–∂–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å. –í–æ-–ø–µ—Ä–≤—ã—Ö,
–ø–æ—Å–∫–æ–ª—å–∫—É –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è <a href="https://source.android.com/docs/core/ota/virtual_ab">A/B-partitions</a>, –≤ –≤—ã–≤–æ–¥–µ <code>partition</code> –º–Ω–æ–≥–∏–µ
—Ä–∞–∑–¥–µ–ª—ã –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è –¥–≤–∞ —Ä–∞–∑–∞: —Å —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏ <code>_a</code> –∏ <code>_b</code>. –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Lineage OS,
—Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º <code>_a</code>.
</p>

<p>
–í–æ-–≤—Ç–æ—Ä—ã—Ö, —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–∏—Å–∫—É —Ñ–∞–π–ª–æ–≤ –∏–∑ –∞—Ä—Ö–∏–≤–∞ –∏ —Å–ø–∏—Å–∫—É –∫–æ–º–∞–Ω–¥, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–¥–æ
–±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –¥–ª—è –ø—Ä–æ—à–∏–≤–∫–∏¬†‚Äî –ø—Ä–∏–¥—ë—Ç—Å—è –∏–º–µ—Ç—å –¥–µ–ª–æ –ª–∏—à—å —Å:
</p>

<table border="2" cellspacing="0" cellpadding="6" frame="void">
<caption class="t-above"><span class="table-number">Table 1:</span> –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–º–ø—ã</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">–†–∞–∑–¥–µ–ª(—ã)</th>
<th scope="col" class="org-left">–§–∞–π–ª —Å –¥–∞–º–ø–æ–º</th>
<th scope="col" class="org-left">–û–ø–∏—Å–∞–Ω–∏–µ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">gpt.bin</td>
<td class="org-left">General Partition Table (GPT)¬†‚Äî –≥—Ä—É–±–æ –≥–æ–≤–æ—Ä—è —ç—Ç–æ –∫–∞–∫ MBR, —Ç–æ–ª—å–∫–æ –Ω–æ–≤–µ–µ.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">bootloader.img</td>
<td class="org-left">–†–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –ø—Ä–æ—à–∏–≤–∫–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å–∞–Ω—ã –Ω–∏–∂–µ.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">radio.img</td>
<td class="org-left">–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">bluetooth_a</td>
<td class="org-left">BTFM.bin</td>
<td class="org-left">–ë–∏–Ω–∞—Ä–Ω—ã–π –±–ª–æ–± c firmware –¥–ª—è Bluetooth.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">dsp_a</td>
<td class="org-left">dspso.bin</td>
<td class="org-left">–ë–∏–Ω–∞—Ä–Ω—ã–π –±–ª–æ–± —Å firmware –¥–ª—è –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ —É—Å–∫–æ—Ä–∏—Ç–µ–ª—è.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">logo_a</td>
<td class="org-left">logo.bin</td>
<td class="org-left">–ö–∞—Ä—Ç–∏–Ω–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ –∑–∞—Ä—è–¥–∫–∏ –≤—ã–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">boot_a</td>
<td class="org-left">boot.img</td>
<td class="org-left">–ó–¥–µ—Å—å –ª–µ–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ —è–¥—Ä–æ Linux, ramdisk –∏ –ø—Ä–æ—á–∏–µ —Ñ–∞–π–ª—ã, –Ω—É–∂–Ω—ã–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">recovery_a</td>
<td class="org-left">recovery.img</td>
<td class="org-left">–ó–¥–µ—Å—å –ª–µ–∂–∏—Ç –µ—â—ë –æ–¥–Ω–æ —è–¥—Ä–æ Linux, –ø–ª—é—Å —Ä—è–¥ —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, factory reset –∏ —Ç.–¥.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">dbto_a</td>
<td class="org-left">dtbo.img</td>
<td class="org-left">Device Tree Blobs Overlay¬†‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –¥–ª—è —è–¥—Ä–∞ Linux, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–æ –Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ<sup><a id="fnr.device_tree" class="footref" href="#fn.device_tree" role="doc-backlink">1</a></sup>.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">vbmeta_a</td>
<td class="org-left">vbmeta.img</td>
<td class="org-left">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∏ —Ä—è–¥–∞ –¥—Ä—É–≥–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –Ω–∞ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å, –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –∏—Ö –≤ –ø–∞–º—è—Ç—å.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.0</td>
<td class="org-left">–≠—Ç–æ—Ç –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ 8 —Ñ–∞–π–ª–æ–≤ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª —Å dynamic partitions. –Ø –Ω–µ –Ω–∞—à—ë–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —Ç–æ–º—É, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ <a href="https://source.android.com/docs/core/ota/dynamic_partitions/implement">—Ç—É—Ç</a>.</td>
</tr>

<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.1</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.2</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.3</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.4</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.5</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.6</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.7</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">super</td>
<td class="org-left">super.img_sparsechunk.8</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">userdata</td>
<td class="org-left">/dev/null</td>
<td class="org-left">–†–∞–∑–¥–µ–ª —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ –¥–∞–Ω–Ω—ã–º–∏. –ü–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ—á–∏—â–∞–µ—Ç—Å—è.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">ddr</td>
<td class="org-left">/dev/null</td>
<td class="org-left">–°—É–¥—è –ø–æ —Ç–æ–º—É, —á—Ç–æ —è –Ω–∞—à—ë–ª –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ, —Å—é–¥–∞ –º–∞–ø–∏—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –û—á–∏—â–∞–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.</td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" frame="void">
<caption class="t-above"><span class="table-number">Table 2:</span> –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ bootloader.img –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–º —Ä–∞–∑–¥–µ–ª–æ–≤</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">–†–∞–∑–¥–µ–ª(—ã)</th>
<th scope="col" class="org-left">–§–∞–π–ª —Å –¥–∞–º–ø–æ–º</th>
<th scope="col" class="org-left">–û–ø–∏—Å–∞–Ω–∏–µ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">keymaster</td>
<td class="org-left">keymaster.mbn</td>
<td class="org-left">–î–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã Qualcomm Secure (Verified) Boot.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">hyp</td>
<td class="org-left">hyp.mbn</td>
<td class="org-left"><a href="https://en.wikipedia.org/wiki/Hypervisor">–ì–∏–ø–µ—Ä–≤–∏–∑–æ—Ä</a> –æ—Ç Qualcomm, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Linux.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">tz</td>
<td class="org-left">tz.mbn</td>
<td class="org-left"><a href="https://research.checkpoint.com/2019/the-road-to-qualcomm-trustzone-apps-fuzzing/">TrustZone</a> firmware.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">devcfg</td>
<td class="org-left">devcfg.mbn</td>
<td class="org-left">–ù–µ –Ω–∞—à—ë–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–º—É —Ä–∞–∑–¥–µ–ª—É.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">storsec</td>
<td class="org-left">storsec.mbn</td>
<td class="org-left">–ù–µ –Ω–∞—à—ë–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–º—É —Ä–∞–∑–¥–µ–ª—É.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">prov</td>
<td class="org-left">prov64.mbn</td>
<td class="org-left">–ù–µ –Ω–∞—à—ë–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–º—É —Ä–∞–∑–¥–µ–ª—É.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">rpm</td>
<td class="org-left">rpm.mbn</td>
<td class="org-left">Resource Power Management¬†‚Äî –±–ª–æ–± –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–∏—Ç–∞–Ω–∏—è –º–æ–¥–µ–º–∞.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">abl</td>
<td class="org-left">abl.elf</td>
<td class="org-left">Android BootLoader¬†‚Äî second stage –∑–∞–≥—Ä—É–∑—á–∏–∫ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ Android –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ recovery.img.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">uefisecapp</td>
<td class="org-left">uefi_sec.mbn</td>
<td class="org-left">–ù–µ –Ω–∞—à—ë–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–º—É —Ä–∞–∑–¥–µ–ª—É.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">qupfw</td>
<td class="org-left">qupfw.elf</td>
<td class="org-left">–ù–µ –Ω–∞—à—ë–ª –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–º—É –±–∏–Ω–∞—Ä–Ω–∏–∫—É.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">xbl_config</td>
<td class="org-left">xbl_config.elf</td>
<td class="org-left">–í–µ—Ä–æ—è—Ç–Ω–æ, —ç—Ç–æ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ HAL –¥–ª—è –∑–∞–≥—Ä—É–∑—á–∏–∫–∞<sup><a id="fnr.xbl" class="footref" href="#fn.xbl" role="doc-backlink">2</a></sup>.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">xbl</td>
<td class="org-left">xbl.elf</td>
<td class="org-left">–°–º. –≤—ã—à–µ.</td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" frame="void">
<caption class="t-above"><span class="table-number">Table 3:</span> –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ radio.img –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏–º —Ä–∞–∑–¥–µ–ª–æ–≤</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">–†–∞–∑–¥–µ–ª(—ã)</th>
<th scope="col" class="org-left">–§–∞–π–ª —Å –¥–∞–º–ø–æ–º</th>
<th scope="col" class="org-left">–û–ø–∏—Å–∞–Ω–∏–µ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">modem</td>
<td class="org-left">NON-HLOS.bin</td>
<td class="org-left">–ë–ª–æ–± —Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ —á–∞—Å—Ç–æ—Ç–∞–º–∏ –¥–ª—è —Ä–∞–¥–∏–æ–º–æ–¥—É–ª—è.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">fsg</td>
<td class="org-left">fsg.mbn</td>
<td class="org-left">Modem File System Golden copy. Firmware blob –¥–ª—è –º–æ–¥–µ–º–∞, –∫–∞–ª–∏–±—Ä–æ–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ IMEI. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –Ω–µ—è—Å–Ω–∞<sup><a id="fnr.fsg" class="footref" href="#fn.fsg" role="doc-backlink">3</a></sup>.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">modemst1</td>
<td class="org-left">/dev/null</td>
<td class="org-left">–û—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ—à–∏–≤–∫–µ radio.img. –°—é–¥–∞ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–∞–∑–¥–µ–ª–∞ fsg –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º—ã.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">modemst2</td>
<td class="org-left">/dev/null</td>
<td class="org-left">–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è modemst1. –¢–æ–∂–µ –æ—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ—à–∏–≤–∫–µ radio.img.</td>
</tr>
</tbody>
</table>

<p>
–ù—É –∞ –¥–∞–ª—å—à–µ –≤—Å—ë –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ:
</p>
<ol class="org-ol">
<li>–Ø —Å–Ω–æ–≤–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª —Ç–µ–ª–µ—Ñ–æ–Ω –≤ bootloader –ø—Ä–∏ –ø–æ–º–æ—â–∏ <code>adb</code>, –∫–∞–∫ —É–∂–µ –æ–ø–∏—Å—ã–≤–∞–ª
–≤—ã—à–µ.</li>
<li><p>
–ü—Ä–æ—à–∏–ª —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω –∫–æ–º–∞–Ω–¥–∞–º–∏:
</p>
<pre class="example">
fastboot flash partition gpt.bin
fastboot flash bootloader bootloader.img
fastboot reboot-bootloader
fastboot flash radio radio.img
fastboot reboot-bootloader
fastboot flash bluetooth BTFM.bin
fastboot flash dsp dspso.bin
fastboot flash logo logo.bin
fastboot flash boot boot.img
fastboot flash recovery recovery.img
fastboot flash dtbo dtbo.img
fastboot flash vbmeta vbmeta.img
fastboot flash super super.img_sparsechunk.0
fastboot flash super super.img_sparsechunk.1
fastboot flash super super.img_sparsechunk.2
fastboot flash super super.img_sparsechunk.3
fastboot flash super super.img_sparsechunk.4
fastboot flash super super.img_sparsechunk.5
fastboot flash super super.img_sparsechunk.6
fastboot flash super super.img_sparsechunk.7
fastboot flash super super.img_sparsechunk.8
fastboot erase userdata
fastboot erase ddr
fastboot oem fb_mode_clear
fastboot reboot
</pre></li>
</ol>

<p>
–ú–æ–π –ª–æ–≥ –ø—Ä–æ—à–∏–≤–∫–∏ –ª–µ–∂–∏—Ç <a href="/assets/static/bathena-flash.txt">—Ç—É—Ç</a>.
</p>

<p>
–ü–æ—Å–ª–µ —ç—Ç–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –ø–æ—è–≤–∏–ª—Å—è —Å—Ç–æ–∫–æ–≤—ã–π Android –æ—Ç Motorola, –±–µ–∑
–∫–∞–∫–∏—Ö-–ª–∏–±–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫.
</p>
</div>
</div>
<div id="outline-container-lineage-os-install" class="outline-2">
<h2 id="lineage-os-install">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Lineage OS</h2>
<div class="outline-text-2" id="text-lineage-os-install">
<p>
–ó–¥–µ—Å—å —è –æ–ø–∏—Ä–∞–ª—Å—è –Ω–∞ <a href="https://xdaforums.com/t/flash-gsi-rom-arm64-ab.4524895/#post-88309263">–≤–æ—Ç —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</a> —Å —Ñ–æ—Ä—É–º–∞ XDA¬†‚Äî –ø–æ —Å—Å—ã–ª–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
HUN_Gyuszi –ø–∏—Å–∞–ª –ø—Ä–æ —É—Å–ø–µ—à–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É Lineage OS –≤–µ—Ä—Å–∏–∏ 20.0 —Å–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
Google –∏ –±–µ–∑ root.
</p>

<p>
<a href="https://sourceforge.net/projects/andyyan-gsi/files/">–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏</a>, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –æ–Ω —Å—Å—ã–ª–∞–ª—Å—è, —è –æ–±–Ω–∞—Ä—É–∂–∏–ª –±–æ–ª–µ–µ –Ω–æ–≤—ã–µ —Å–±–æ—Ä–∫–∏¬†‚Äî —Å
Lineage OS 21.0¬†‚Äî –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –∑–∞—Ö–æ—Ç–µ–ª –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∏–º–µ–Ω–Ω–æ –µ—ë. –ù–æ –∑–¥–µ—Å—å –ø—Ä–∏—à–ª–æ—Å—å
–ø–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å:
</p>
<ul class="org-ul">
<li>–í–µ—Ä—Å–∏—é —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ Google (–∫–æ–¥
<code>bgN</code><sup><a id="fnr.gsi_naming_conventions" class="footref" href="#fn.gsi_naming_conventions" role="doc-backlink">4</a></sup>) —è –Ω–µ —Ö–æ—Ç–µ–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ –ø–æ–Ω—è—Ç–Ω—ã–º
–ø—Ä–∏—á–∏–Ω–∞–º. –ù–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª –µ—ë –¥–ª—è —Ç–µ—Å—Ç–∞¬†‚Äî –æ–Ω–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞–ª–∞.</li>
<li><p>
–ü–æ—Ç–æ–º —è –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –≤–µ—Ä—Å–∏—é –±–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Google, –Ω–æ —Å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º root (<code>bvS</code>). –î–æ—Å—Ç—É–ø –∫ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —è –ø–æ–ª—É—á–∏–ª, –Ω–æ –∑–∞—Ç–æ
¬´–ø–æ—Ç–µ—Ä—è–ª¬ª IMEI —Ç–µ–ª–µ—Ñ–æ–Ω–∞¬†‚Äî –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –Ω—É–ª–µ–≤–æ–π IMEI
–≤–º–µ—Å—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏ –≤ –∏—Ç–æ–≥–µ —Ç–µ–ª–µ—Ñ–æ–Ω –ø—Ä–æ—Å—Ç–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–ª—Å—è –∫ –º–æ–±–∏–ª—å–Ω–æ–π
—Å–µ—Ç–∏.
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, —è –∑–∞—Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–∏–ª –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π IMEI. –ö –Ω–µ—Å—á–∞—Å—Ç—å—é, –ø–æ–¥—Å—É–Ω—É—Ç—å —Å–≤–æ–π
IMEI –≤ Android, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –Ω–∞ —á–∏–ø—Å–µ—Ç–µ Qualcomm Snapdragon, –ø–æ-–≤–∏–¥–∏–º–æ–º—É –Ω–µ
—Ç–∞–∫-—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏ —É –º–µ–Ω—è —Ç–∞–∫ –∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π IMEI. –ù–∞—á–∞–≤
–ø–æ–¥–æ–∑—Ä–µ–≤–∞—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º –∫–∞–∫ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è, —è
—Ä–µ—à–∏–ª –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –≤ bootloader –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –º–µ–Ω—é
¬´Barcodes¬ª –æ –∫–∞–∫–∏—Ö —Å–µ—Ä–∏–π–Ω—ã—Ö –Ω–æ–º–µ—Ä–∞—Ö –æ–Ω –∑–Ω–∞–µ—Ç.
</p>

<p>
–ö–∞–∫ –æ–∫–∞–∑–∞–ª–æ—Å—å, bootloader –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É ¬´–≤–∏–¥–∏—Ç¬ª –º–æ–π –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π IMEI, –∞
–∑–Ω–∞—á–∏—Ç –æ–Ω—ã–π –Ω–µ –ø—Ä–æ–ø–∞–ª –±–µ—Å—Å–ª–µ–¥–Ω–æ –∏–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ, —è —Å–Ω–æ–≤–∞ –ø—Ä–æ—à–∏–ª
–±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ <a href="#system-software-reflash">¬´–ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –≤—Å–µ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ü–û¬ª</a> –≤ —Ç–µ–ª–µ—Ñ–æ–Ω –∏, –ø–æ—Å–ª–µ
–∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ Android'–∞, —É–≤–∏–¥–µ–ª —á—Ç–æ –æ–Ω —Å–ø–æ–∫–æ–π–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç
–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ IMEI –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
</p>

<p>
–ü–æ-–≤–∏–¥–∏–º–æ–º—É, –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–º –º–Ω–æ—é –æ–±—Ä–∞–∑–µ LineageOS –±—ã–ª –∫–∞–∫–æ–π-—Ç–æ –±–∞–≥, –∏–∑-–∑–∞
–∫–æ—Ç–æ—Ä–æ–≥–æ –æ–Ω –∏ —Å—á–∏—Ç–∞–ª, —á—Ç–æ IMEI —Ä–∞–≤–µ–Ω –Ω—É–ª—é –∏ –Ω–µ —Å—á–∏—Ç—ã–≤–∞–ª –µ–≥–æ –∏–∑ —Ç–æ–≥–æ –º–µ—Å—Ç–∞,
–æ—Ç–∫—É–¥–∞ –µ–≥–æ —á–∏—Ç–∞–ª bootloader.
</p></li>
<li>–ù—É –∏ –Ω–∞–∫–æ–Ω–µ—Ü —è –ø—Ä–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º –æ—Å—Ç–∞–≤—à–∏–º—Å—è –æ–±—Ä–∞–∑–æ–º, –≤
–∫–æ—Ç–æ—Ä–æ–º –Ω–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Google, –Ω–æ —Ç–∞–∫–∂–µ –Ω–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é root
(–∫–æ–¥ <code>bvN</code>). –° –Ω–∏–º —É–∂–µ –Ω–µ –≤–æ–∑–Ω–∏–∫–ª–æ –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –∏ –Ω–∞ –Ω—ë–º —è –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è.</li>
</ul>

<p>
–°–∞–º –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—ã–ª –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç—ã–º:
</p>
<ol class="org-ol">
<li>–ö–∞–∫ —è —É–∂–µ –ø–∏—Å–∞–ª, –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –≤—Å–µ–≥–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ü–û —É –º–µ–Ω—è –±—ã–ª —Ç–æ—Ç —Å–∞–º—ã–π
—Å—Ç–∞—Ä—ã–π Android, —Å –∫–æ—Ç–æ—Ä—ã–º —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –±—ã–ª –∫—É–ø–ª–µ–Ω. –ó–¥–µ—Å—å –º–Ω–µ –ø—Ä–∏—à–ª–æ—Å—å —Å–Ω–æ–≤–∞
–ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ ¬´Developer options¬ª, –≤–∫–ª—é—á–∞—Ç—å –æ—Ç–ª–∞–¥–∫—É –ø–æ USB –∏
–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω –∫–æ–º–∞–Ω–¥–æ–π <code>adb reboot fastboot</code>.</li>
<li><p>
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —ç–∫—Ä–∞–Ω —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤—ã–≥–ª—è–¥–µ–ª —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
</p>

<div class="figure">
<p><img src="/assets/static/fastbootd.jpg" alt="Phone rebooted to fastbootd" align="center" />
</p>
</div></li>
<li><p>
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ—à–∏–≤–∞—Ç—å —Å–∫–∞—á–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑ LineageOS —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π:
</p>
<pre class="example">
motorola_defy/LineageOS % fastboot flash system lineage-21.0-20241118-UNOFFICIAL-arm64_bvN.img
</pre>

<p>
–õ–æ–≥ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ—à–∏–≤–∫–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å <a href="/assets/static/lineage-os-flash.txt">—Ç—É—Ç</a>.
</p></li>
<li><p>
–ù–æ, <i>–≤ –º–æ—ë–º —Å–ª—É—á–∞–µ</i> –∑–∞–ø–∏—Å—å –æ–±—Ä–∞–∑–∞ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª –Ω–∞ Flash-–ø–∞–º—è—Ç–∏
–ø—Ä–µ—Ä–≤–∞–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π:
</p>
<pre class="example">
motorola_defy/LineageOS % fastboot flash system lineage-21.0-20241118-UNOFFICIAL-arm64_bvN.img
Resizing 'system_a'                                FAILED (remote: 'Not enough space to resize partition')
fastboot: error: Command failed
</pre>

<p>
–†–∞–∑–¥–µ–ª <code>system_–∞</code> –Ω–∞ 2.3¬†–ì–± —Å –Ω–µ–±–æ–ª—å—à–∏–º –Ω–µ —Ö–≤–∞—Ç–∞–ª–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
LineageOS. –í—ã—Ö–æ–¥ —è –Ω–∞—à—ë–ª –Ω–∞ –≤—Å—ë —Ç–æ–º –∂–µ XDA Forum¬†‚Äî –Ω—É–∂–Ω–æ –±—ã–ª–æ —É–¥–∞–ª–∏—Ç—å
—Ä–∞–∑–¥–µ–ª <code>product_a</code>, —É–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–¥–µ–ª <code>system_a</code> –¥–æ 4.2 –ì–± –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑–¥–µ–ª
<code>product_a</code> —Å —Ä–∞–∑–º–µ—Ä–æ–º –≤ 1 –±–∞–π—Ç:
</p>
<pre class="example">
motorola_defy/LineageOS % fastboot set_active a
Setting current slot to 'a'                        OKAY [  0.139s]
Finished. Total time: 0.140s
motorola_defy/LineageOS % fastboot delete-logical-partition product_a
Deleting 'product_a'                               OKAY [  0.045s]
Finished. Total time: 0.045s
motorola_defy/LineageOS % fastboot resize-logical-partition system_a 4200000000
Resizing 'system_a'                                OKAY [  0.006s]
Finished. Total time: 0.049s
motorola_defy/LineageOS % fastboot create-logical-partition product_a 1
Creating 'product_a'                               OKAY [  0.045s]
Finished. Total time: 0.045s
</pre>

<p>
–†–∞–∑–¥–µ–ª <code>product_a</code> <a href="https://source.android.com/docs/core/architecture/partitions/product-partitions">–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–æ–∫–æ–≤—ã–º Android'–æ–º</a> –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
–≤—Å—è–∫–∏—Ö –≤–µ–Ω–¥–æ—Ä—Å–∫–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –≤–µ—â–µ–π –¥–ª—è –û–°. LineageOS –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ,
–ø–æ—ç—Ç–æ–º—É –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–ø–æ–∫–æ–π–Ω–æ —É–º–µ–Ω—å—à–∞—Ç—å –µ–≥–æ –¥–æ –æ–¥–Ω–æ–≥–æ –±–∞–π—Ç–∞.
</p></li>
<li><p>
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã, –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å —Ñ–æ—Ä—É–º–∞, –Ω—É–∂–Ω–æ –±—ã–ª–æ –ø–æ—á–∏—Å—Ç–∏—Ç—å
—Ä–∞–∑–¥–µ–ª—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
</p>
<pre class="example">
motorola_defy/LineageOS % fastboot -w
Erasing 'userdata'                                 OKAY [  0.511s]
Erase successful, but not automatically formatting.
File system type raw not supported.
wipe task partition not found: cache
Erasing 'metadata'                                 OKAY [  0.007s]
Erase successful, but not automatically formatting.
File system type raw not supported.
Finished. Total time: 0.527s
</pre></li>
<li>–ò –Ω–∞–∫–æ–Ω–µ—Ü, —è –≤—ã–±—Ä–∞–ª –ø—É–Ω–∫—Ç ¬´Reboot system now¬ª –≤ –º–µ–Ω—é –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –Ω–∞–∂–∞–ª –Ω–∞
–∫–Ω–æ–ø–∫—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª—Å—è –≤ —Å–≤–µ–∂—É—é LineageOS.</li>
</ol>
</div>
</div>
<div id="outline-container-android-root" class="outline-2">
<h2 id="android-root">–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é root</h2>
<div class="outline-text-2" id="text-android-root">
<p>
–ó–¥–µ—Å—å –≤—Å—ë –±—ã–ª–æ –∫—Ä–∞–π–Ω–µ –ø—Ä–æ—Å—Ç–æ¬†‚Äî —è –≤–∑—è–ª —É–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–Ω–µ <a href="https://topjohnwu.github.io/Magisk/">–ø—Ä–æ–µ–∫—Ç Magisk</a>, –∫–æ—Ç–æ—Ä—ã–π
–ø–æ–¥–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Linux'–æ–≤—ã–π <code>init</code> —Å–≤–æ–∏–º <code>magiskinit</code>. –ß–µ—Ä–µ–∑ ¬´–æ–±—â–µ–Ω–∏–µ¬ª —Å —ç—Ç–∏–º
<code>init</code> –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ root-–ø—Ä–∞–≤ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.
</p>

<p>
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ <code>root</code> –∫—Ä–∞–π–Ω–µ –ø—Ä–æ—Å—Ç—ã¬†‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏—à—å —Å–ª–µ–¥–æ–≤–∞—Ç—å
<a href="https://topjohnwu.github.io/Magisk/install.html">–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</a> –∏ –∏–º–µ—Ç—å –ø–æ–¥ —Ä—É–∫–æ–π –¥–∞–º–ø —Ä–∞–∑–¥–µ–ª–∞ <code>boot_a</code> (<code>boot.img</code>) —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
</p>

<p>
–ü–æ—Å–ª–µ, —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Magisk —è —Å–∫—Ä—ã–ª –µ–≥–æ –æ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
—Å–∏—Å—Ç–µ–º—ã –∏ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫—É ¬´Configure DenyList¬ª –∑–∞–ø—Ä–µ—Ç–∏–ª <b>–≤—Å–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º</b> –Ω–∞
—Ç–µ–ª–µ—Ñ–æ–Ωe –ø–æ–ª—É—á–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é <code>root</code>. –ö—Ä–æ–º–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö
–ø—Ä–æ–≥—Ä–∞–º–º, –æ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∏–∂–µ&#x2026;
</p>


<div class="figure">
<p><img src="/assets/static/magisk.png" alt="Magisk settings for hiding itself: Zygisk and DenyList" align="center" width="50%" />
</p>
<p style="text-align: center"><i>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Magisk –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —Å–≤–æ–µ–≥–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è –æ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</i></p>
</div>
</div>
</div>
<div id="outline-container-4g-calls-sms" class="outline-2">
<h2 id="4g-calls-sms">–ó–≤–æ–Ω–∫–∏ –∏ –°–ú–° —Å 4G</h2>
<div class="outline-text-2" id="text-4g-calls-sms">
<p>
–ß–µ—Ä–µ–∑ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è —è –∑–∞–º–µ—Ç–∏–ª —Å—Ç—Ä–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞¬†‚Äî —Å—Ç–æ–∏—Ç
–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ç–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ —á–µ—Ä–µ–∑ 4G –≤–º–µ—Å—Ç–æ 3G, –∫–∞–∫ –∫–æ –º–Ω–µ –ø–µ—Ä–µ—Å—Ç–∞—é—Ç
–ø—Ä–∏—Ö–æ–¥–∏—Ç—å –ª—é–±—ã–µ –°–ú–°–∫–∏ –∏ –¥–æ –º–µ–Ω—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–æ–∑–≤–æ–Ω–∏—Ç—å—Å—è.
</p>

<p>
–ö–∞–∫ –æ–∫–∞–∑–∞–ª–æ—Å—å, –¥–µ–ª–æ –∑–¥–µ—Å—å –±—ã–ª–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º. –†–∞–Ω—å—à–µ, –≤–ø–ª–æ—Ç—å –¥–æ –≤–≤–µ–¥–µ–Ω–∏—è –≤ —Å—Ç—Ä–æ–π
4G, –∑–≤–æ–Ω–∫–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ ¬´–ø–æ —Å—Ç–∞—Ä–∏–Ω–∫–µ¬ª¬†‚Äî —Ç–µ–ª–µ—Ñ–æ–Ω —Å–æ–µ–¥–∏–Ω—è–ª—Å—è —Å –±–∞–∑–æ–≤–æ–π —Å—Ç–∞–Ω—Ü–∏–µ–π
–ø–æ —Ä–∞–¥–∏–æ–∫–∞–Ω–∞–ª—É –∏ –¥–∞–ª—å—à–µ, —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ê–¢–°, —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º –¥—Ä—É–≥–æ–≥–æ –∞–±–æ–Ω–µ–Ω—Ç–∞, —Å
–∫–æ—Ç–æ—Ä—ã–º —è —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—é –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç. –¢–æ –µ—Å—Ç—å, –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ —Ç–æ–º—É –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—É,
–ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —Ä–∞–Ω—å—à–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –æ–±—ã—á–Ω—ã–µ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω—ã–µ —Ç–µ–ª–µ—Ñ–æ–Ω—ã¬†‚Äî —á–µ—Ä–µ–∑ <a href="https://en.wikipedia.org/wiki/Circuit_switching">—Å–µ—Ç—å —Å
–∫–æ–º–º—É—Ç–∞—Ü–∏–µ–π –∫–∞–Ω–∞–ª–æ–≤</a>, –∫–æ–≥–¥–∞ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ —Å–Ω–∞—á–∞–ª–∞ –≤—ã–¥–µ–ª—è–ª—Å—è
–∫–∞–Ω–∞–ª, –∞ –ø–æ—Ç–æ–º –ø–æ –Ω–µ–º—É –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –≥–æ–ª–æ—Å –∞–±–æ–Ω–µ–Ω—Ç–∞<sup><a id="fnr.pstn" class="footref" href="#fn.pstn" role="doc-backlink">5</a></sup>.
</p>

<p>
–ù–æ, —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ –≤–≤–µ–¥–µ–Ω–∏—è –≤ —Å—Ç—Ä–æ–π —Å–µ—Ç–µ–π 4G, –≤—Å—ë
–ø–æ–º–µ–Ω—è–ª–æ—Å—å. –¢–µ–ª–µ—Ñ–æ–Ω–∏—è —Å—Ç–∞–ª–∞ <a href="https://en.wikipedia.org/wiki/Voice_over_IP">IP-—Ç–µ–ª–µ—Ñ–æ–Ω–∏–µ–π</a>¬†‚Äî —Ç–µ–ø–µ—Ä—å –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ
–∫–∞–Ω–∞–ª–∞ –º–µ–∂–¥—É –∞–±–æ–Ω–µ–Ω—Ç–∞–º–∏. –ì–æ–ª–æ—Å —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ø–∞–∫–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ
—Ä–∞–∑–ª–∏—á–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∞–º –∫ –¥—Ä—É–≥–æ–º—É –∞–±–æ–Ω–µ–Ω—Ç—É, —á–µ—Ä–µ–∑ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç. –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –∫–∞–∫ –∏
–ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –ø–∞–∫–µ—Ç—ã –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ.
</p>

<p>
–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–∫–æ–π <a href="https://en.wikipedia.org/wiki/Packet_switching">—Å–µ—Ç–∏ —Å –ø–∞–∫–µ—Ç–Ω–æ–π
–∫–æ–º–º—É—Ç–∞—Ü–∏–µ–π</a>, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥–∞—á–∞ –≥–æ–ª–æ—Å–∞, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ <a href="https://en.wikipedia.org/wiki/IP_Multimedia_Subsystem">IP
Multimedia subsystem</a> (IMS). –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –¥–ª—è —ç—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –í –æ–±—ã—á–Ω—ã–π —Å—Ç–æ–∫–æ–≤—ã–π Android –æ—Ç Motorola (–∫–∞–∫ –∏ –≤
—Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π) –æ–Ω–æ, –ø–æ-–≤–∏–¥–∏–º–æ–º—É, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ
—É–º–æ–ª—á–∞–Ω–∏—é. –ù–æ –≤ –º–æ–µ–π –≤–µ—Ä—Å–∏–∏ LineageOS –µ–≥–æ –Ω–µ –±—ã–ª–æ, –≤–µ—Ä–æ—è—Ç–Ω–æ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å
–ª–∏—Ü–µ–Ω–∑–∏—è–º–∏.
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—ã–ª–∞ –æ–ø—Ü–∏—è –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è IMS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –≤–µ–Ω–¥–æ—Ä–∞:
¬´Phh Treble Settings‚áíIMS features¬ª.
</p>


<div class="figure">
<p><img src="/assets/static/ims.png" alt="IMS features in the LineageOS, &quot;Force IMS&quot; is enabled" align="center" width="50%" />
</p>
</div>

<p>
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø—É–Ω–∫—Ç –º–µ–Ω—é ¬´Install IMS APK for Qualcomm
vendor¬ª –∏ –≤–∫–ª—é—á–µ–Ω–∏—è –æ–ø—Ü–∏–∏ ¬´Request IMS network¬ª¬†‚Äî –∑–≤–æ–Ω–∫–∏ –∏ –°–ú–° —á–µ—Ä–µ–∑ 4G –Ω–∞—á–∞–ª–∏
—Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ.
</p>
</div>
</div>
<div id="outline-container-disable-floating-shit-on-copy" class="outline-2">
<h2 id="disable-floating-shit-on-copy">–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–π –µ—Ä—É–Ω–¥—ã –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞</h2>
<div class="outline-text-2" id="text-disable-floating-shit-on-copy">
<p>
–í Android 14 —è –æ–±–Ω–∞—Ä—É–∂–∏–ª <i>–æ—á–µ—Ä–µ–¥–Ω—É—é</i> ¬´–∏–Ω–Ω–æ–≤–∞—Ü–∏—é¬ª –æ—Ç Google. –ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏
–ª—é–±–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞, –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É –≤—Å–ø–ª—ã–≤–∞–µ—Ç –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ —Å–æ
—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–∞—Ä–æ–ª—è –∏–∑ <a href="https://www.passwordstore.org/">pass</a> –≤ –±—É—Ñ–µ—Ä
–æ–±–º–µ–Ω–∞¬†‚Äî —ç—Ç–æ—Ç –ø–∞—Ä–æ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è plain-text'–æ–º –≤ —ç—Ç–æ–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–µ.
</p>


<div class="figure">
<p><img src="/assets/static/clipboard_bubble.png" alt="Clipboard bubble with &quot;Hello&quot; string inside" align="center" width="25%" />
</p>
</div>

<p>
–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∞–∫–æ–π ¬´—Ñ–∏—á–∏¬ª –∫–∞–∫ –≤—Å–µ–≥–¥–∞ –æ–±–æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è ¬´—É–¥–æ–±—Å—Ç–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è¬ª¬†‚Äî
—á—Ç–æ–±—ã –æ–Ω –±—ã–ª —É–≤–µ—Ä–µ–Ω –≤ —Ç–æ–º, —á—Ç–æ —á—Ç–æ-—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–æ—Å—å. –ù–æ, –∫–∞–∫ –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —Ç—É—Ç
–±–æ–ª—å—à–µ –∑–∞–¥—É–º—ã–≤–∞–ª–∏—Å—å –æ–± —É–¥–æ–±—Å—Ç–≤–µ –ª—é–±–æ–≥–æ –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞, –ø–æ–¥–≥–ª—è–¥—ã–≤–∞—é—â–µ–≥–æ —á–µ—Ä–µ–∑
–ø–ª–µ—á–æ –∑–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏–º –Ω–∞ —ç–∫—Ä–∞–Ω–µ —á—É–∂–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –¢–µ–º –±–æ–ª–µ–µ —á—Ç–æ —ç—Ç–æ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ
–æ–∫–Ω–æ –Ω–µ–æ—Ç–∫–ª—é—á–∞–µ–º–æ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬†‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç.
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, –ø–æ—Å–ª–µ –Ω–µ–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ —è –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö —Å
root —ç—Ç–∞ —à—Ç—É–∫–∞ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ:
</p>
<ol class="org-ol">
<li>–ù–∞–¥–æ –æ—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª.</li>
<li>–ü–æ–ª—É—á–∏—Ç—å root-–¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ <code>su</code>.</li>
<li>–í—ã–ø–æ–ª–Ω–∏—Ç—å –æ—Ç —Ä—É—Ç–∞ –∫–æ–º–∞–Ω–¥—É <code>appops set com.android.systemui READ_CLIPBOARD
   ignore</code>.</li>
</ol>

<p>
–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —ç—Ç–∞ —à—Ç—É–∫–∞ –±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∞ <b>–Ω–∞–≤—Å–µ–≥–¥–∞</b> –∏ –Ω–µ –≤–µ—Ä–Ω—ë—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ
–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.
</p>
</div>
</div>
<div id="outline-container-turn-off-usb-debugging" class="outline-2">
<h2 id="turn-off-usb-debugging">–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏ –ø–æ USB</h2>
<div class="outline-text-2" id="text-turn-off-usb-debugging">
<p>
–î–æ–≤–æ–ª—å–Ω–æ –±—ã—Å—Ç—Ä–æ —è –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ –æ—Ç–ª–∞–¥–∫–∞ –ø–æ USB –ø–æ—á–µ–º—É-—Ç–æ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
–≤–∫–ª—é—á—ë–Ω–Ω–æ–π –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –Ω–µ–≥–æ–∂–µ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–∞–∫—É—é –¥—ã—Ä—É
–≤ —Å–∏—Å—Ç–µ–º–µ –¥–ª—è –ª—é–±–æ–≥–æ –ª–æ–≤–∫–∞—á–∞ —Å USB-–∫–∞–±–µ–ª–µ–º. –í —Å–ª—É—á–∞–µ —Å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º
–∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º –≤–∫–ª—é—á–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –ø–æ USB –ø–æ–∑–≤–æ–ª–∏—Ç –∑–∞–ø–∏—Å–∞—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ –≤–æ
—Ñ–ª–µ—à-–ø–∞–º—è—Ç—å —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –≤ bootloader.
</p>

<p>
–í –±–∞–≥-—Ç—Ä–µ–∫–µ—Ä–µ LineageOS —è –Ω–∞—à—ë–ª –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –±–∞–≥–∞ –≤ LineageOS <a href="https://review.lineageos.org/c/LineageOS/android_device_xiaomi_sdm845-common/+/253967">–≤
–≤–µ—Ä—Å–∏–∏ 16.0</a> –∏ <a href="https://review.lineageos.org/c/LineageOS/android_device_oneplus_sdm845-common/+/330486">–≤ 19.1</a>, –Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è Xiaomi. ¬´–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ¬ª –ø—Ä–æ–±–ª–µ–º—ã
—á–µ—Ä–µ–∑ <code>setprop persist.vendor.usb.config ""</code> ‚Äî –Ω–µ –ø–æ–º–æ–≥–ª–æ, —ç—Ç–∞ –æ–ø—Ü–∏—è –≤—Å—ë —Ä–∞–≤–Ω–æ
—Å–±—Ä–∞—Å—ã–≤–∞–ª–∞—Å—å –≤ <code>"adb"</code> –∏ –æ—Ç–ª–∞–¥–∫–∞ –ø–æ USB –æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å —Å–Ω–æ–≤–∞ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ—Å–ª–µ
–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.
</p>

<p>
–ë–µ–≥–ª—ã–π –ø–æ–∏—Å–∫ –ø–æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è–ª–∏—Å—å –≤
–∑–∞–¥–∞—á–∞—Ö –∏–∑ –±–∞–≥—Ç—Ä–µ–∫–µ—Ä–∞, –µ—Å—Ç—å –∏ –≤ –º–æ–µ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, –≤ –∫–∞—Ç–∞–ª–æ–≥–µ <code>/vendor/</code>:
</p>
<pre class="example">
:/ # find / -type f -name init.qcom.usb.sh
/vendor/bin/init.qcom.usb.sh
:/ # find / -type f -name default.prop
/vendor/default.prop
</pre>

<p>
–ö–∞—Ç–∞–ª–æ–≥ <code>/vendor</code> –æ–∫–∞–∑–∞–ª—Å—è —Ç–æ—á–∫–æ–π –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ <code>/dev/block/dm-5</code> –∏
—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –ø–µ—Ä–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ RW —Ä–µ–∂–∏–º–µ, —É–≤—ã –±–µ–∑—É—Å–ø–µ—à–Ω–æ:
</p>
<pre class="example">
:/ # mount | grep 'on /vendor'
/dev/block/dm-5 on /vendor type ext4 (ro,seclabel,relatime)
:/ # mount -o remount,rw /vendor
'/dev/block/dm-5' is read-only
</pre>

<p>
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —è –ø–æ–ª–µ–∑ –≤ –∫–∞—Ç–∞–ª–æ–≥ <code>/etc/init</code>, –≥–¥–µ –ø–æ –∏–¥–µ–µ –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å
–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã. –¢–∞–º –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏—Å—å —Ñ–∞–π–ª—ã, –æ—Ç–¥–∞–ª—ë–Ω–Ω–æ –ø–æ—Ö–æ–∂–∏–µ –Ω–∞
unit-—Ñ–∞–π–ª—ã systemd. –°–Ω–∞—á–∞–ª–∞ —è –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π
–±—É–¥–µ—Ç –æ—Ç–∫–ª—é—á–∞—Ç—å –æ—Ç–ª–∞–¥–∫—É –ø–æ USB –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –µ—ë –∫—Ç–æ-—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:
</p>
<pre class="example">
on property:persist.vendor.usb.config="adb"
    settings put global adb_enabled 0
    setprop persist.vendor.usb.config ""
</pre>

<p>
–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∫–æ—Ä–Ω–µ–≤–∞—è –§–° —Ç–æ–∂–µ –æ–∫–∞–∑–∞–ª–∞—Å—å —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤ read-only –∏
–æ—Ç–∫–∞–∑–∞–ª–∞—Å—å –ø–µ—Ä–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ <code>mount -o remount,rw /</code>.
</p>

<p>
–ù–æ, –∫–æ–≥–¥–∞ —è —Ä–µ—à–∏–ª –¥–ª—è —Ç–µ—Å—Ç–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ root-—Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø–∞—Ä—É
–∫–æ–º–∞–Ω–¥<sup><a id="fnr.disable_usb" class="footref" href="#fn.disable_usb" role="doc-backlink">6</a></sup> –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ –æ—Ç–ª–∞–¥–∫–∏ –ø–æ USB –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª
—Ç–µ–ª–µ—Ñ–æ–Ω¬†‚Äî —É –º–µ–Ω—è –≤—Å—ë –ø–æ–ª—É—á–∏–ª–æ—Å—å. –û—Ç–ª–∞–¥–∫–∞ —á–µ—Ä–µ–∑ USB –æ—Ç–∫–ª—é—á–∏–ª–∞—Å—å –∏ –±–æ–ª—å—à–µ –Ω–µ
–≤–∫–ª—é—á–∞–ª–∞—Å—å –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.
</p>
</div>
</div>
<div id="outline-container-root-apps" class="outline-2">
<h2 id="root-apps">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–µ–Ω root</h2>
<div class="outline-text-2" id="text-root-apps">
<p>
–¢–µ–ø–µ—Ä—å, –ø–∞—Ä–∞ —Å–ª–æ–≤ –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, —Ä–∞–¥–∏ –∫–æ—Ç–æ—Ä—ã—Ö –º–Ω–µ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å –ø–æ–ª—É—á–∞—Ç—å
–¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é <code>root</code> –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.
</p>
</div>
<div id="outline-container-appstores" class="outline-3">
<h3 id="appstores">–ú–∞–≥–∞–∑–∏–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</h3>
<div class="outline-text-3" id="text-appstores">
<p>
–í–æ-–ø–µ—Ä–≤—ã—Ö, —ç—Ç–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ <a href="https://f-droid.org/">F-Droid</a>.
</p>


<div class="figure">
<p><img src="/assets/static/f-droid.png" alt="F-Droid main window" align="center" />
</p>
</div>

<p>
–°–∞–º–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é <code>root</code> –Ω–µ –Ω—É–∂–µ–Ω, –Ω–æ –¥–ª—è Magisk-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è <a href="https://github.com/entr0pia/Fdroid-Priv">Fdroid-Priv</a> –æ–Ω
–ø—Ä–æ—Å—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º. –≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏, –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –æ–∫–Ω–∞ ¬´Install
this application?¬ª
</p>

<p>
–í–æ-–≤—Ç–æ—Ä—ã—Ö, —ç—Ç–æ <a href="https://f-droid.org/en/packages/com.aurora.store/">Aurora Store</a>¬†‚Äî FOSS –∑–∞–º–µ–Ω–∞ Google Play. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Google
Play —ç—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∫–ª–∞–º—É –Ω–∞ –∫–∞–∂–¥—ã–π —á–∏—Ö –∏ –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–æ
–≤–∫–ª–∞–¥–∫–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏. –ù–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –µ—Å—Ç—å –≤—Å–µ–≥–æ —Ç—Ä–∏ –≤–∫–ª–∞–¥–∫–∏:
</p>
<ol class="org-ol">
<li>—Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–∑ Google Play</li>
<li>—Å–ø–∏—Å–æ–∫ –∏–≥—Ä –æ—Ç—Ç—É–¥–∞ –∂–µ</li>
<li>—Å–ø–∏—Å–æ–∫ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.</li>
</ol>


<div class="figure">
<p><img src="/assets/static/aurora-store.png" alt="Aurora Store main window" align="center" width="50%" />
</p>
</div>

<p>
–ù–∞—É—á–∏—Ç—å Aurora Store —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–∂–∞—Ç–∏–µ–º –æ–¥–Ω–æ–π
–∫–Ω–æ–ø–∫–∏ –æ–∫–∞–∑–∞–ª–æ—Å—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ:
</p>
<ul class="org-ul">
<li>–°–Ω–∞—á–∞–ª–∞ –≤ F-Droid –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ¬´<a href="https://apt.izzysoft.de/fdroid/">IzzyOnDroid F-Droid Repository</a>¬ª.</li>
<li>–ü–æ—Ç–æ–º –æ—Ç—Ç—É–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ <a href="https://shizuku.rikka.app/">Shizuku</a>, –∫–æ—Ç–æ—Ä–æ–µ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç
–µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ <code>root</code>.</li>
<li>–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Aurora Store –Ω–∞–¥–æ –±—ã–ª–æ –æ—Ç–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω ¬´Installation‚áíInstallation
method¬ª –∏ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é <b>–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π</b> –¥–æ—Å—Ç—É–ø –∫ <code>root</code>.</li>
<li><p>
–ù–∞ —ç—Ç–æ–º —ç–∫—Ä–∞–Ω–µ –Ω–∞–¥–æ –≤—ã–±—Ä–∞—Ç—å ¬´Shizuku¬ª –≤ –∫–∞—á–µ—Å—Ç–≤–µ –º–µ—Ç–æ–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
</p>


<div class="figure">
<p><img src="/assets/static/aurora-store-shizuku.png" alt="Installation methods from Aurora Store. Shizuku method is selected" align="center" width="50%" />
</p>
</div></li>
</ul>

<p>
–í –∏—Ç–æ–≥–µ, –≤ Aurora Store –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ Google Play –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–æ
–Ω–∞–∂–∞—Ç–∏—é –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–∏.
</p>

<p>
–í —Ç—Ä–µ—Ç—å–∏—Ö, —ç—Ç–æ <a href="https://f-droid.org/en/packages/dev.imranr.obtainium.fdroid/">Obtainium</a>¬†‚Äî –æ–Ω —É–º–µ–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å APK —Å GitHub, GitLab –∏ –ø—Ä–æ—á–∏—Ö
–∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö —Å–∞–π—Ç–æ–≤.
</p>


<div class="figure">
<p><img src="/assets/static/obtainium.png" alt="Obtainium main window with ForkGram, LawnIcons and Shattered Pixel Dungeon" align="center" />
</p>
</div>

<p>
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ FOSS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Google Play –∏ –∏—Ö –Ω–µ—Ç –≤
F-Droid<sup><a id="fnr.no-in-fdroid" class="footref" href="#fn.no-in-fdroid" role="doc-backlink">7</a></sup>. –¢–∞–∫ –∫–∞–∫ —è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Aurora Store —Ç–æ–ª—å–∫–æ
–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å—è–∫–∏—Ö –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π¬†‚Äî —è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é —Ç–∞–∫–∏–µ
FOSS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Obtainium.
</p>
</div>
</div>
<div id="outline-container-firewall" class="outline-3">
<h3 id="firewall">Firewall (AFWall+)</h3>
<div class="outline-text-3" id="text-firewall">
<p>
–í –∫–∞—á–µ—Å—Ç–≤–µ firewall'–∞ —è –∏—Å–ø–æ–ª—å–∑—É—é <a href="https://f-droid.org/en/packages/dev.ukanth.ufirewall/">AFWall+</a> ‚Äî –æ–Ω —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å iptables –∏ –Ω–µ
–∑–∞–Ω–∏–º–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π VPN-—Å–ª–æ—Ç –≤ —Å–∏—Å—Ç–µ–º–µ, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –¥—Ä—É–≥–∏–µ
firewall'—ã, –Ω–µ —Ç—Ä–µ–±—É—é—â–∏–µ root –¥–ª—è —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç—ã.
</p>


<div class="figure">
<p><img src="/assets/static/afwall.png" alt="AFWall+ firewall main windows with two profiles: Default and special profile for some apps" align="center" />
</p>
</div>

<p>
–° —ç—Ç–æ–π —à—Ç—É–∫–æ–π —è –º–æ–≥—É –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∫–∞–∫–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ–≥–¥–∞ –∏
–∫–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–≥—É—Ç –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç¬†‚Äî –º–æ–∂–Ω–æ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç, —Ç–∞–∫ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫–∏–º–∏-—Ç–æ
–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π: WiFi, –º–æ–±–∏–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º, –º–æ–±–∏–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º
–≤ —Ä–æ—É–º–∏–Ω–≥–µ, VPN –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ü–ª—é—Å, –∫–∞–∫ –≤–∏–¥–Ω–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ, –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞
–ø—Ä–æ—Ñ–∏–ª–µ–π¬†‚Äî –º–æ–∂–Ω–æ –∑–∞–≤–µ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å —Å —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –≤–∫–ª—é—á–∞—Ç—å –µ–≥–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
</p>

<p>
–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –±–µ–∑ –º–∏–Ω—É—Å–æ–≤ –Ω–µ –æ–±–æ—à–ª–æ—Å—å¬†‚Äî –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ (3.6.0) AFWall+ –¥–∞—ë—Ç
—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤ —Ñ–∞–π–ª –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –æ —Ç–æ–º,
—á—Ç–æ –∑–∞ –∏–º–ø–æ—Ä—Ç —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–∞–¥–æ –±—É–¥–µ—Ç –∑–∞–ø–ª–∞—Ç–∏—Ç—å –¥–µ–Ω–µ–≥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É. –ò–ú–•–û,
—á–µ—Å—Ç–Ω–µ–µ –±—ã–ª–æ –±—ã –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–± —ç—Ç–æ–º —Å—Ä–∞–∑—É –∂–µ –≤–æ –≤—Ä–µ–º—è —ç–∫—Å–ø–æ—Ä—Ç–∞.
</p>

<p>
–û–¥–∏–Ω –Ω—é–∞–Ω—Å (—è –Ω–µ –º–æ–≥—É –Ω–∞–∑–≤–∞—Ç—å —ç—Ç–æ –º–∏–Ω—É—Å–æ–º), –æ –∫–æ—Ç–æ—Ä–æ–º –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å: –µ—Å–ª–∏
–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å firewall –∫–∞–∫ –Ω–∞–¥–æ¬†‚Äî –∑–∞–ø—Ä–µ—Ç–∏–≤ –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤—Å–µ–º, –∫–æ–º—É —è–≤–Ω–æ –Ω–µ
—Ä–∞–∑—Ä–µ—à–∏–ª–∏ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–∞–º–∏¬†‚Äî —Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥–æ—Å—Ç—É–ø–∞ –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –º–µ—Ç–æ–¥–æ–º
¬´—Å—Ç—É—á–∏–º—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ì—É–≥–ª–∞ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ç–∏¬ª —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ –±—É–¥–µ—Ç. –Ø –Ω–µ
—Å—Ç–∞–ª –∏—Å–∫–∞—Ç—å –∫–∞–∫–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —ç—Ç–æ –∏ –∫–∞–∫ –ø–æ–º–µ–Ω—è—Ç—å –∞–¥—Ä–µ—Å
<a href="http://clients3.google.com/">http://clients3.google.com/</a> –Ω–∞ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –±–æ–ª–µ–µ –ø—Ä–∏–ª–∏—á–Ω—ã–π¬†‚Äî –∏ –ø—Ä–æ—Å—Ç–æ
–æ—Ç–∫–ª—é—á–∏–ª captive portal check <a href="https://github.com/ukanth/afwall/wiki/FAQ#61-what-is-androids-captive-portal-check">–ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–∑ FAQ AFWall+</a>.
</p>
</div>
</div>
<div id="outline-container-adblocker" class="outline-3">
<h3 id="adblocker">System-wide –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ä–µ–∫–ª–∞–º—ã (AdAway)</h3>
<div class="outline-text-3" id="text-adblocker">
<p>
<a href="https://f-droid.org/en/packages/org.adaway/">–≠—Ç—É —à—Ç—É–∫—É</a> —è –≤—ã–±–∏—Ä–∞–ª –ø–æ —Ç–æ–º—É –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—É, —á—Ç–æ –∏ AFWall+¬†‚Äî —á—Ç–æ–±—ã –æ–Ω–∞ –º–æ–≥–ª–∞
—Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–µ –∑–∞–Ω–∏–º–∞—è VPN-—Å–ª–æ—Ç.
</p>


<div class="figure">
<p><img src="/assets/static/adaway.png" alt="AdAway main window" align="center" />
</p>
</div>

<p>
–í AdAway –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –ª—é–±–∏–º—ã–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—Å—è–∫–∏—Ö
–Ω–µ–Ω—É–∂–Ω—ã—Ö –∏ –≤—Ä–µ–¥–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä –∏–∑–≤–µ—Å—Ç–Ω—ã–π <a href="https://someonewhocares.org/hosts/hosts">Dan Pollocks hosts file</a> –∏–ª–∏
<a href="https://raw.githubusercontent.com/mtxadmin/ublock/master/hosts.txt">hosts-—Ñ–∞–π–ª</a> –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã.
</p>
</div>
</div>
<div id="outline-container-acca" class="outline-3">
<h3 id="acca">AccA¬†‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—Ä—è–¥–∫–æ–π/—Ä–∞–∑—Ä—è–¥–∫–æ–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞</h3>
<div class="outline-text-3" id="text-acca">
<p>
–ú–µ–Ω—è –≤—Å–µ–≥–¥–∞ –±–µ—Å–ø–æ–∫–æ–∏–ª–æ —Ç–æ, —á—Ç–æ –º–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º "turbo-–∑–∞—Ä—è–¥–∫–∏"
—Å—Ä–∞–∑—É –∂–µ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –µ–≥–æ –ø–æ–¥–∫–ª—é—á–∞—é—Ç –∫ —á–µ–º—É-—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–µ–µ, —á–µ–º —Å—Ç–∞—Ä—ã–π –∑–∞—Ä—è–¥–Ω–∏–∫
—Å USB2.0. –û—Ç–∫–ª—é—á–∏—Ç—å —ç—Ç—É ¬´—Ñ–∏—á—É¬ª –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∞ —Å –Ω–µ–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –∑–∞—Ä—è–∂–∞–µ—Ç—Å—è
—Å –±–û–ª—å—à–∏–º, –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ, —Ç–æ–∫–æ–º –∑–∞—Ä—è–¥–∫–∏ –∏ —Å–∏–ª—å–Ω–æ –ø—Ä–∏ —ç—Ç–æ–º
–≥—Ä–µ–µ—Ç—Å—è. –ö–æ–Ω–µ—á–Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –æ–Ω –∑–∞—Ä—è–∂–∞–µ—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ, –Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ <a href="https://batteryuniversity.com/article/bu-808-how-to-prolong-lithium-based-batteries">—É–º–µ–Ω—å—à–∞–µ—Ç—Å—è
—Å—Ä–æ–∫ —Å–ª—É–∂–±—ã –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞</a>.
</p>

<p>
–ò —Ç—É—Ç —è –Ω–∞—à—ë–ª <a href="https://github.com/MatteCarra/AccA">–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ AccA</a> –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –Ω–∏–º <a href="https://github.com/VR-25/acc">–¥–µ–º–æ–Ω acc</a>. –î–µ–º–æ–Ω —É–º–µ–µ—Ç –¥–µ–ª–∞—Ç—å
–≤—Å—ë, —á—Ç–æ –º–Ω–µ –±—ã–ª–æ –Ω–∞–¥–æ:
</p>
<ul class="org-ul">
<li>–æ–Ω –Ω–µ –¥–∞—ë—Ç –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä—É –∑–∞—Ä—è–∂–∞—Ç—å—Å—è –¥–æ 100%, –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—è –∑–∞—Ä—è–¥–∫—É –Ω–∞ 70% (–ø–æ
—É–º–æ–ª—á–∞–Ω–∏—é)</li>
<li>–Ω–µ –¥–∞—ë—Ç —Ç–µ–ª–µ—Ñ–æ–Ω—É —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –∑–∞—Ä—è–¥–∞ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞,
–≤—ã–∫–ª—é—á–∞—è —Å–∏—Å—Ç–µ–º—É –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 10% –∑–∞—Ä—è–¥–∞ (–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</li>
<li>—É–º–µ–µ—Ç —Å—Ç–∞–≤–∏—Ç—å –∑–∞—Ä—è–¥–∫—É –Ω–∞ –ø–∞—É–∑—É, –µ—Å–ª–∏ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –Ω–∞–≥—Ä–µ–ª—Å—è –¥–æ 60¬∞C, —á—Ç–æ–±—ã –æ–Ω
–æ—Å—Ç—ã–ª –∏ –Ω–µ –ø–µ—Ä–µ–≥—Ä–µ–≤–∞–ª—Å—è</li>
<li>–æ—Ç–∫–ª—é—á–∞–µ—Ç turbo-–∑–∞—Ä—è–¥–∫—É –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–Ω—ã—Ö —Ç–æ–∫–∞—Ö.</li>
</ul>

<p>
–ù—É –∞ AccA —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–ª—è –¥–µ–º–æ–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç –µ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏
–Ω–∞—Å—Ç—Ä–æ–π–∫—É:
</p>


<div class="figure">
<p><img src="/assets/static/acca.png" alt="AccA main window with battery realtime parameters" align="center" />
</p>
</div>

<p>
–° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ —è –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Å–ø–æ–∫–æ–π–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é —Ç–µ–ª–µ—Ñ–æ–Ω –≤–µ—Å—å –¥–µ–Ω—å,
–∞ –Ω–æ—á—å—é –æ–Ω —Å—Ç–æ–∏—Ç –Ω–∞ –∑–∞—Ä—è–¥–∫–µ. –ï—Å–ª–∏ –º–Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –±—ã—Å—Ç—Ä–æ –∑–∞—Ä—è–¥–∏—Ç—å –µ–≥–æ –¥–æ 100%
–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä –Ω–∞ –≤—Å—é –∫–∞—Ç—É—à–∫—É¬†‚Äî –≤ Acca –¥–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞
¬´Charge once to #% without restrictions¬ª.
</p>
</div>
</div>
<div id="outline-container-colorblendr" class="outline-3">
<h3 id="colorblendr">–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã (ColorBlendr)</h3>
<div class="outline-text-3" id="text-colorblendr">
<p>
–≠—Ç–æ –ø—Ä–æ—Å—Ç–µ–Ω—å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–º–µ–µ—Ç –º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –≤ —Å–∏—Å—Ç–µ–º–µ
—Ç–µ–º—ã. –ù–µ–º–Ω–æ–≥–æ –ø–æ–∏–≥—Ä–∞–≤—à–∏—Å—å —Å –Ω–∏–º, —è —Å–º–æ–≥ —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ –º–æ–π –ª—é–±–∏–º–æ–π
Solarized Light —Ç–µ–º—ã –Ω–∞ —Å–≤–æ—ë–º —Ç–µ–ª–µ—Ñ–æ–Ω–µ:
</p>


<div class="figure">
<p><img src="/assets/static/colorblendr.png" alt="ColorBlendr main window" align="center" />
</p>
</div>

<p>
<a href="https://f-droid.org/en/packages/com.drdisagree.colorblendr/">–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</a>.
</p>
</div>
</div>
<div id="outline-container-sdmaid2se" class="outline-3">
<h3 id="sdmaid2se">SD Maid 2/SE¬†‚Äî –æ—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ç –º—É—Å–æ—Ä–∞</h3>
<div class="outline-text-3" id="text-sdmaid2se">
<p>
–≠—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—É —è –Ω–∞—á–∞–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—â—ë –¥–∞–≤–Ω–æ¬†‚Äî –æ–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—á–∏—â–∞—Ç—å
—Ñ–ª–µ—à-–ø–∞–º—è—Ç—å –∏ SD-–∫–∞—Ä—Ç—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –æ—Ç –≤—Å—è–∫–æ–≥–æ –º—É—Å–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–º –æ–Ω–∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º
–∑–∞–±–∏–≤–∞—é—Ç—Å—è: –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –ø—É—Å—Ç—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏, –¥—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤, –≤—Å—è–∫–∏–µ –∫—ç—à–∏,
¬´–æ—Å—Ç–∞—Ç–∫–∏¬ª –æ—Ç —É–∂–µ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ —Ç.–¥.
</p>


<div class="figure">
<p><img src="/assets/static/sdmaid2se.png" alt="SD Maid 2/SE main window" align="center" />
</p>
</div>

<p>
–° root-–¥–æ—Å—Ç—É–ø–æ–º SD Maid 2/SE —Å–ø–æ—Å–æ–±–Ω–∞ –Ω–∞ –±–æ–ª—å—à–µ–µ¬†‚Äî –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
APK, –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞ –æ—á–∏—Å—Ç–∫—É —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫—ç—à–µ–π –∏
–ª–æ–≥–æ–≤, —É–¥–∞–ª–µ–Ω–∏–µ bug report'–æ–≤ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.
</p>

<p>
–ó–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Å—è—Ü–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —É–¥–∞–ª–∏–ª–∞ –º–Ω–µ –æ–∫–æ–ª–æ 10¬†–ì–±
—Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º—É—Å–æ—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–Ω–∏–º–∞–ª–∏ –±—ã –º–µ—Å—Ç–æ
–Ω–∞ —Ñ–ª—ç—à-–ø–∞–º—è—Ç–∏.
</p>

<p>
<a href="https://f-droid.org/en/packages/eu.darken.sdmse/">–°—Å—ã–ª–∫–∞ –Ω–∞ SD Maid 2/SE</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-backups" class="outline-2">
<h2 id="backups">–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
<div class="outline-text-2" id="text-backups">
<blockquote>
<p>
–õ—é–¥–∏ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞¬†‚Äî –Ω–∞ —Ç–µ—Ö –∫—Ç–æ –µ—â—ë –Ω–µ –¥–µ–ª–∞–µ—Ç –±–µ–∫–∞–ø—ã –∏ –Ω–∞ —Ç–µ—Ö, –∫—Ç–æ —É–∂–µ
–¥–µ–ª–∞–µ—Ç –±–µ–∫–∞–ø—ã.
</p>
</blockquote>
</div>
<div id="outline-container-neobackup" class="outline-3">
<h3 id="neobackup">Neo Backup</h3>
<div class="outline-text-3" id="text-neobackup">
<p>
–î–ª—è —Ä—è–¥–æ–≤–æ–≥–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —è –ø–æ–ª—å–∑—É—é—Å—å FOSS-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º <a href="https://f-droid.org/packages/com.machiav3lli.backup/">Neo Backup</a>.
</p>


<div class="figure">
<p><img src="/assets/static/neobackup.png" alt="Neo Backup application's backup tab with list of applications on it" align="center" />
</p>
</div>

<p>
–û–Ω–æ –∫–æ–Ω–µ—á–Ω–æ –∂–µ —Ç—Ä–µ–±—É–µ—Ç <code>root</code> –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ —É–º–µ–µ—Ç:
</p>
<ol class="org-ol">
<li>–î–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.</li>
<li>–î–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É —ç—Ç–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.</li>
<li>–°–∂–∏–º–∞—Ç—å –±–µ–∫–∞–ø—ã —á–µ—Ä–µ–∑ zstd –∏–ª–∏ gzip.</li>
<li>–®–∏—Ñ—Ä–æ–≤–∞—Ç—å –∏—Ö.</li>
</ol>

<p>
–í–∑–∞–º–µ–Ω, –æ–Ω–æ <b>–æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ</b> –Ω–∞–≥—Ä—É–∂–∞–µ—Ç —Å–≤–æ–∏–º IO —Ç–æ—Ç –Ω–æ—Å–∏—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ—ç—Ç–æ–º—É, –ª—É—á—à–µ –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø –Ω–∞ SD-–∫–∞—Ä—Ç—É, –∫–æ—Ç–æ—Ä—É—é
–ø–æ–º–µ–Ω—è—Ç—å –ª–µ–≥—á–µ, —á–µ–º —Ñ–ª–µ—à-–ø–∞–º—è—Ç—å —Å –≤—ã—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º –∑–∞–ø–∏—Å–∏ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ.
</p>

<p>
–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è <a href="https://eugene-andrienko.com/uses">–≤—Å–µ—Ö –º–æ–∏—Ö</a> —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∑–∞–Ω—è–ª–∞ —á—É—Ç—å –º–µ–Ω—å—à–µ —á–∞—Å–∞,
–ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º —Å–∂–∞—Ç–∏–∏ –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–∏. –ò –æ–Ω–∞ –≤—ã—à–ª–∞ –Ω–µ —Å–∏–ª—å–Ω–æ –±–æ–ª—å—à–æ–π –ø–æ
—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –º–µ—Ä–∫–∞–º¬†‚Äî –≤—Å–µ–≥–æ –æ–∫–æ–ª–æ 3.6¬†–ì–±.
</p>
</div>
</div>
<div id="outline-container-flash-memory-backup" class="outline-3">
<h3 id="flash-memory-backup">–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ flash-–ø–∞–º—è—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞</h3>
<div class="outline-text-3" id="text-flash-memory-backup">
<p>
–í –ø—Ä–∏–Ω—Ü–∏–ø–µ, –∏–¥–µ–∞–ª—å–Ω–æ –±—ã–ª–æ –±—ã —Å–¥–µ–ª–∞—Ç—å –µ—â—ë –∏ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ —Å
—Ñ–ª—ç—à-–ø–∞–º—è—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –ø—Ä–∏ –ø–æ–º–æ—â–∏ <code>fastboot fetch</code>. –ù–æ –≤–Ω–µ–∑–∞–ø–Ω–æ –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –Ω–∞
—Å—Ç–æ—Ä–æ–Ω–µ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:
</p>

<pre class="example">
phone_backup/fastboot % fastboot fetch partition gpt.bin
(bootloader) max-fetch-size: not found
fastboot: error: Unable to get max-fetch-size. Device does not support fetch command.
</pre>

<p>
–° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã —ç—Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç –º–Ω–µ —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã,
—ç—Ç–æ <i>–Ω–∏–∫–æ–º—É</i> –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–ª—ç—à-–ø–∞–º—è—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±–µ–∑ –µ–≥–æ
—Ä–∞–∑–±–æ—Ä–∫–∏.
</p>
</div>
</div>
</div>
<div id="outline-container-bugs" class="outline-2">
<h2 id="bugs">BUGS</h2>
<div class="outline-text-2" id="text-bugs">
<p>
–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –Ω–µ –æ–±–æ—à–ª–æ—Å—å –±–µ–∑ –±–∞–≥–æ–≤!
</p>

<ul class="org-ul">
<li><p>
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ¬´Phh Treble Settings‚áíMisc features‚áíSet rounded corner diameter¬ª –∏
¬´Phh Treble Settings‚áíMisc features‚áíSet forced/faked rounded corners
diameter¬ª –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç. –ü–æ—Å–ª–µ –Ω–µ–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —è –≤—ã—è—Å–Ω–∏–ª
–ª–∏—à—å —Ç–æ, —á—Ç–æ —ç—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∏ —É –∫–æ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç.
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, –º–Ω–µ –ø–æ–≤–µ–∑–ª–æ –∏ —ç—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ –ø–æ–≤–ª–∏—è–ª–∞ –Ω–∞ —É–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
—Ç–µ–ª–µ—Ñ–æ–Ω–∞. –í—Å–µ, —á—Ç–æ –æ–Ω–∞ –∑–∞—Ç—Ä–æ–Ω—É–ª–∞:
</p>
<ul class="org-ul">
<li>–ö—É—Å–æ–∫ –∏–º–µ–Ω–∏ –û–ü–°–û–°–∞ –≤ –ø–∞–Ω–µ–ª–∏ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
–æ–±—Ä–µ–∑–∞–µ—Ç—Å—è —Å–ª–µ–≤–∞.</li>
<li>–ù–µ–±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å —Å–∞–º–æ–π –ª–µ–≤–æ–π –∏–∫–æ–Ω–∫–∏ —Å –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –≤ —ç—Ç–æ–π –∂–µ –ø–∞–Ω–µ–ª–∏¬†‚Äî —Ç–æ–∂–µ
–æ–±—Ä–µ–∑–∞–µ—Ç—Å—è —Å–ª–µ–≤–∞.</li>
<li>–ö–Ω–æ–ø–∫–∏ –Ω–∞ –Ω–∏–∂–Ω–µ–π –ø–∞–Ω–µ–ª–∏ –≤ –∏–≥—Ä–µ Shattered Pixel Dungeon –Ω–µ–º–Ω–æ–≥–æ –≤—ã–ª–µ–∑–∞—é—Ç –∑–∞
–ø—Ä–µ–¥–µ–ª—ã —ç–∫—Ä–∞–Ω–∞, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–µ–π.</li>
</ul></li>
<li>–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç NFC, –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –Ω—ë–º –∏ –¥–∞–∂–µ –Ω–µ—Ç –ø–ª–∞—à–∫–∏
¬´–≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å NFC¬ª –≤ –ø–∞–Ω–µ–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π. –≠—Ç—É –ø—Ä–æ–±–ª–µ–º—É —è –Ω–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–ª,
–ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫ –∏ –Ω–µ –Ω–∞—à—ë–ª, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é.</li>
</ul>
</div>
</div>
<div id="outline-container-notes" class="outline-2">
<h2 id="notes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</h2>
<div class="outline-text-2" id="text-notes">
</div>
</div>
<div id="footnotes">

<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.device_tree" class="footnum" href="#fnr.device_tree" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://elinux.org/Device_Tree_Reference">https://elinux.org/Device_Tree_Reference</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.xbl" class="footnum" href="#fnr.xbl" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://xdaforums.com/t/location-and-function-of-xbl-elf-qupv3fw-elf-cmnlib-mbn-in-the-aosp-output-build.4351213/#post-88989497">https://xdaforums.com/t/location-and-function-of-xbl-elf-qupv3fw-elf-cmnlib-mbn-in-the-aosp-output-build.4351213/#post-88989497</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.fsg" class="footnum" href="#fnr.fsg" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ <code>fastboot</code> –æ—á–∏—â–∞–µ—Ç —ç—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø—Ä–∏ –ø—Ä–æ—à–∏–≤–∫–µ <code>radio.img</code>.
</p></div></div>

<div class="footdef"><sup><a id="fn.gsi_naming_conventions" class="footnum" href="#fnr.gsi_naming_conventions" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://github.com/phhusson/treble_experimentations/wiki/Frequently-Asked-Questions-(FAQ)#naming-conventions-that-some-gsi-buildermaintainer-uses">Naming conventions that some GSI builder/maintainer
uses</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.pstn" class="footnum" href="#fnr.pstn" role="doc-backlink">5</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–°–º. —Å—Ç–∞—Ç—å—é –ø—Ä–æ <a href="https://en.wikipedia.org/wiki/Public_switched_telephone_network">PSTN</a> (Public switched telephone network).
</p></div></div>

<div class="footdef"><sup><a id="fn.disable_usb" class="footnum" href="#fnr.disable_usb" role="doc-backlink">6</a></sup> <div class="footpara" role="doc-footnote"><pre class="example">
:/ # settings put global adb_enabled 0
:/ # setprop persist.vendor.usb.config ""
</pre></div></div>

<div class="footdef"><sup><a id="fn.no-in-fdroid" class="footnum" href="#fnr.no-in-fdroid" role="doc-backlink">7</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–í–æ–∑–º–æ–∂–Ω–æ, –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ F-Droid —Ç—Ä–µ–±—É–µ—Ç reproducible builds
–∏–ª–∏ –∏–º–µ–µ—Ç <a href="https://f-droid.org/en/docs/Inclusion_Policy/">—á—ë—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è</a> –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, –∫–æ—Ç–æ—Ä—ã–µ –≤ –Ω—ë–º –º–æ–∂–Ω–æ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å.
</p></div></div>


</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="it" /><summary type="html"><![CDATA[–í–æ—Ç —É–∂–µ –æ–∫–æ–ª–æ 3 –ª–µ—Ç —è –ø–æ–ª—å–∑—É—é—Å—å —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–º Motorola Defy (2021). –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ –Ω–µ–º–Ω–æ–≥–∏—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ IP68, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è —Å–≤–æ–µ–π —Ç–æ–ª—â–∏–Ω–æ–π –∏ –≤–ª–µ–∑–∞–µ—Ç –≤ –æ–±—ã—á–Ω—ã–π –∫–∞—Ä–º–∞–Ω. –°–æ —Å—Ç–æ—Ä–æ–Ω—ã –∫–∞–∂–µ—Ç—Å—è –±—É–¥—Ç–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–±—ã—á–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –≤ —á–µ—Ö–ª–µ, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –Ω–µ —á–µ—Ö–æ–ª, –∞ –∫–æ—Ä–ø—É—Å —Å–∞–º–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/header-lineageos.jpg" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/header-lineageos.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">–ö–∞–∫ —è –∑–∞–º–µ–Ω–∏–ª BIOS –≤ Thinkpad X220 —Å–≤–æ–±–æ–¥–Ω–æ–π –ø—Ä–æ—à–∏–≤–∫–æ–π</title><link href="https://eugene-andrienko.com/it/2024/12/21/thinkpad-x220-libreboot.html" rel="alternate" type="text/html" title="–ö–∞–∫ —è –∑–∞–º–µ–Ω–∏–ª BIOS –≤ Thinkpad X220 —Å–≤–æ–±–æ–¥–Ω–æ–π –ø—Ä–æ—à–∏–≤–∫–æ–π" /><published>2024-12-21T00:00:00+03:00</published><updated>2024-12-21T00:00:00+03:00</updated><id>https://eugene-andrienko.com/it/2024/12/21/thinkpad-x220-libreboot</id><content type="html" xml:base="https://eugene-andrienko.com/it/2024/12/21/thinkpad-x220-libreboot.html"><![CDATA[<p>
–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ–º —á–∏—Ç–∞—Ç–µ–ª—è–º –º–æ–µ–≥–æ –±–ª–æ–≥–∞ –∏–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –æ–¥–Ω–∞ –∏–∑
–ø–µ—Ä–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º –∑–∞–ø—É—Å–∫–∞–µ–º—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞¬†‚Äî —ç—Ç–æ BIOS. –û–±—ã—á–Ω–æ –≤—Å—ë —á—Ç–æ —Å
–Ω–∏–º –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å¬†‚Äî –∑–∞–π—Ç–∏ –≤ –º–µ–Ω—é —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ —á—Ç–æ-–Ω–∏–±—É–¥—å —Ç–∞–º –ø–æ–º–µ–Ω—è—Ç—å:
–ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å –Ω–æ—Å–∏—Ç–µ–ª–µ–π, –¥–∞—Ç—É/–≤—Ä–µ–º—è, —Ä–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã—Ö
—É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –õ–∏–±–æ, –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –¥–æ–ª–µ –≤–µ–∑–µ–Ω–∏—è, –≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—ã—Å–∫–∞—Ç—å
–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö–∞–∫–µ—Ä–∞–º–∏ BIOS, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ —É–±–∏—Ä–∞–µ—Ç
–Ω–µ–Ω—É–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∏ –ø—Ä–æ—à–∏—Ç—å –µ–≥–æ –≤–º–µ—Å—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ (–Ω–µ –∏–º–µ—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
—Ö–æ—Ç—è –±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–º –≤–Ω—É—Ç—Ä–∏, –±–µ–∑ –Ω–∞–≤—ã–∫–æ–≤ reverse engineering'–∞). –ö
—Å–æ–∂–∞–ª–µ–Ω–∏—é, –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã BIOS –∑–∞–∫—Ä—ã—Ç—ã –∏ –≤ –¥–µ–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ <i>—Å–≤–æ–µ–≥–æ</i> –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
–ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –º–∏–ª–æ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç
BIOS'—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, <a href="https://en.wikipedia.org/wiki/American_Megatrends">AMI</a> –∏–ª–∏ <a href="https://en.wikipedia.org/wiki/Award_Software">Award Software International</a>) –∏ –≤–µ–Ω–¥–æ—Ä–æ–≤ –≤–∞—à–µ–≥–æ
–∂–µ–ª–µ–∑–∞.
</p>

<p>
–ü–æ–∫–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª, –æ—Å–æ–±—ã—Ö –ø—Ä–æ–±–ª–µ–º —ç—Ç–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç. –ù–æ,
–∫–∞–∫ —ç—Ç–æ –æ–±—ã—á–Ω–æ –±—ã–≤–∞–µ—Ç —Å –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–º –ü–û, –ª—é–±–æ–π —à–∞–≥ –≤–ø—Ä–∞–≤–æ –∏–ª–∏ –≤–ª–µ–≤–æ –ø—Ä–∏–≤–æ–¥–∏—Ç
–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ç–∞–∫–∏—Ö –ø–µ—Ä–µ–ø–æ–¥–≤—ã–≤–µ—Ä—Ç–æ–≤, –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –∫–æ—Ç–æ—Ä—ã–º–∏
—Å–±–æ—Ä–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–¥—Ä–∞ Linux –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –ø–æ–∫–∞–∂–µ—Ç—Å—è –¥–µ—Ç—Å–∫–æ–π —à–∞–ª–æ—Å—Ç—å—é.
</p>

<p>
–í –º–æ—ë–º —Å–ª—É—á–∞–µ, –∫–æ–≥–¥–∞ —è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª —Å–≤–æ–π Thinkpad X220, –æ–±–Ω–æ–≤–∏–≤ —Ä—è–¥
–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–æ—É—Ç–±—É–∫–∞ –∏ –ø—Ä–∏–ø–∞—è–≤ –ø–ª–∞—Ç—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ 2K-—ç–∫—Ä–∞–Ω–∞¬†‚Äî BIOS
–ø—Ä–µ–≤—Ä–∞—Ç–∏–ª—Å—è –≤ –ø—Ä–æ–±–ª–µ–º—É. –í–æ-–ø–µ—Ä–≤—ã—Ö, whitelist –æ—Ç Lenovo –ø—Ä–æ—Å—Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è–ª –º–Ω–µ
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ø–µ—Ä–∏—Ñ–µ—Ä–∏—é, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ ¬´–Ω–µ –±—ã–ª–∞ –æ–¥–æ–±—Ä–µ–Ω–∞
–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–º¬ª<sup><a id="fnr.manufacturer_approve" class="footref" href="#fn.manufacturer_approve" role="doc-backlink">1</a></sup>. –í–æ-–≤—Ç–æ—Ä—ã—Ö, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π
–ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π BIOS –±—ã–ª —Å–¥–µ–ª–∞–Ω –≤ —Ä–∞—Å—á—ë—Ç–µ –Ω–∞ —Ç–æ, —á—Ç–æ –∫ –Ω–æ—É—Ç–±—É–∫—É <b>–≤—Å–µ–≥–¥–∞</b> –±—É–¥–µ—Ç
–ø–æ–¥–∫–ª—é—á–µ–Ω –µ–≥–æ —Ä–æ–¥–Ω–æ–π —ç–∫—Ä–∞–Ω –ø–æ —à–∏–Ω–µ LVDS, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
—Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–æ–º —ç–∫—Ä–∞–Ω–µ, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤—Ç–æ—Ä–æ–π –¥–∏—Å–ø–ª–µ–π —á–µ—Ä–µ–∑ Display Port
(–∏–ª–∏ –µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –¥–∏—Å–ø–ª–µ–π —á–µ—Ä–µ–∑ –ø—Ä–∏–ø–∞—è–Ω–Ω—É—é –∫ –ª–∏–Ω–∏—è–º DP-3 –ø–ª–∞—Ç—É
—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è). –î–æ—Å–∞–¥–Ω–æ–µ —É–ø—É—â–µ–Ω–∏–µ, –≤–∏–¥–∏–º–æ —Å–¥–µ–ª–∞–Ω–Ω–æ–µ –≤ —Ä–∞—Å—á—ë—Ç–µ –Ω–∞ —Ç–æ, —á—Ç–æ
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –±—É–¥–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏–≤—à–∏—Å—å
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–º–µ–Ω—è—Ç—å –∂—ë—Å—Ç–∫–∏–π –¥–∏—Å–∫ –∏–ª–∏ –ø–∞–º—è—Ç—å –Ω–∞ –±–æ–ª–µ–µ —ë–º–∫–∏–µ!
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, —Å–æ–æ–±—â–µ—Å—Ç–≤–æ OpenSource —Å–ø–µ—à–∏—Ç –∑–¥–µ—Å—å –Ω–∞ –ø–æ–º–æ—â—å! –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—Ä–æ–µ–∫—Ç
<a href="https://www.coreboot.org/">coreboot</a>¬†‚Äî –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è BIOS'–∞ –¥–ª—è —Ä—è–¥–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏—Ö –ø–ª–∞—Ç.
</p>
<div class="outline-2">
<h2>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ&#xa0;&#xa0;&#xa0;<span class="tag"></span></h2>
<div class="outline-text-2">
<ul class="org-ul">
<li><a href="#coreboot">Coreboot</a></li>
<li><a href="#libreboot">Libreboot</a>
<ul class="org-ul">
<li><a href="#libreboot-preparations">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ—à–∏–≤–∫–µ Libreboot</a></li>
<li><a href="#get-libreboot-binary">–ü–æ–ª—É—á–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ Libreboot</a></li>
<li><a href="#prepare-libreboot-binary">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ Libreboot –∫ –ø—Ä–æ—à–∏–≤–∫–µ</a></li>
<li><a href="#libreboot-flashing">–ü—Ä–æ—à–∏–≤–∫–∞ –≥–æ—Ç–æ–≤–æ–≥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ —Å Libreboot</a></li>
<li><a href="#mac-address">MAC –∞–¥—Ä–µ—Å</a></li>
</ul></li>
<li><a href="#libreboot-customization">–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è libreboot</a></li>
<li><a href="#notes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</a></li>
</ul>
</div>
</div>
<div id="outline-container-coreboot" class="outline-2">
<h2 id="coreboot">Coreboot</h2>
<div class="outline-text-2" id="text-coreboot">
<p>
Coreboot –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤–æ–∑–Ω–∏–∫ –∫–∞–∫ –ø—Ä–æ–µ–∫—Ç, –Ω–∞—Ü–µ–ª–µ–Ω–Ω—ã–π –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤
–∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö¬†‚Äî —Ç–æ–≥–¥–∞ –æ–Ω –µ—â—ë –Ω–∞–∑—ã–≤–∞–ª—Å—è LinuxBIOS. –û–¥–∏–Ω –∏–∑ –µ–≥–æ –∞–≤—Ç–æ—Ä–æ–≤
(Ron Minnich) —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å —Ç–µ–º, —á—Ç–æ –∏–∑-–∑–∞ –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–æ–≥–æ BIOS'–∞ –µ–º—É –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è
–ø–æ–¥–∫–ª—é—á–∞—Ç—å –∫–∞–∂–¥—É—é –Ω–æ–¥—É —Å–∞–º–æ–¥–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∫ KVM-—Å–≤–∏—Ç—á—É, —á—Ç–æ–±—ã –≤—Ä—É—á–Ω—É—é
–Ω–∞–∂–∞—Ç—å –Ω–∞ F1 –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –º–∞—à–∏–Ω—ã, –µ—Å–ª–∏ –≤–¥—Ä—É–≥ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫. Ron
Minnich –∂–µ —Ö–æ—Ç–µ–ª, —á—Ç–æ–±—ã BIOS –≥—Ä—É–∑–∏–ª—Å—è –ø–æ–±—ã—Å—Ç—Ä–µ–µ –∏ –Ω–µ —Ç—Ä–µ–±–æ–≤–∞–ª
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞<sup><a id="fnr.linuxbios" class="footref" href="#fn.linuxbios" role="doc-backlink">2</a></sup>. –í–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏, –≤ –ø—Ä–æ–µ–∫—Ç–µ coreboot –ø–æ—è–≤–∏–ª–∞—Å—å
–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö <a href="https://doc.coreboot.org/mainboard/index.html">–º–∞—Ç–µ—Ä–∏–Ω—Å–∫–∏—Ö –ø–ª–∞—Ç</a> –∏ <a href="https://doc.coreboot.org/soc/index.html">SoC</a>¬†‚Äî –≤–∫–ª—é—á–∞—è –∏ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫—É—é
–ø–ª–∞—Ç—É –º–æ–µ–≥–æ Thinkpad X220.
</p>

<p>
–Ø –Ω–∞—á–∞–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å coreboot –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π BIOS
—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ —Å—Ç–æ–∫–æ–≤—ã–º —ç–∫—Ä–∞–Ω–æ–º –Ω–æ—É—Ç–±—É–∫–∞. –ï—Å–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å
2K-—ç–∫—Ä–∞–Ω —á–µ—Ä–µ–∑ –ø—Ä–∏–ø–∞—è–Ω–Ω—É—é –ø–ª–∞—Ç—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, —Ç–æ BIOS –Ω–∞ —ç—Ç–æ–º —ç–∫—Ä–∞–Ω–µ –Ω–µ –±—É–¥–µ—Ç
–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è.
</p>

<p>
–°—Ç–æ–ª–∫–Ω—É–≤—à–∏—Å—å —Å —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π, —è –≤—Å–ø–æ–º–Ω–∏–ª, —á—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ª—é–¥–µ–π, –∑–∞–Ω–∏–º–∞–≤—à–∏—Ö—Å—è
–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —Å–≤–æ–∏—Ö Thinkpad'–æ–≤, –∑–∞—á–µ–º-—Ç–æ –∑–∞–º–µ–Ω—è–ª–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π BIOS –Ω–∞
coreboot. –ò –Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è—Ö –∏—Ö –Ω–æ—É—Ç–±—É–∫–æ–≤ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ—à–∏–≤–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –±—ã–ª–æ
—á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ framebuffer'–∞, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –∫–æ–Ω—Å–æ–ª—å. –ê –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
–ø—Ä–æ–µ–∫—Ç–∞ coreboot —è –∫–∞–∫ —Ä–∞–∑ –æ–±–Ω–∞—Ä—É–∂–∏–ª —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –Ω–µ–∫–æ–µ–π –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
libgfxinit, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–π –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∏–¥–µ–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –í
–∏—Ç–æ–≥–µ —É –º–µ–Ω—è –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–∞–¥–µ–∂–¥–∞, —á—Ç–æ —ç—Ç–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å–º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–æ–∏–º
—ç–∫—Ä–∞–Ω–æ–º –Ω–∞ —à–∏–Ω–µ DP-3. –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —è –ø–æ—Å–º–æ—Ç—Ä–µ–ª –µ—ë –∏—Å—Ö–æ–¥–Ω–∏–∫–∏&#x2026;
</p>

<p>
–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å. –°–Ω–∞—á–∞–ª–∞, coreboot –Ω–µ —Ö–æ—Ç–µ–ª
–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –≤—Ç–æ—Ä–æ–º —ç–∫—Ä–∞–Ω–µ, —Å –∫–∞–∫–∏–º–∏ –æ–ø—Ü–∏—è–º–∏ —è –µ–≥–æ –Ω–∏ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª. –ü–æ—Ç–æ–º,
—è –Ω–µ—á–∞—è–Ω–Ω–æ —Å–∂—ë–≥ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫—É—é –ø–ª–∞—Ç—É –Ω–æ—É—Ç–±—É–∫–∞, –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫–ª—é—á–∏–≤ –µ—ë –æ—Ç
–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–∞.
</p>

<p>
–° –Ω–æ–≤–æ–π –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–æ–π —è —Å–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–ª –±–∏—Ç—É—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ BIOS'–∞¬†‚Äî –æ–±–∞ –µ–≥–æ –¥–∞–º–ø–∞ –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π MD5-—Ö—ç—à, –Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ
–Ω–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏. –ö–∞–∫ —è —ç—Ç–æ –ø–æ–Ω—è–ª? –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—à–∏–ª –≤ –º–∏–∫—Ä–æ—Å—Ö–µ–º—É —Å –ø–∞–º—è—Ç—å—é
—Å–≤–æ–π —Å—Ç–∞—Ä—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ —Å coreboot –æ—Ç –ø–µ—Ä–≤–æ–π –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã¬†‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±—É–¥–µ—Ç
–ª–∏ –æ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å. –ö–æ–≥–¥–∞ —ç—Ç–∞ –ø—Ä–æ—à–∏–≤–∫–∞ –æ–∂–∏–¥–∞–µ–º–æ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∞, —è –≤–µ—Ä–Ω—É–ª –æ–±—Ä–∞—Ç–Ω–æ
¬´–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π¬ª BIOS¬†‚Äî –∞ —Å –Ω–∏–º –Ω–æ—É—Ç–±—É–∫ <b>–≤–Ω–µ–∑–∞–ø–Ω–æ</b> –æ—Ç–∫–∞–∑–∞–ª—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è. –£–≤—ã, –∫
–º–æ–º–µ–Ω—Ç—É, –∫–æ–≥–¥–∞ —è —ç—Ç–æ –æ–±–Ω–∞—Ä—É–∂–∏–ª, –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π BIOS —É–∂–µ –±—ã–ª –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω.
</p>

<p>
–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –º–Ω–µ —É–¥–∞–ª–æ—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª —Å –±–∏—Ç–æ–π —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–µ–π –¥–ª—è
–ø–æ–ª—É—á–µ–Ω–∏—è –±–∏–Ω–∞—Ä–Ω—ã—Ö –±–ª–æ–±–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –±—ã–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã coreboot –Ω–∞
Thinkpad¬†X220:
</p>
<ul class="org-ul">
<li>Intel Flash Descriptor¬†‚Äî 4¬†Kb —Å –¥–∞–Ω–Ω—ã–º–∏ –æ–± –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö –ø–∞–º—è—Ç–∏ –Ω–∞
—á–∏–ø–µ, –≤–∫–ª—é—á–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Ö —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ CPU.</li>
<li><p>
Intel¬†ME blob¬†‚Äî —Ç—É—Ç –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ Intel¬†ME. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è, <a href="https://en.wikipedia.org/wiki/Intel_Management_Engine">–∫–∞–∫
—É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç—Å—è</a>, –ø–æ–ª–µ–∑–Ω–∞—è –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —É–¥–∞–ª—ë–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞—Ä–∫–æ–º –º–∞—à–∏–Ω –≤
–¥–∞—Ç–∞—Ü–µ–Ω—Ç—Ä–µ. –ù–æ –Ω–∞ –ª–∏—á–Ω–æ–º –Ω–æ—É—Ç–±—É–∫–µ —Ç–∞–∫–∞—è <a href="https://www.fsf.org/blogs/sysadmin/the-management-engine-an-attack-on-computer-users-freedom">–¥—ã—Ä–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</a>, –æ—á–µ–≤–∏–¥–Ω–æ –Ω–µ
–Ω—É–∂–Ω–∞¬†‚Äî –∑–∞—á–µ–º –º–Ω–µ –µ—â—ë –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤–Ω—É—Ç—Ä–∏ CPU, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç
–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å –∑–∞–∫—Ä—ã—Ç—ã–º–∏ –∏—Å—Ö–æ–¥–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–æ—É—Ç–±—É–∫
–≤—ã–∫–ª—é—á–µ–Ω (–Ω–æ –Ω–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫—É—é –ø–ª–∞—Ç—É –ø–æ–¥–∞—ë—Ç—Å—è –ø–∏—Ç–∞–Ω–∏–µ) –∏ –∏–º–µ—é—â–∞—è –¥–æ—Å—Ç—É–ø –∫
DMA-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É, –∫ —Å–µ—Ç–µ–≤–æ–π –∫–∞—Ä—Ç–µ (–∏ —Å–≤–æ–π –æ—Ç–¥–µ–ª—å–Ω—ã–π MAC –∞–¥—Ä–µ—Å),
–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–µ—Å—Ç–æ –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é JVM —Å –∫–ª–∞—Å—Å–∞–º–∏ –¥–ª—è
—Ä–∞–±–æ—Ç—ã —Å –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–µ–π<sup><a id="fnr.intel_me" class="footref" href="#fn.intel_me" role="doc-backlink">3</a></sup>?
</p>

<p>
–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –±–µ–∑ —ç—Ç–æ–≥–æ –±–ª–æ–±–∞ –≤ –º–∏–∫—Ä–æ—Å—Ö–µ–º–µ –ø–∞–º—è—Ç–∏¬†‚Äî –Ω–æ—É—Ç–±—É–∫ –º–æ–∂–µ—Ç –ª–∏–±–æ –Ω–µ
–∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è, –ª–∏–±–æ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–∫–ª—é—á–∞—Ç—å—Å—è —Å–ø—É—Å—Ç—è –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è, —Ä–∞–¥–∏
¬´–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏¬ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
</p></li>
<li>GbE blob¬†‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Ethernet-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –≤–∫–ª—é—á–∞—è –µ–≥–æ MAC –∞–¥—Ä–µ—Å.</li>
</ul>

<p>
–°–æ–±—Ä–∞–Ω–Ω—ã–π coreboot –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –Ω–∞ –º–æ—ë–º –Ω–æ—É—Ç–±—É–∫–µ –∏ –¥–∞–∂–µ –≤—ã–≤–µ–ª –ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞
–Ω–æ–≤—ã–π 2K-—ç–∫—Ä–∞–Ω. –ö–∞–∫ —è —Å–µ–π—á–∞—Å –ø–æ–Ω–∏–º–∞—é, –≤—Å—ë –¥–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –∫ —Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É
–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω –±—ã–ª –æ—Ç–∫–ª—é—á–µ–Ω –æ—Ç LVDS –∏ –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω –±—ã–ª –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º,
–∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –≤–∏–¥–µ–æ—è–¥—Ä—É —á–µ—Ä–µ–∑ DP-3.
</p>

<p>
–ù–∞—Å–∫–æ–ª—å–∫–æ —è –º–æ–≥—É —Å—É–¥–∏—Ç—å –±–µ–∑ –∑–Ω–∞–Ω–∏—è —è–∑—ã–∫–∞ Ada¬†‚Äî coreboot (–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ
–º–∞—Ç–µ—Ä–∏–Ω—Å–∫–∞—è –ø–ª–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–Ω–∞) –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ –≤—Å–µ–º –ø–æ—Ä—Ç–∞–º,
–ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º –∫ –≤–∏–¥–µ–æ—è–¥—Ä—É –∏ –≤—ã–≤–æ–¥–∏—Ç –Ω–∞ –ø–µ—Ä–≤—ã–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π –¥–∏—Å–ø–ª–µ–π —Å–≤–æ–π
framebuffer, –µ—Å–ª–∏ <code>Primary</code> –¥–∏—Å–ø–ª–µ–π –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –ø–ª–∞—Ç–µ:
</p>

<div class="org-src-container">
<label class="org-src-name">–°–ø–∏—Å–æ–∫ –≤–∏–¥–µ–æ–≤—ã—Ö–æ–¥–æ–≤ –¥–ª—è X220 –∏–∑ src/mainboard/lenovo/x220/gma-mainboard.ads</label><pre class="src src-ada">private package GMA.Mainboard is

   ports : constant Port_List :=
     (DP1,
      DP2,
      DP3,
      HDMI1,
      HDMI2,
      HDMI3,
      Analog,
      LVDS,
      others =&gt; Disabled);

end GMA.Mainboard;
</pre>
</div>

<div class="org-src-container">
<label class="org-src-name">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–µ–æ—è–¥—Ä–∞ –≤ src/drivers/intel/gma/hires_fb/gma-gfx_init.adb</label><pre class="src src-ada">HW.GFX.GMA.Display_Probing.Scan_Ports (configs, ports);

if configs (Primary).Port /= Disabled then
   for i in Pipe_Index loop
      exit when configs (i).Port = Disabled;

      min_h := pos32'min (min_h, configs (i).Mode.H_Visible);
      min_v := pos32'min (min_v, configs (i).Mode.V_Visible);
   end loop;

   fb := configs (Primary).Framebuffer;
   fb.Width    := Width_Type (min_h);
   fb.Height   := Height_Type (min_v);
   fb.Stride   := Div_Round_Up (fb.Width, 16) * 16;
   fb.V_Stride := fb.Height;

   for i in Pipe_Index loop
      exit when configs (i).Port = Disabled;

      configs (i).Framebuffer := fb;
   end loop;
</pre>
</div>

<p>
–ü–æ—ç—Ç–æ–º—É, –ø–æ–∫–∞ –∫ LVDS (–∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–ø–∏—Å–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ coreboot –∫–∞–∫ primary)
–±—ã–ª –ø–æ–¥–∫–ª—é—á–µ–Ω –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–∏—Å–ø–ª–µ–π¬†‚Äî coreboot —É–ø–æ—Ä–Ω–æ —Ä–∞–±–æ—Ç–∞–ª —Å –Ω–∏–º, –∏–≥–Ω–æ—Ä–∏—Ä—É—è
–¥–∏—Å–ø–ª–µ–π –Ω–∞ DP-3. –°—Ç–æ–∏–ª–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –¥–∏—Å–ø–ª–µ–π, –∫–∞–∫ –ª–æ–≥ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—á–∞–ª
–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –Ω–æ–≤–æ–º –¥–∏—Å–ø–ª–µ–µ.
</p>
</div>
</div>
<div id="outline-container-libreboot" class="outline-2">
<h2 id="libreboot">Libreboot</h2>
<div class="outline-text-2" id="text-libreboot">
<p>
–ö–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è —è –ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –Ω–æ—É—Ç–±—É–∫–æ–º —Å coreboot. –ù–æ —Ä–∞–±–æ—Ç–∞–ª –æ–Ω –Ω–µ –æ—á–µ–Ω—å
—Å—Ç–∞–±–∏–ª—å–Ω–æ¬†‚Äî –ø–æ-–≤–∏–¥–∏–º–æ–º—É –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤ –±–ª–æ–±–µ —Å Intel¬†ME, –≤—ã—Ä–µ–∑–∞–Ω–Ω–æ–º
–∏–∑ –±–∏—Ç–æ–≥–æ –¥–∞–º–ø–∞ –±–∏–æ—Å–∞, –±—ã–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ò–Ω–æ–≥–¥–∞, –≤—Å–µ–≥–¥–∞ –≤ —Å–ª—É—á–∞–π–Ω—ã–µ
–º–æ–º–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏, –Ω–æ—É—Ç–±—É–∫ –∑–∞–≤–∏—Å–∞–ª –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ —Ç–æ–ª—å–∫–æ –ø–æ
–∑–∞–∂–∞—Ç–∏—é –∫–Ω–æ–ø–∫–∏ Power. –ò–Ω–æ–≥–¥–∞ –æ–Ω –∏ –≤–æ–≤—Å–µ –Ω–µ –≤–∫–ª—é—á–∞–ª—Å—è¬†‚Äî –º–æ—Ä–≥–∞–ª —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞–º–∏ –∏
–ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —ç–∫—Ä–∞–Ω–∞ –∏ –Ω–∞ —ç—Ç–æ–º –≤—Å—ë. –ò–º–µ–Ω–Ω–æ —ç—Ç–∏ —Å–∏–º–ø—Ç–æ–º—ã –æ–ø–∏—Å—ã–≤–∞–ª–∏—Å—å <a href="https://doc.coreboot.org/northbridge/intel/sandybridge/me_cleaner.html">–≤
–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ coreboot</a> –∏ –≤ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö –≥–∞–π–¥–∞—Ö –∫–∞–∫ ¬´—Ç–æ —á—Ç–æ –±—É–¥–µ—Ç —Å –≤–∞—à–µ–π
—Å–∏—Å—Ç–µ–º–æ–π, –µ—Å–ª–∏ –≤—ã —Å–æ–≤—Å–µ–º –∏–∑–±–∞–≤–∏—Ç–µ—Å—å –æ—Ç –±–ª–æ–±–∞ —Å Intel¬†ME¬ª.
</p>

<p>
–ö —Ç–æ–º—É –∂–µ, –ø—Ä–∏ —Å–±–æ—Ä–∫–µ coreboot —è —É–∫–∞–∑–∞–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ framebuffer —Ä–∞–≤–Ω–æ–µ 1366x768
–¥–ª—è —Å–≤–æ–µ–≥–æ 2K-—ç–∫—Ä–∞–Ω–∞. –í –∏—Ç–æ–≥–µ, framebuffer –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –Ω–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω (–≤
X-—Å–µ—Ä–≤–µ—Ä–µ –≤—Å—ë –±—ã–ª–æ –æ–∫):
</p>


<div class="figure">
<p><img src="/assets/static/broken_framebuffer.jpg" alt="Broken framebuffer due to wrong configuration" align="center" />
</p>
<p style="text-align: center"><i>Framebuffer –æ—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∑–µ–ª—ë–Ω–æ–π —Ä–∞–º–∫–∏</i></p>
</div>

<p>
–í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, –º–Ω–µ –≤—Å—ë —ç—Ç–æ –Ω–∞–¥–æ–µ–ª–æ –∏ –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è —Å
coreboot. –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–µ–π –ø—Ä–æ–±–ª–µ–º–æ–π –±—ã–ª –Ω–∞–≤—Å–µ–≥–¥–∞ —É—Ç–µ—Ä—è–Ω–Ω—ã–π BIOS –æ—Ç —ç—Ç–æ–≥–æ
–Ω–æ—É—Ç–±—É–∫–∞¬†‚Äî –∏ —è –Ω–µ –∑–Ω–∞–ª –æ—Ç–∫—É–¥–∞ –≤–∑—è—Ç—å ¬´–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ¬ª –±–∏–Ω–∞—Ä–Ω—ã–µ –±–ª–æ–±—ã —Å –Ω—É–∂–Ω—ã–º
–º–∞—à–∏–Ω–Ω—ã–º –∫–æ–¥–æ–º –≤–Ω—É—Ç—Ä–∏.
</p>

<p>
–ü–æ—ç—Ç–æ–º—É, –≤–ø–æ–ª–Ω–µ –æ–∂–∏–¥–∞–µ–º–æ, —á—Ç–æ —è –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –Ω–∞—á–∞–ª —á–∏—Ç–∞—Ç—å –ø—Ä–æ <a href="https://libreboot.org/">libreboot</a>. –≠—Ç–æ
—Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ coreboot, –∫–æ—Ç–æ—Ä—ã–π —Å—Ç–∞—Ä–∞—é—Ç—Å—è —Å–æ–±–∏—Ä–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –≤–Ω—É—Ç—Ä–∏
—É –Ω–µ–≥–æ –Ω–µ –±—ã–ª–æ —à—Ç—É–∫ —Å –∑–∞–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º. –ï—Å–ª–∏ –¥–ª—è —á–µ–≥–æ-—Ç–æ¬†‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è
–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏¬†‚Äî –µ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∞—è –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
–∏–º–µ–Ω–Ω–æ –æ–Ω–∞. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ 100% –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏ –≤—Å–µ–≥–æ –∫–æ–¥–∞ –¥–æ–±–∏—Ç—å—Å—è <a href="https://libreboot.org/news/policy.html">–Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è</a>, –Ω–æ
–∫–∞–∫ —è –ø–æ–Ω—è–ª:
</p>
<ul class="org-ul">
<li>IFD –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º. –ë–ª–∞–≥–æ —Ñ–æ—Ä–º–∞—Ç
Intel Firmware Descriptor –∏–∑–≤–µ—Å—Ç–µ–Ω.</li>
<li>Intel¬†ME¬†‚Äî —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è —É –≤–µ–Ω–¥–æ—Ä–∞ –∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ <a href="https://github.com/corna/me_cleaner">me_cleaner</a>.</li>
<li>GbE¬†‚Äî –æ–ø—è—Ç—å-—Ç–∞–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è ¬´–Ω–∞ –º–µ—Å—Ç–µ¬ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º.</li>
</ul>

<p>
–ò–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏¬†‚Äî –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π BIOS –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Libreboot –Ω–∞ Thinkpad¬†X220 –º–Ω–µ
–Ω–µ –Ω—É–∂–µ–Ω! –í—Å—ë —á—Ç–æ –Ω–∞–¥–æ¬†‚Äî <a href="https://libreboot.org/docs/install/spi.html#do-not-use-ch341a">–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä</a>, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å–æ–∂–∂—ë—Ç –º–∏–∫—Ä–æ—Å—Ö–µ–º—É
–ø–∞–º—è—Ç–∏ –∏ —é–∂–Ω—ã–π –º–æ—Å—Ç. –ö —Å—á–∞—Å—Ç—å—é, —É –º–µ–Ω—è –∫–∞–∫ —Ä–∞–∑ –µ—Å—Ç—å –∫–∏—Ç–∞–π—Å–∫–∏–π CH341 —Å
–¥–∂–∞–º–ø–µ—Ä–æ–º –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω—É–∂–Ω–æ–≥–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è (5¬†–í TTL –ª–∏–±–æ 3.3¬†–í CMOS):
</p>


<div class="figure">
<p><img src="/assets/static/ch341-1.jpg" alt="CH341 programmer with jumper to select logical level (at the bottom)" align="center" />
</p>
<p style="text-align: center"><i>–ü—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä CH341 —Å –¥–∂–∞–º–ø–µ—Ä–æ–º –¥–ª—è –≤—ã–±–æ—Ä–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è (–∂—ë–ª—Ç—ã–π, —Å–Ω–∏–∑—É)</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/ch341-2.jpg" alt="1-2 jumper position enables CMOS logical level, 2-3 enables TTL level" align="center" />
</p>
<p style="text-align: center"><i>–ö–∏—Ç–∞–π—Å–∫–∞—è —à–µ–ª–∫–æ–≥—Ä–∞—Ñ–∏—è –Ω–∞ –ø–ª–∞—Ç–µ CH341 (–ø–æ–ª–æ–∂–µ–Ω–∏–µ 1-2 –≤–∫–ª—é—á–∞–µ—Ç CMOS logical level, 2-3: TTL level)</i></p>
</div>

<p>
<b>Disclaimer!</b> –í—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∏–∂–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ–≤–µ—Ä—è–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ—ë–º
Thinkpad'–µ. –ß–∞—Å—Ç—å –∏–∑ –Ω–∏—Ö –±—ã–ª–∞ –ø—Ä–æ–¥–µ–ª–∞–Ω–∞ –∏–∑-–∑–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö ¬´–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö
–ø—Ä–µ–¥–ø–æ—Å—ã–ª–æ–∫¬ª, –≤–æ–∑–Ω–∏–∫—à–∏—Ö –≤ —Ö–æ–¥–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –Ω–æ—É—Ç–±—É–∫–∞. –í –ª—é–±–æ–º —Å–ª—É—á–∞–µ,
–Ω—É–∂–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–Ω–∞—á–∞–ª–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é!
</p>

<p>
–ò—Ç–∞–∫, –≤–æ–æ—Ä—É–∂–∏–≤—à–∏—Å—å –æ—Ç–≤—ë—Ä—Ç–∫–æ–π, –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä–æ–º –∏ —Ü–µ–ª—ã–º –≤–µ—á–µ—Ä–æ–º —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ
–≤—Ä–µ–º–µ–Ω–∏, —è –ø—Ä–∏–Ω—è–ª—Å—è –ø—Ä–∏–±–ª–∏–∂–∞—Ç—å —Å–≤–æ–π –Ω–æ—É—Ç–±—É–∫ –∫ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º–æ–º—É —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É.
</p>
</div>
<div id="outline-container-libreboot-preparations" class="outline-3">
<h3 id="libreboot-preparations">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ—à–∏–≤–∫–µ Libreboot</h3>
<div class="outline-text-3" id="text-libreboot-preparations">
</div>
<div id="outline-container-reading-docs" class="outline-4">
<h4 id="reading-docs">–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ–µ (–Ω–µ—Ç) —á—Ç–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</h4>
<div class="outline-text-4" id="text-reading-docs">
<p>
–ü–µ—Ä–≤—ã–º –¥–µ–ª–æ–º, –Ω—É–∂–Ω–æ –±—ã–ª–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –º–Ω–æ–≥–æ –Ω—É–∂–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞:
<a href="https://libreboot.org">https://libreboot.org</a>. –í–æ—Ç –Ω–µ–±–æ–ª—å—à–æ–π —Å–ø–∏—Å–æ–∫ –∏–∑ –ø–æ–ª–µ–∑–Ω—ã—Ö —Å—Å—ã–ª–æ–∫, —Å –ø–æ–º–æ—â—å—é
–∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ —Å–æ—Å—Ç–∞–≤–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ, –∫–∞–∫ –∏ –ø–æ—á–µ–º—É
–Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å:
</p>
<ul class="org-ul">
<li><a href="https://libreboot.org/docs/install/">https://libreboot.org/docs/install/</a> ‚Äî —Ç—É—Ç –Ω–∞–ø–∏—Å–∞–Ω–æ, —á—Ç–æ –º–æ–π Thinkpad
–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Libreboot.</li>
<li><a href="https://libreboot.org/news/safety.html">https://libreboot.org/news/safety.html</a> ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º
–±–∏–Ω–∞—Ä–Ω—ã–º –±–ª–æ–±–∞–º.</li>
<li><a href="https://libreboot.org/docs/install/ivy_has_common.html">https://libreboot.org/docs/install/ivy_has_common.html</a> ‚Äî –∫–æ–º–∞–Ω–¥—ã –¥–ª—è
–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ libreboot –∫ –ø—Ä–æ—à–∏–≤–∫–µ.</li>
<li><a href="https://libreboot.org/docs/maintain/#environmental-variables">https://libreboot.org/docs/maintain/#environmental-variables</a>,
<a href="https://libreboot.org/docs/build/">https://libreboot.org/docs/build/</a> –∏ <a href="https://libreboot.org/git.html">https://libreboot.org/git.html</a> ‚Äî
–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∏—Å—Ç–µ–º–µ —Å–±–æ—Ä–∫–∏ lbmk.</li>
</ul>
</div>
</div>
<div id="outline-container-mac-addr-saving" class="outline-4">
<h4 id="mac-addr-saving">–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ MAC-–∞–¥—Ä–µ—Å–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Å–µ—Ç–µ–≤–æ–π –∫–∞—Ä—Ç—ã</h4>
<div class="outline-text-4" id="text-mac-addr-saving">
<p>
–¢—É—Ç –≤—Å—ë –ø—Ä–æ—Å—Ç–æ¬†‚Äî –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ—Ç MAC-–∞–¥—Ä–µ—Å –∑–∞–ø–∏—Å–∞–Ω –≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏ —Å GbE¬†‚Äî –æ–Ω
–±—É–¥–µ—Ç —Å—Ç—ë—Ä—Ç –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Libreboot. –ü–æ—ç—Ç–æ–º—É, —è –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–∏—Å–∞–ª –≤—ã–≤–æ–¥ <code>ifconfig
em0</code> –≤ –Ω–∞–¥—ë–∂–Ω–æ–µ –º–µ—Å—Ç–æ, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –∏ –∑–∞–ø–∏—Å–∞—Ç—å –µ–≥–æ –≤
–æ–±–ª–∞—Å—Ç—å —Å GbE, –ø–µ—Ä–µ–¥ –ø—Ä–æ—à–∏–≤–∫–æ–π Libreboot.
</p>
</div>
</div>
<div id="outline-container-coreboot-backup" class="outline-4">
<h4 id="coreboot-backup">–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Ç–µ–∫—É—â–µ–π –ø—Ä–æ—à–∏–≤–∫–∏</h4>
<div class="outline-text-4" id="text-coreboot-backup">
<p>
–ë–µ–∫–∞–ø —Ç–µ–∫—É—â–µ–π –ø—Ä–æ—à–∏–≤–∫–∏¬†‚Äî —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º, —á—Ç–æ —É–¥–µ—Ä–∂–∏—Ç –Ω–æ—É—Ç–±—É–∫ –æ—Ç
–ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –≤ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–π —á—ë—Ä–Ω—ã–π –∫–∏—Ä–ø–∏—á, –µ—Å–ª–∏ –≤–¥—Ä—É–≥ —á—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫. –í –º–æ—ë–º
—Å–ª—É—á–∞–µ, –Ω—É–∂–Ω–∞ –±—ã–ª–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è coreboot.
</p>

<p>
–î–ª—è —ç—Ç–æ–≥–æ –∏ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä. –ö–∞–∫ —è –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —á–∏–ø–∞
–ø–∞–º—è—Ç–∏ —Å–æ –≤–∫–ª—é—á—ë–Ω–Ω–æ–≥–æ –Ω–æ—É—Ç–±—É–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑ —Ä–∞–∑–Ω—ã–µ
–¥–∞–º–ø—ã<sup><a id="fnr.coreboot_readings" class="footref" href="#fn.coreboot_readings" role="doc-backlink">4</a></sup>.
</p>

<p>
–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–¥–æ:
</p>
<ol class="org-ol">
<li>–û—Ç–∫–ª—é—á–∏—Ç—å –Ω–æ—É—Ç–±—É–∫ –æ—Ç —Å–µ—Ç–∏.</li>
<li>–°–Ω—è—Ç—å –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä.</li>
<li>–û—Ç–∫—Ä—É—Ç–∏—Ç—å 7 –≤–∏–Ω—Ç–æ–≤ —Å–Ω–∏–∑—É, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ—Ä–∂–∞—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏ –ø–∞–ª–º—Ä–µ—Å—Ç.</li>
<li>–°–Ω—è—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –∏ –ø–∞–ª–º—Ä–µ—Å—Ç.</li>
<li>–û—Ç–∫–ª—é—á–∏—Ç—å –±–∞—Ç–∞—Ä–µ–π–∫—É RTC (–∏ –Ω–µ –∑–∞–±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –Ω–∞ –Ω–µ–π).</li>
<li>–û—Ç–∫–ª–µ–∏—Ç—å —É–≥–æ–ª–æ–∫ –∑–∞—â–∏—Ç–Ω–æ–π –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ–π –ø–ª—ë–Ω–∫–∏ –æ—Ç –ª–µ–≤–æ–≥–æ –Ω–∏–∂–Ω–µ–≥–æ —É–≥–ª–∞
–º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã. –ü–æ–¥ –Ω–µ–π –±—É–¥–µ—Ç –∏—Å–∫–æ–º—ã–π —á–∏–ø.</li>
</ol>

<p>
–ü–æ—Ç–æ–º –∫ –æ–±–µ—Å—Ç–æ—á–µ–Ω–Ω–æ–º—É –Ω–æ—É—Ç–±—É–∫—É –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è ¬´–ø—Ä–∏—â–µ–ø–∫–∞¬ª –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä–∞:
</p>


<div class="figure">
<p><img src="/assets/static/ch341_on_winbond.jpg" alt="CH341 programmer connected to Winbond W23Q64CV" align="center" />
</p>
<p style="text-align: center"><i>–ü—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä CH341, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π –∫ —á–∏–ø—É Winbond W25Q64CV</i></p>
</div>

<p>
–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —á–∏–ø–∞:
</p>
<pre class="example">
sudo flashrom -p ch341a_spi -c "W25Q64BV/W25Q64CV/W25Q64FV" -r coreboot_original1.rom -V
</pre>

<p>
–ò –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–¥–∞–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–µ–µ, –∞ –Ω–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—à–∏–±–∫–∞—Ö:
</p>
<pre class="example">
thinkpad/libreboot % sudo flashrom -p ch341a_spi -c "W25Q64BV/W25Q64CV/W25Q64FV" -r coreboot_original1.rom -V

flashrom v1.3.0 on Linux 6.1.57-gentoo-x86_64 (x86_64)
flashrom is free software, get the source code at https://flashrom.org

Using clock_gettime for delay loops (clk_id: 1, resolution: 1ns).
flashrom was built with GCC 13.3.1 20241024, little endian
Command line (7 args): flashrom -p ch341a_spi -c W25Q64BV/W25Q64CV/W25Q64FV -r coreboot_original1.rom -V
Initializing ch341a_spi programmer
Device revision is 3.0.4
The following protocols are supported: SPI.
Probing for Winbond W25Q64BV/W25Q64CV/W25Q64FV, 8192 kB: compare_id: id1 0xef, id2 0x4017
Added layout entry 00000000 - 007fffff named complete flash
Found Winbond flash chip "W25Q64BV/W25Q64CV/W25Q64FV" (8192 kB, SPI) on ch341a_spi.
Chip status register is 0x00.
This chip may contain one-time programmable memory. flashrom cannot read
and may never be able to write it, hence it may not be able to completely
clone the contents of this chip (see man page for details).
Reading flash... done.
</pre>

<p>
–£–∂–µ –ø–æ—Ç–µ—Ä—è–≤ –æ–¥–∏–Ω BIOS, —è –ø—Ä–æ—á–∏—Ç–∞–ª –¥–∞–º–ø BIOS —Ç—Ä–∏ —Ä–∞–∑–∞, –∞ –ø–æ—Ç–æ–º —Å—Ä–∞–≤–Ω–∏–ª
–ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã¬†‚Äî –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ —Å–æ–≤–ø–∞–¥–∞—Ç—å. –ù–æ, –ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä –±—ã–ª
–ø–æ–¥–∫–ª—é—á–µ–Ω –∫ USB-–ø–æ—Ä—Ç—É –Ω–∞ –ª–∏—Ü–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞, —á–µ—Ä–µ–∑ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ç–æ—Ä –≤–Ω—É—Ç—Ä–∏
—Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –±–ª–æ–∫–∞, MD5-—Å—É–º–º—ã –Ω–µ —Å–æ–≤–ø–∞–¥–∞–ª–∏:
</p>
<pre class="example">
thinkpad/libreboot % md5sum *
115b37ab22dbe43bc7ff746bf174ac1f  coreboot_original1.rom
840cc3456aa5b0b3ba96353165f2ee3e  coreboot_original2.rom
ee978f3ed5fb4aab34b1d0a79cef455c  coreboot_original3.rom
</pre>

<p>
–°—Ç–æ–∏–ª–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é –∫ USB-–ø–æ—Ä—Ç—É –æ—Ç –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã, –∫–∞–∫ –æ—à–∏–±–∫–∏
—á—Ç–µ–Ω–∏—è –∏—Å—á–µ–∑–ª–∏:
</p>
<pre class="example">
thinkpad/libreboot % md5sum *
ee978f3ed5fb4aab34b1d0a79cef455c  coreboot_original1.rom
ee978f3ed5fb4aab34b1d0a79cef455c  coreboot_original2.rom
ee978f3ed5fb4aab34b1d0a79cef455c  coreboot_original3.rom
</pre>

<p>
–í –ø—Ä–∏–Ω—Ü–∏–ø–µ, —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏, –Ω–æ —è –ø–æ—à—ë–ª –Ω–µ–º–Ω–æ–≥–æ
–¥–∞–ª—å—à–µ (–∏–∑ —Å–µ–Ω—Ç–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏–π)¬†‚Äî —Ö–æ—Ç–µ–ª–æ—Å—å, —á—Ç–æ–±—ã –Ω–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–µ
—Å—Ç–æ—è–ª —á–∏–ø –ø–∞–º—è—Ç–∏ –æ—Ç –ø–µ—Ä–≤–æ–π (—Å–≥–æ—Ä–µ–≤—à–µ–π) –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã¬†‚Äî Macronix
MX25L6406E:
</p>


<div class="figure">
<p><img src="/assets/static/macronix.jpg" alt="Macronix MX25L6406E" align="center" />
</p>
<p style="text-align: center"><i>Macronix MX25L6406E</i></p>
</div>

<p>
–°–Ω–∞—á–∞–ª–∞ —è –æ—Ç–ø–∞—è–ª —á–∏–ø —Å–æ —Å—Ç–∞—Ä–æ–π –ø–ª–∞—Ç—ã –∑–∞ –ø–∞—Ä—É –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤:
</p>
<ol class="org-ol">
<li>–ü—Ä–∏ –ø–æ–º–æ—â–∏ –ø–∞—è–ª—å–Ω–∏–∫–∞ —Å–º–µ—à–∞–ª –±–µ—Å—Å–≤–∏–Ω—Ü–æ–≤—ã–π –ø—Ä–∏–ø–æ–π –Ω–∞ –Ω–æ–≥–∞—Ö —á–∏–ø–∞ —Å –æ–±—ã—á–Ω—ã–º,
—Å–≤–∏–Ω—Ü–æ–≤—ã–º –ø—Ä–∏–ø–æ–µ–º, —á—Ç–æ–±—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–ª–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π —Å–º–µ—Å–∏ –≤ –∏—Ç–æ–≥–µ –±—ã–ª–∞
–Ω–∏–∂–µ, —á–µ–º —É –±–µ—Å—Å–≤–∏–Ω—Ü–æ–≤–æ–≥–æ –ø—Ä–∏–ø–æ—è.</li>
<li>–°–Ω—è–ª —á–∏–ø –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø–∞—è–ª—å–Ω–æ–≥–æ —Ñ–µ–Ω–∞, —Ä–∞–∑–æ–≥—Ä–µ—Ç–æ–≥–æ –¥–æ 380¬∞–° (–∫–∏—Ç–∞–π—Å–∫–∏—Ö
–≥—Ä–∞–¥—É—Å–æ–≤, –ø–æ—ç—Ç–æ–º—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –æ–ø—Ä–µ–¥–µ–ª—è–ª–∞—Å—å –Ω–∞ –≥–ª–∞–∑ –ø–æ —Ç–æ–º—É, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±–æ–¥—Ä–æ
—Ñ–µ–Ω –ø–ª–∞–≤–∏—Ç –ø—Ä–∏–ø–æ–π —Å –∫–∞—Ç—É—à–∫–∏).</li>
</ol>

<p>
–ü–æ—Å–∞–¥–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ –ø–æ–¥ —á–∏–ø –≤—ã–≥–ª—è–¥–∏—Ç –≤–æ—Ç —Ç–∞–∫:
</p>


<div class="figure">
<p><img src="/assets/static/chip_footprint.jpg" alt="BIOS chip footprint" align="center" />
</p>
<p style="text-align: center"><i>–ü–æ—Å–∞–¥–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ –ø–æ–¥ —á–∏–ø –ø–∞–º—è—Ç–∏ —Å BIOS –Ω–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–µ Thinkpad¬†X220</i></p>
</div>

<p>
–ß–µ—Ç—ã—Ä–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –ø–ª–æ—â–∞–¥–∫–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ –æ—á–µ–≤–∏–¥–Ω–æ –Ω–µ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω—ã¬†‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω
–≤ –∫–æ—Ä–ø—É—Å–µ SOIC¬†8, —É –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç–æ–ª—å–∫–æ 8 –Ω–æ–∂–µ–∫ –ø–æ –±–æ–∫–∞–º.
</p>

<p>
–¢–∞–∫–∏–º –∂–µ —Å–ø–æ—Å–æ–±–æ–º —è —Å–Ω—è–ª —á–∏–ø Winbond —Å —Ä–∞–±–æ—á–µ–π –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç—ã –∏ –ø–æ–ª–æ–∂–∏–ª –µ–≥–æ
–≤ –∞–Ω—Ç–∏—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞–∫–µ—Ç–∏–∫. –¢–µ–ø–µ—Ä—å —É –º–µ–Ω—è –±—ã–ª –Ω–∞–¥–µ–∂–Ω—ã–π, –∂–µ–ª–µ–∑–Ω—ã–π –±–µ–∫–∞–ø, –µ—Å–ª–∏
–≤–¥—Ä—É–≥ —á—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫üôÉ.
</p>

<p>
–ù—É –∏ –ø–æ—Ç–æ–º, –Ω–∞ –≤—Å—è–∫–∏–π –ø–æ–∂–∞—Ä–Ω—ã–π, —è –ø—Ä–æ–≤–µ—Ä–∏–ª —Å–≤–æ–π –±–µ–∫–∞–ø. –ü—Ä–∏–ø–∞—è–ª —á–∏–ø –æ—Ç Macronix
–Ω–∞ –ø–ª–∞—Ç—É:
</p>


<div class="figure">
<p><img src="/assets/static/soldered_macronix.jpg" alt="Macronix chip on the working motherboard" align="center" />
</p>
<p style="text-align: center"><i>–ß–∏–ø Macronix –Ω–∞ —Ä–∞–±–æ—Ç–∞—é—â–µ–π –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–µ</i></p>
</div>

<p>
–ò –ø—Ä–æ—à–∏–ª –≤ –Ω–µ–≥–æ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é coreboot, —Å—á–∏—Ç–∞–Ω–Ω—É—é —Ä–∞–Ω–µ–µ, –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–æ–º–∞–Ω–¥—ã:
</p>
<pre class="example">
sudo flashrom -p ch341a_spi -c "MX25L6406E/MX25L6408E" -w coreboot_original1.rom -V
</pre>

<p>
–ö–æ—Ç–æ—Ä–∞—è —É—Å–ø–µ—à–Ω–æ –≤—Å—ë –∑–∞–ø–∏—Å–∞–ª–∞:
</p>
<pre class="example">
Erase/write done.
Verifying flash... VERIFIED.
</pre>

<p>
–í –∏—Ç–æ–≥–µ, –Ω–æ—É—Ç–±—É–∫ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è, –∞ –∑–Ω–∞—á–∏—Ç —Å—Ç–∞—Ä—ã–π-–Ω–æ–≤—ã–π —á–∏–ø –±—ã–ª —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–ø–∞—è–Ω –∏
—Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è coreboot –±—ã–ª–∞ –ø—Ä–æ—á–∏—Ç–∞–Ω–∞ –≤–µ—Ä–Ω–æ.
</p>
</div>
</div>
</div>
<div id="outline-container-get-libreboot-binary" class="outline-3">
<h3 id="get-libreboot-binary">–ü–æ–ª—É—á–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ Libreboot</h3>
<div class="outline-text-3" id="text-get-libreboot-binary">
<p>
–ü—Ä–æ—Å—Ç–æ–π –ø—É—Ç—å:
</p>
<ol class="org-ol">
<li>–í—ã–±—Ä–∞—Ç—å –∑–µ—Ä–∫–∞–ª–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤–æ—Ç —Ç—É—Ç: <a href="https://libreboot.org/download.html">https://libreboot.org/download.html</a></li>
<li>–°–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤ —Å –ø—Ä–æ—à–∏–≤–∫–æ–π –ø–æ –ø—É—Ç–∏ <code>/pub/libreboot/stable/20240612/roms</code> (–Ω–∞
–¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —ç—Ç–æ —Å–∞–º—ã–π –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑).</li>
</ol>

<p>
–ü—É—Ç—å <del>–ø–æ—Å–ª–æ–∂–Ω–µ–µ</del> –¥–ª—è –∫—Ä–∏–ø—Ç–æ-–ø–∞—Ä–∞–Ω–æ–∏–∫–æ–≤:
</p>
<ol class="org-ol">
<li>–ù–∞–¥–æ —Å–∫–∞—á–∞—Ç—å GPG-–∫–ª—é—á —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –∞—Ä—Ö–∏–≤–∞ —Å
–ø—Ä–æ—à–∏–≤–∫–æ–π: <a href="https://mirror.math.princeton.edu/pub/libreboot/lbkey.asc">https://mirror.math.princeton.edu/pub/libreboot/lbkey.asc</a></li>
<li><p>
–° –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∑–µ—Ä–∫–∞–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω—É–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ç—Ä–∏ —Ñ–∞–π–ª–∞ –¥–ª—è
Thinkpad¬†X220:
</p>
<pre class="example">
libreboot-20240612_x220_8mb.tar.xz
libreboot-20240612_x220_8mb.tar.xz.sha512
libreboot-20240612_x220_8mb.tar.xz.sig
</pre></li>
<li><p>
–ü–æ—Ç–æ–º –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å SHA512 —Å—É–º–º—É —É –∞—Ä—Ö–∏–≤–∞:
</p>
<pre class="example">
thinkpad/libreboot % sha512sum -c libreboot-20240612_x220_8mb.tar.xz.sha512
./libreboot-20240612_x220_8mb.tar.xz: OK
</pre></li>
<li><p>
–ò –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—É–Ω–∫—Ç¬†‚Äî –Ω–∞–¥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å GPG-–∫–ª—é—á –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
</p>
<pre class="example">
thinkpad/libreboot % gpg --show-keys --with-fingerprint lbkey.asc
pub   rsa4096 2023-12-28 [SC] [expires: 2028-12-26]
8BB1 F7D2 8CF7 696D BF4F  7192 5C65 4067 D383 B1FF
uid                      Leah Rowe &lt;info@minifree.org&gt;
sub   rsa4096 2023-12-28 [E] [expires: 2028-12-26]

thinkpad/libreboot % gpg --import lbkey.asc
gpg: key 5C654067D383B1FF: public key "Leah Rowe &lt;info@minifree.org&gt;" imported
gpg: Total number processed: 1
gpg:               imported: 1
</pre>

<p>
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥—ã –Ω—É–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å fingerprint –∫–ª—é—á–∞ —Å —Ç–µ–º, —á—Ç–æ
—É–∫–∞–∑–∞–Ω <a href="https://libreboot.org/download.html">–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–≥—Ä—É–∑–∫–∏</a>¬†‚Äî –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å. –ò–Ω–∞—á–µ, <i>–∫—Ç–æ-—Ç–æ</i> –ø–æ–¥—Å—É–Ω—É–ª
–Ω–µ–≤–µ—Ä–Ω—ã–π –∫–ª—é—á.
</p>

<p>
–ï—Å–ª–∏ –≤—Å—ë –û–ö, —Ç–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–¥–ø–∏—Å–∏:
</p>
<pre class="example">
thinkpad/libreboot % gpg --verify libreboot-20240612_x220_8mb.tar.xz.sig libreboot-20240612_x220_8mb.tar.xz
gpg: Signature made Wed 12 Jun 2024 12:55:03 PM MSK
gpg:                using RSA key 8BB1F7D28CF7696DBF4F71925C654067D383B1FF
gpg: Good signature from "Leah Rowe &lt;info@minifree.org&gt;" [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 8BB1 F7D2 8CF7 696D BF4F  7192 5C65 4067 D383 B1FF
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-prepare-libreboot-binary" class="outline-3">
<h3 id="prepare-libreboot-binary">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ Libreboot –∫ –ø—Ä–æ—à–∏–≤–∫–µ</h3>
<div class="outline-text-3" id="text-prepare-libreboot-binary">
<p>
–û—á–µ–≤–∏–¥–Ω–æ, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –≤—Å–µ—Ö –±–ª–æ–±–æ–≤ –¥–ª—è –ø–ª–∞—Ç—ã –æ—Ç X220 –Ω–∞ –¥–∞–Ω–Ω—ã–π
–º–æ–º–µ–Ω—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –¢–æ—Ç –∂–µ Intel¬†ME –∏–º–µ–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –ø–æ–¥–ø–∏—Å—å, –∫–æ—Ç–æ—Ä–∞—è
–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞¬†‚Äî –µ—Å–ª–∏ –ø–æ–¥–ø–∏—Å—å –Ω–µ–≤–µ—Ä–Ω–∞—è, —Ç–æ
–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.
</p>

<p>
–í —Ç–æ –∂–µ –≤—Ä–µ–º—è, –ø–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω—ã–π –±–ª–æ–± —Å —ç—Ç–æ–π —à—Ç—É–∫–æ–π –≤–Ω—É—Ç—Ä–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
Libreboot –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑-–∑–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å –ª–∏—Ü–µ–Ω–∑–∏–µ–π. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
–≤—ã–∫—Ä—É—Ç–∏–ª–∏—Å—å –∏–∑ —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏, –ø—Ä–µ–¥–ª–∞–≥–∞—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∫–æ—Ç–æ—Ä—ã–π —Å–∫–∞—á–∏–≤–∞–µ—Ç
–±–∏–Ω–∞—Ä–Ω–∏–∫ —Å Intel¬†ME –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –µ–≥–æ –ø–æ –Ω—É–∂–Ω–æ–º—É —Å–º–µ—â–µ–Ω–∏—é –≤–Ω—É—Ç—Ä—å –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ —Å
Libreboot. –ü—Ä–æ—Ü–µ—Å—Å –æ–ø–∏—Å–∞–Ω –Ω–∞ —Å–∞–π—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –≤–æ—Ç —Ç—É—Ç:
<a href="https://libreboot.org/docs/install/ivy_has_common.html">https://libreboot.org/docs/install/ivy_has_common.html</a>. –ù—É –∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ
—Å–∫—Ä–∏–ø—Ç—ã –ª–µ–∂–∞—Ç –≤–Ω—É—Ç—Ä–∏ lbmk¬†‚Äî —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å–≤–æ–µ–≥–æ Libreboot, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ
—Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Å—é–¥–∞: <a href="https://codeberg.org/libreboot/lbmk">https://codeberg.org/libreboot/lbmk</a>.
</p>

<p>
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω—É–∂–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É
—Å–∫–∞—Ä–º–ª–∏–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—É —Å–∫–∞—á–∞–Ω–Ω—ã–π tarball¬†‚Äî –æ–Ω —Ä–∞—Å–ø–∞–∫—É–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –∏–∑ –Ω–µ–≥–æ –∏
–≤—Å—Ç—Ä–æ–∏—Ç –≤ –∫–∞–∂–¥—ã–π –Ω—É–∂–Ω—ã–µ –±–ª–æ–±—ã:
</p>
<pre class="example">
./vendor inject libreboot-20240612_x220_8mb.tar.xz
</pre>

<p>
–ü—Ä–æ—Ü–µ—Å—Å –Ω–µ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π¬†‚Äî lbmk –±—É–¥–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏,
—Å–æ–±–∏—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–µ –µ–º—É —É—Ç–∏–ª–∏—Ç—ã –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å
–ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
</p>
<pre class="example">
File tmp/romdir/bin/x220_8mb/seabios_withgrub_x220_8mb_libgfxinit_txtmode_usqwerty_grubfirst.rom is 8388608 bytes
File vendorfiles/xx20/me.bin is 86016 bytes
Adding vendorfiles/xx20/me.bin as the Intel ME section of tmp/romdir/bin/x220_8mb/seabios_withgrub_x220_8mb_libgfxinit_txtmode_usqwerty_grubfirst.rom
Writing new image to tmp/romdir/bin/x220_8mb/seabios_withgrub_x220_8mb_libgfxinit_txtmode_usqwerty_grubfirst.rom
ROM image successfully patched: tmp/romdir/bin/x220_8mb/seabios_withgrub_x220_8mb_libgfxinit_txtmode_usqwerty_grubfirst.rom
</pre>

<p>
–ê –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –±—É–¥—É—Ç –ª–µ–∂–∞—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å lbmk –ø–æ —ç—Ç–æ–º—É –ø—É—Ç–∏:
<code>./bin/release/x220_8mb/</code>.
</p>
</div>
</div>
<div id="outline-container-libreboot-flashing" class="outline-3">
<h3 id="libreboot-flashing">–ü—Ä–æ—à–∏–≤–∫–∞ –≥–æ—Ç–æ–≤–æ–≥–æ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ —Å Libreboot</h3>
<div class="outline-text-3" id="text-libreboot-flashing">
<p>
–ò–∑ –≤—Å–µ—Ö –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ –∏–∑ –∞—Ä—Ö–∏–≤–∞ –Ω—É–∂–Ω–æ –±—ã–ª–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è
–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≤ –Ω–æ—É—Ç–±—É–∫–µ:
</p>


<div class="figure">
<p><img src="/assets/static/list-of-binaries.png" alt="List of binaries with added blobs" align="center" />
</p>
<p style="text-align: center"><i>–°–ø–∏—Å–æ–∫ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –±–ª–æ–±–∞–º–∏</i></p>
</div>

<p>
–í –º–æ—ë–º —Å–ª—É—á–∞–µ, –≤ –Ω–æ—É—Ç–±—É–∫–µ —Å—Ç–æ–∏—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å US-—Ä–∞—Å–∫–ª–∞–¥–∫–æ–π, –ø–æ—ç—Ç–æ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã
–≤–æ—Ç —ç—Ç–∏ –¥–≤–∞ —Ñ–∞–π–ª–∞:
</p>
<ul class="org-ul">
<li>seabios_withgrub_x220_8mb_libgfxinit_txtmode_usqwerty.rom</li>
<li>seabios_withgrub_x220_8mb_libgfxinit_corebootfb_usqwerty.rom</li>
</ul>

<p>
Libreboot –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º –¥–ª—è –≤—ã–≤–æ–¥–∞
–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ —ç–∫—Ä–∞–Ω¬†‚Äî –Ω–µ —Ñ–∞–∫—Ç, —á—Ç–æ –≤ —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –æ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –Ω–∞ –¥–∏—Å–ø–ª–µ–µ –Ω–∞
—à–∏–Ω–µ DP-3. –ê –≤–æ—Ç –≤–æ –≤—Ç–æ—Ä–æ–º —Ñ–∞–π–ª–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ä–∞–∑ libgfxinit.
</p>

<p>
–ü—Ä–æ—à–∏–≤–∞–µ—Ç—Å—è –æ–Ω –≤—Å—ë —Ç–∞–∫ –∂–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä, –∫–æ–º–∞–Ω–¥–æ–π:
</p>
<pre class="example">
sudo flashrom -p ch341a_spi -c "MX25L6406E/MX25L6408E" -w seabios_withgrub_x220_8mb_libgfxinit_corebootfb_usqwerty.rom -V
</pre>


<div class="figure">
<p><img src="/assets/static/libreboot-flashing.jpg" alt="Flashing Libreboot" align="center" />
</p>
</div>

<p>
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–æ—É—Ç–±—É–∫ –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –Ω–∞—á–∞–ª —Å—Ç–∞–±–∏–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ
–≤–∫–ª—é—á–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Å—Ç–∞–ª –∑–∞–≤–∏—Å–∞—Ç—å –≤ —Å–ª—É—á–∞–π–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏. –ê –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã
–Ω–∞–∫–æ–Ω–µ—Ü –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ:
</p>


<div class="figure">
<p><img src="/assets/static/framebuffer.jpg" alt="Laptop booting at fullscreen" align="center" />
</p>
</div>

<p>
–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –Ω–æ—É—Ç–±—É–∫–∞ —Ä–∞–±–æ—Ç–∞–ª–∏ –∫–∞–∫ –∏ –ø—Ä–µ–∂–¥–µ, –≤–µ–¥—å –≤—Å—ë –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
–∫–∞–∫ –Ω—É–∂–Ω–æ –µ—â—ë –≤–æ –≤—Ä–µ–º–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è coreboot:
<a href="https://eugene-andrienko.com/it/2020/09/26/thinkpad-x220-freebsd#update-2024-04-28">https://eugene-andrienko.com/it/2020/09/26/thinkpad-x220-freebsd#update-2024-04-28</a>
</p>
</div>
</div>
<div id="outline-container-mac-address" class="outline-3">
<h3 id="mac-address">MAC –∞–¥—Ä–µ—Å</h3>
<div class="outline-text-3" id="text-mac-address">
<p>
–¢–µ, –∫—Ç–æ —á–∏—Ç–∞–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ —è –Ω–µ –¥–æ–±–∞–≤–∏–ª —Å–≤–æ–π MAC-–∞–¥—Ä–µ—Å –≤
–±–∏–Ω–∞—Ä–Ω–∏–∫ –ø–µ—Ä–µ–¥ –µ—ë –ø—Ä–æ—à–∏–≤–∫–æ–π. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, —É –º–µ–Ω—è –±—ã–ª –∑–∞–±–∞–≤–Ω—ã–π –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π
–∞–¥—Ä–µ—Å:
</p>


<div class="figure">
<p><img src="/assets/static/default-mac.png" alt="Default Libreboot MAC address" align="center" />
</p>
</div>

<p>
–Ø –ø–æ–º–µ–Ω—è–ª –µ–≥–æ, –≤–∑—è–≤ –ø—Ä–æ—à–∏—Ç—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏ –µ—â—ë —Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤ —Å–∫—Ä–∏–ø—Ç –∏–∑ lbmk:
</p>
<pre class="example">
libreboot/lbmk % ./vendor inject -r bin/release/x220_8mb/seabios_withgrub_x220_8mb_libgfxinit_corebootfb_usqwerty.rom -b x220_8mb -m ‚ñà‚ñà:‚ñà‚ñà:‚ñà‚ñà:‚ñà‚ñà:‚ñà‚ñà:‚ñà‚ñà
</pre>

<p>
–ü–æ—Ç–æ–º –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—à–∏–ª –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π libreboot –µ—â—ë —Ä–∞–∑ –≤ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫—É—é –ø–ª–∞—Ç—É.
</p>
</div>
</div>
</div>
<div id="outline-container-libreboot-customization" class="outline-2">
<h2 id="libreboot-customization">–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è libreboot</h2>
<div class="outline-text-2" id="text-libreboot-customization">
<p>
–¢–µ–ø–µ—Ä—å, –≤—Å—ë –±—ã–ª–æ –∫–∞–∫ –Ω–∞–¥–æ. –ü–æ—á—Ç–∏ –≤—Å—ë. –ê–≤—Ç–æ—Ä—ã libreboot, –∫–æ–≥–¥–∞ —Å–æ–±–∏—Ä–∞–ª–∏ –µ–≥–æ –¥–ª—è
ThinkPad¬†X220, –Ω–µ —Å—Ç–∞–ª–∏ –¥–µ–ª–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–æ—à–∏–≤–æ–∫ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –ª—é–±–∏—Ç
–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ –∫–ª–∞–≤–∏—à–∏ Ctrl –∏ Fn –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ. –ö–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è —è –ø—ã—Ç–∞–ª—Å—è
–ø—Ä–∏–≤—ã–∫–Ω—É—Ç—å –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –¥–ª—è Thinkpad —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é —ç—Ç–∏—Ö –∫–ª–∞–≤–∏—à, –Ω–æ –Ω–µ
–ø—Ä–µ—É—Å–ø–µ–ª –≤ —ç—Ç–æ–º.
</p>

<p>
–°–Ω–∞—á–∞–ª–∞, —á—Ç–æ–±—ã –ø–æ–º–µ–Ω—è—Ç—å –∏—Ö –º–µ—Å—Ç–∞–º–∏, —è —Ä–µ—à–∏–ª –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å Libreboot —Å
–Ω—É–∂–Ω–æ–π –º–Ω–µ –æ–ø—Ü–∏–µ–π:
</p>
<pre class="example">
Chipset:
  Swap Fn and Ctrl keys=y
</pre>

<p>
–ö–∞–∑–∞–ª–æ—Å—å –±—ã, —Ä–∞–∑ —è —É–∂–µ —Å–æ–±–∏—Ä–∞–ª coreboot –∏ —É –º–µ–Ω—è –µ—Å—Ç—å –≤—Å—è –Ω—É–∂–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è,
—Ç–æ –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ. –ü—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–º –Ω—É–∂–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑
<code>./mk -m coreboot x220_8mb</code>, –∞ –ø–æ—Ç–æ–º —Å–æ–±–µ—Ä—É –±–∏–Ω–∞—Ä–Ω–∏–∫:
</p>
<pre class="example">
export XBMK_THREADS=3
./mk -b coreboot x220_8mb
</pre>

<p>
–ù–æ, <b>–≤–Ω–µ–∑–∞–ø–Ω–æ</b>, libreboot –æ–∫–∞–∑–∞–ª—Å—è –ø–µ—Ä–≤–æ–π –æ–ø–µ–Ω—Å–æ—Ä—Å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –∑–∞ 16 –ª–µ—Ç,
–∫–æ—Ç–æ—Ä—É—é —è –Ω–µ —Å–º–æ–≥ —Å–æ–±—Ä–∞—Ç—å –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –•–æ—Ç—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–±–æ—Ä–∫–∞
–ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —É—Å–ø–µ—à–Ω–æ, –≤ –∏—Ç–æ–≥–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–ª—É—á–∞–ª–∏—Å—å —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π ¬´–ø–æ
—É–º–æ–ª—á–∞–Ω–∏—é¬ª, –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ <i>–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ</i> –æ–ø—Ü–∏–∏ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ —É—Ç–∏–ª–∏—Ç—ã
<code>nvramtool</code> –∏–∑ –ø–æ—Å—Ç–∞–≤–∫–∏ coreboot. –ò –≤ —Å–ø–∏—Å–∫–µ –æ–ø—Ü–∏–π –±—ã–ª–∞ —Ç–∞ —Å–∞–º–∞—è, —á—Ç–æ –º–µ–Ω—è–µ—Ç
–º–µ—Å—Ç–∞–º–∏ –∫–ª–∞–≤–∏—à–∏:
</p>

<pre class="example">
% ../../coreboot/build/util/nvramtool/nvramtool -C seabios_withgrub_x220_8mb_libgfxinit_corebootfb_usqwerty.rom -a
boot_option = Fallback
reboot_counter = 0x0
debug_level = Debug
nmi = Enable
power_on_after_fail = Disable
first_battery = Primary
bluetooth = Enable
wwan = Enable
touchpad = Enable
wlan = Enable
trackpoint = Enable
fn_ctrl_swap = Disable
sticky_fn = Disable
power_management_beeps = Disable
sata_mode = AHCI
usb_always_on = Disable
me_state = Disabled
me_state_prev = 0x0
gfx_uma_size = 224M
volume = 0x3
</pre>

<p>
–î–∞–ª—å—à–µ –≤—Å—ë –±—ã–ª–æ —Ç–∞–∫ –∂–µ –∫–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π MAC-–∞–¥—Ä–µ—Å–∞:
</p>
<ol class="org-ol">
<li><p>
–ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª —Å –ø—Ä–æ—à–∏–≤–∫–æ–π –º–µ–Ω—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–æ–π:
</p>
<pre class="example">
% ../../coreboot/build/util/nvramtool/nvramtool -C seabios_withgrub_x220_8mb_libgfxinit_corebootfb_usqwerty.rom -w fn_ctrl_swap=Enable
</pre></li>
<li>–ò –ø—Ä–æ—à–∏–≤–∞–µ—Ç—Å—è –≤ –Ω–æ—É—Ç–±—É–∫.</li>
</ol>

<p>
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–ª–∞–≤–∏—à–∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –∏ –Ω–æ—É—Ç–±—É–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É, –±–µ–∑
–∑–∞–≤–∏—Å–∞–Ω–∏–π.
</p>
</div>
</div>
<div id="outline-container-notes" class="outline-2">
<h2 id="notes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</h2>
<div class="outline-text-2" id="text-notes">
</div>
</div>
<div id="footnotes">

<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.manufacturer_approve" class="footnum" href="#fnr.manufacturer_approve" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–° —Ç–µ—Ö –ø–æ—Ä –∫–∞–∫ IBM –ø—Ä–æ–¥–∞–ª–∞ —Å–≤–æ–π –Ω–æ—É—Ç–±—É—á–Ω—ã–π –±–∏–∑–Ω–µ—Å
–∫–æ–º–ø–∞–Ω–∏–∏ Lenovo, –¥—É—Ö —Å—Ç–∞—Ä—ã—Ö ThinkPad'–æ–≤ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, –Ω–æ –Ω–µ—É–º–æ–ª–∏–º–æ, –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –∏–∑
–Ω–æ–≤—ã—Ö –Ω–æ—É—Ç–±—É–∫–æ–≤, –≤—ã–ø—É—Å–∫–∞–µ–º—ã—Ö –ø–æ–¥ —ç—Ç–æ–π –º–∞—Ä–∫–æ–π.
</p>

<p class="footpara">
–í —ç—Ç–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ–≥–æ¬†‚Äî –æ–±—ã—á–Ω—ã–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π
<a href="https://web.archive.org/web/20240208152542/https://www.ft.com/content/6fb1602d-a08b-4a8c-bac0-047b7d64aba5">enshittification</a>. –û–¥–Ω–æ –∏–∑ –µ–≥–æ –ø—Ä–æ—è–≤–ª–µ–Ω–∏–π¬†‚Äî whitelist –≤ BIOS'–µ Lenovo
ThinkPad¬†X220. –ù–∞ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π –ø–ª–∞—Ç–µ –Ω–æ—É—Ç–±—É–∫–∞ –µ—Å—Ç—å –¥–≤–∞ —Ä–∞–∑—ä—ë–º–∞ PCI Express, –≤
–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã WiFi –∏ WWAN –∫–∞—Ä—Ç—ã (–∏–ª–∏ WiFi-–∫–∞—Ä—Ç–∞ –∏ SSD). –ò—Ö
–º–æ–∂–Ω–æ —Å–Ω—è—Ç—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫–∏–µ-–Ω–∏–±—É–¥—å –¥—Ä—É–≥–∏–µ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞,
–ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–µ —á–µ—Ä–µ–∑ —à–∏–Ω—É PCI Express¬†‚Äî –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å
—ç—Ç–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏. –ù–æ –Ω–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ¬†‚Äî –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã BIOS
¬´—É–≤–∏–¥–∏—Ç¬ª, —á—Ç–æ ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ —à–∏–Ω–µ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –µ–≥–æ whitelist'–æ–º, –∏
–æ—Ç–∫–∞–∂–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤—ã–º–∏ ¬´–Ω–µ –æ–¥–æ–±—Ä–µ–Ω–Ω—ã–º–∏¬ª —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏.
</p>

<p class="footpara">
–û–±–æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫–æ–µ –æ–±—ã—á–Ω–æ —Ç–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —è–∫–æ–±—ã ¬´–∑–∞—â–∏—â–∞—é—Ç¬ª –æ—Ç
¬´–Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö¬ª third-party –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏—Ö. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —è
–∫—É–ø–∏–ª —Å–µ–±–µ –Ω–æ—É—Ç–±—É–∫¬†‚Äî —è –Ω–µ –≤–ª–∞–¥–µ—é –∏–º –ø–æ–ª–Ω–æ—Å—Ç—å—é. –î–∞–∂–µ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö
—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤, —è –Ω–µ –º–æ–≥—É –∑–∞–º–µ–Ω–∏—Ç—å WiFi-–∫–∞—Ä—Ç–æ—á–∫—É –Ω–∞ –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é,
–ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –¥–µ—Ä–∂–∏—Ç –º–µ–Ω—è –∑–∞ –∏–¥–∏–æ—Ç–∞! –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ —Ç–æ, –æ —á—ë–º
–º–Ω–æ–≥–æ —Ä–∞–∑ –ø–∏—Å–∞–ª RMS –≤ —Å–≤–æ–∏—Ö —ç—Å—Å–µ¬†‚Äî –µ—Å–ª–∏ –≤ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –µ—Å—Ç—å –ø—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–æ–µ
–ü–û, —Ç–æ –≤—ã –Ω–µ –≤–ª–∞–¥–µ–µ—Ç–µ –≤ –ø–æ–ª–Ω–æ–π –º–µ—Ä–µ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º–∏ –º–æ—â–Ω–æ—Å—Ç—è–º–∏ –∫—É–ø–ª–µ–Ω–Ω–æ–≥–æ
—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–∏–∫—Ç–æ–≤–∞—Ç—å –≤–∞–º —Å–≤–æ–∏ —É—Å–ª–æ–≤–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä,
–≤—ã–Ω—É–∂–¥–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∏–∑ –æ–¥–æ–±—Ä–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞.
</p>

<p class="footpara">
–û—á–µ–≤–∏–¥–Ω–æ, <del>—Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è</del> —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø—Ä–∏–±—ã–ª–∏ —Ä—è–¥–∞
–∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π —Ä–∞–¥–∏ –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç—á—ë—Ç–∞ –ø–µ—Ä–µ–¥ —Å–æ–≤–µ—Ç–æ–º –∞–∫—Ü–∏–æ–Ω–µ—Ä–æ–≤¬†‚Äî –ø–æ–¥–æ–±–Ω—ã–µ
–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ—á–µ–Ω—å –≤—ã–≥–æ–¥–Ω—ã¬†‚Äî –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –Ω–æ—É—Ç–±—É–∫–∞ –±—É–¥–µ—Ç –≤—ã–Ω—É–∂–¥–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
—Ç–æ–ª—å–∫–æ —Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–∏ –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å –æ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Å–≤–æ–∏—Ö
—É—Å—Ç—Ä–æ–π—Å—Ç–≤ –≤ whitelist. –ê –∫–æ–≥–¥–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–µ—Ç¬†‚Äî –µ–º—É –ø—Ä–∏–¥—ë—Ç—Å—è
–∫—É–ø–∏—Ç—å –Ω–æ–≤—ã–π –Ω–æ—É—Ç–±—É–∫ –≤–º–µ—Å—Ç–æ –ø–æ–∫—É–ø–∫–∏ –æ–¥–Ω–æ–π –º–∞–ª–µ–Ω—å–∫–æ–π –∏ –∑–∞–º–µ–Ω—è–µ–º–æ–π
–∂–µ–ª–µ–∑—è–∫–∏. –ï—Å–ª–∏ –∂–µ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è –∏ –∑–∞–ø–∞—Å–Ω–∞—è –¥–µ—Ç–∞–ª—å –∫ —Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É –ø—Ä–æ–ø–∞–¥—ë—Ç —Å
—Ä—ã–Ω–∫–∞, —Ç–æ¬†&#x2026; –µ–º—É –æ–ø—è—Ç—å –∂–µ –ø—Ä–∏–¥—ë—Ç—Å—è –∫—É–ø–∏—Ç—å –Ω–æ–≤—ã–π –Ω–æ—É—Ç–±—É–∫ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–ø–æ–¥—Ö–æ–¥—è—â–µ–π –∑–∞–º–µ–Ω—ã. –û–± —É–¥–æ–±—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É–º–µ–Ω—å—à–µ–Ω–∏–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ e-waste –∏
—Ç.–¥. –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∏–∫—Ç–æ –Ω–µ –¥—É–º–∞–µ—Ç (–º–æ–∂–µ—Ç –∫—Ä–æ–º–µ <a href="https://frame.work">Framework</a>).
</p>

<p class="footpara">
–ü–æ—ç—Ç–æ–º—É, –≤ ThinkPad X230¬†–ø–æ—è–≤–∏–ª—Å—è whitelist –¥–ª—è –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω—ã—Ö –±–∞—Ç–∞—Ä–µ–π
(<a href="http://zmatt.net/unlocking-my-lenovo-laptop-part-1/">http://zmatt.net/unlocking-my-lenovo-laptop-part-1/</a>), –≤ ThinkPad¬†X240¬†‚Äî
whitelist –¥–ª—è –¥–∏—Å–ø–ª–µ–µ–≤
(<a href="https://www.reddit.com/r/thinkpad/comments/dgydnf/x240_right_to_repair_no_brightness_control_after/">https://www.reddit.com/r/thinkpad/comments/dgydnf/x240_right_to_repair_no_brightness_control_after/</a>)
–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ü—Ä–æ—Ü–µ—Å—Å enshittifica'—Ü–∏–∏ –∫–æ–Ω–µ—á–Ω–æ –∂–µ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è –Ω–∞ —ç—Ç–æ–º:
</p>
<ul class="org-ul">
<li>–í ThinkPad¬†X230 –ø—Ä–æ–ø–∞–ª–∞ —Å–µ–º–∏—Ä—è–¥–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –ø–∏—Ä–∞–º–∏–¥–∞–ª—å–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏¬†‚Äî –µ—ë
–∑–∞–º–µ–Ω–∏–ª–∏ –Ω–∞ —à–µ—Å—Ç–∏—Ä—è–¥–Ω—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É, —É–±—Ä–∞–≤ –∫–Ω–æ–ø–∫–∏:
<ul class="org-ul">
<li><code>Print Screen/System Request</code> ‚Äî —Ç–µ–ø–µ—Ä—å –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç
–Ω–∞–∂–∞—Ç–∏–µ–º –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–∏ –∏ —Å—Ç–∞–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã <a href="https://en.wikipedia.org/wiki/Magic_SysRq_key">magic SysRq keys</a>.</li>
<li><code>Scroll Lock</code> ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤—ã–≤–æ–¥–∞ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–π –∫–æ–Ω—Å–æ–ª–∏,
–Ω–∞–ø—Ä–∏–º–µ—Ä –ª–æ–≥–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –û–° (–æ—á–µ–≤–∏–¥–Ω–æ, –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤ bash/zsh –∏–ª–∏ –≤ tmux
–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ).</li>
<li><code>Pause/Break</code> ‚Äî –µ—ë –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–Ω–∞ –ø–∞—É–∑—É —á–µ—Ä–µ–∑ <code>kill -17</code>:
<a href="https://vermaden.wordpress.com/2018/09/19/freebsd-desktop-part-16-configuration-pause-any-application/">https://vermaden.wordpress.com/2018/09/19/freebsd-desktop-part-16-configuration-pause-any-application/</a></li>
<li>2 –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤–ø–µ—Ä—ë–¥ –∏ –Ω–∞–∑–∞–¥ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —Å –∫–æ–¥–∞–º–∏ <code>XF86Forward</code> –∏
<code>XF86Back</code> ‚Äî –∏—Ö –±—ã–ª–æ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É
–±—É—Ñ–µ—Ä–∞–º–∏ –≤ Emacs.</li>
</ul></li>
<li><p>
–í Thinkpad¬†X240 –ø—Ä–æ–ø–∞–ª–∏ <b>–æ—Ç–¥–µ–ª—å–Ω—ã–µ</b> –∫–Ω–æ–ø–∫–∏ –¥–ª—è TrackPoint'–∞¬†‚Äî –∏—Ö –ø–µ—Ä–µ–Ω–µ—Å–ª–∏ –Ω–∞
—Ç–∞—á–ø–∞–¥. –ò–∑–æ–≥–Ω—É—Ç—ã–π –ø—Ä–æ—Ñ–∏–ª—å –ª–µ–≤–æ–π –∏ –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–æ–∫, –∞ —Ç–∞–∫–∂–µ —Ä–∏—Ñ–ª—ë–Ω–∞—è
–ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å —Å—Ä–µ–¥–Ω–µ–π –∫–Ω–æ–ø–∫–∏ –ø–æ–∑–≤–æ–ª—è–ª–∏ –Ω–µ –∑–∞–¥—É–º—ã–≤–∞—è—Å—å, –Ω–∞ –º—ã—à–µ—á–Ω–æ–π –ø–∞–º—è—Ç–∏
–Ω–∞–∂–∏–º–∞—Ç—å –∏—Ö, –∑–Ω–∞—è —á—Ç–æ –ø–∞–ª–µ—Ü –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –Ω–∞ —Ç–∞—á–ø–∞–¥. –° –∫–Ω–æ–ø–∫–∞–º–∏ –ø–æ–¥ –ø–ª–æ—Å–∫–æ–π
–ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å—é —Ç–∞—á–ø–∞–¥–∞ —É–∂–µ –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è¬†‚Äî –Ω–∏—á—Ç–æ <i>—Ñ–∏–∑–∏—á–µ—Å–∫–∏</i> –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç
–ø–∞–ª–µ—Ü –æ—Ç —Å–∫–æ–ª—å–∂–µ–Ω–∏—è –¥–∞–ª—å—à–µ, –Ω–∞ —Å–µ–Ω—Å–æ—Ä–Ω—É—é –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å.
</p>

<p>
–ö —Ç–æ–º—É –∂–µ, —Ä—É–∫–∞–º–∏ –≤ –ø–µ—Ä—á–∞—Ç–∫–∞—Ö –±—ã–ª–æ —É–¥–æ–±–Ω–µ–µ –Ω–∞–∂–∏–º–∞—Ç—å –∏–º–µ–Ω–Ω–æ –æ—Ç–¥–µ–ª—å–Ω—ã–µ,
<b>—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ</b> –∫–Ω–æ–ø–∫–∏.
</p>

<p>
–ö —Å—á–∞—Å—Ç—å—é, –≤–æ–∑–º—É—â–µ–Ω–∏–µ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–µ—Ä–Ω—É–ª–æ —ç—Ç–∏ –∫–Ω–æ–ø–∫–∏ –Ω–∞–∑–∞–¥, –Ω–æ
Lenovo –≤–Ω–æ–≤—å –ø–æ–ø—ã—Ç–∞–ª–∞—Å—å —É–±—Ä–∞—Ç—å –∏—Ö –≤ <a href="https://en.wikipedia.org/wiki/ThinkPad_X1_series#/media/File:Gladstone_ready_for_2017_Budget.jpg">Thinkpad X1 Carbon gen 2</a>. –í–ø—Ä–æ—á–µ–º, –≤
—ç—Ç–æ–π –º–æ–¥–µ–ª–∏ –±—ã–ª–æ —Å—Ç–æ–ª—å–∫–æ –Ω–µ–∞–¥–µ–∫–≤–∞—Ç–Ω—ã—Ö ¬´–∏–ù–ù–æ–í–∞–¶–∏–ô¬ª –≤ –æ–±–ª–∞—Å—Ç–∏
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞, —á—Ç–æ –¥–ª—è –∏—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π
—Å–ø–∏—Å–æ–∫.
</p></li>
<li><p>
–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ, –Ω–∞—á–∏–Ω–∞—è —Å X200, —Å –∫—Ä—ã—à–∫–∏ –Ω–æ—É—Ç–±—É–∫–∞ —Å—Ç–∞–ª–∏ –ø—Ä–æ–ø–∞–¥–∞—Ç—å
—Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã. –°–Ω–∞—á–∞–ª–∞ –≤ X220 —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –¥–∏—Å–ø–ª–µ—è –∏—Å—á–µ–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä NumLock (1–Ω
–Ω—É3–µ–Ω —á—Ç1–±—ã –Ω–µ –ø–µ—á–∞—Ç–∞—Ç0 –≤1—Ç —Ç–∞–∫, –∞ –ø–æ—Ç–æ–º –≤—Å—ë –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å), –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–Ω–∞
(–Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–æ—É—Ç–±—É–∫–∞, –µ—Å–ª–∏ –µ–≥–æ –æ—Å—Ç–∞–≤–∏–ª–∏ —Å –æ—Ç–∫—Ä—ã—Ç–æ–π
–∫—Ä—ã—à–∫–æ–π) –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞—Ä—è–¥–∫–∏ –±–∞—Ç–∞—Ä–µ–∏ (–Ω–µ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π
–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –û–°). –ü–æ—Ç–æ–º, –≤ X230
–ø—Ä–æ–ø–∞–ª –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è Bluetooth (–ø–æ –Ω–µ–º—É –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ rf
killswitch –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–µ off), –∞ –≤ X240 —É–±—Ä–∞–ª–∏ –≤–æ–æ–±—â–µ –≤—Å–µ —Å—Ç–∞—Ç—É—Å–Ω—ã–µ
—Å–≤–µ—Ç–æ–¥–∏–æ–¥—ã —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –¥–∏—Å–ø–ª–µ—è (–∑–∞—Ç–æ –≤–µ—Ä–Ω—É–ª–∏ –æ–±—Ä–∞—Ç–Ω–æ —Å–≤–µ—Ç—è—â—É—é—Å—è –∫—Ä–∞—Å–Ω—É—é —Ç–æ—á–∫—É
–≤ –ª–æ–≥–æ—Ç–∏–ø–µ).
</p>

<p>
–í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, —É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –Ω–æ—É—Ç–±—É–∫–∞ –∏–∑ X-—Å–µ—Ä–∏–∏¬†‚ÄîThinkPad X13 Gen¬†4 –Ω–µ—Ç
–Ω–∏ –æ–¥–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–Ω–æ–≥–æ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞ –Ω–∏ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–µ–π, –Ω–∏ –Ω–∞ –∑–∞–¥–Ω–µ–π —Å—Ç–æ—Ä–æ–Ω–µ
–∫—Ä—ã—à–∫–∏ü§∑‚Äç‚ôÇÔ∏è (–∫—Ä–æ–º–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ CapsLock).
</p></li>
<li><p>
–í¬†X280 —É–±—Ä–∞–ª–∏ —Å—ä—ë–º–Ω—É—é –±–∞—Ç–∞—Ä–µ—é¬†‚Äî –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è —Å–∞–º–æ–º—É —Å–º–µ–Ω–∏—Ç—å –¥–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞–≤—à—É—é
–±–∞—Ç–∞—Ä–µ—é –Ω–∞ –Ω–æ–≤—É—é, –ø—Ä–∏–¥—ë—Ç—Å—è –Ω–µ—Å—Ç–∏ –Ω–æ—É—Ç–±—É–∫ –≤ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä. –¢–∞–∫–∂–µ, –Ω–µ
–ø–æ–ª—É—á–∏—Ç—Å—è –∫—É–ø–∏—Ç—å –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —ë–º–∫—É—é –±–∞—Ç–∞—Ä–µ—é.
</p>

<p>
–ù–µ–æ—á–µ–≤–∏–¥–Ω—ã–π –ø–ª—é—Å –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–∞—Ç–∞—Ä–µ–∏ –±–æ–ª—å—à–æ–π —ë–º–∫–æ—Å—Ç–∏ —Ç–æ–∂–µ –ø—Ä–æ–ø–∞–ª¬†‚Äî —Ç–æ—Ç
–∂–µ X220 –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ –æ—Ñ–∏—Å—É, –ø—Ä–æ—Å—Ç–æ –ø–æ–ª–æ–∂–∏–≤ –µ–≥–æ
–Ω–∞ –ø—Ä–µ–¥–ø–ª–µ—á—å–µ –∏ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—è —á–µ—Ç—ã—Ä—å–º—è –ø–∞–ª—å—Ü–∞–º–∏ –∑–∞ –≤—ã—Å—Ç—É–ø–∞—é—â—É—é —á–∞—Å—Ç—å –±–∞—Ç–∞—Ä–µ–∏,
—á—Ç–æ–±—ã –Ω–æ—É—Ç–±—É–∫ –Ω–µ —É–ø–∞–ª.
</p></li>
<li><p>
–ó–∞–º–µ–Ω–∏–ª–∏ Display Port –Ω–∞ HDMI.
</p>

<div class="figure">
<p><img src="/assets/static/display-port.png" alt="Fun fact. Display port is objectively better than HDMI. Royalty-free, baby" align="center" />
</p>
</div></li>
<li><p>
–ó–∞–º–µ–Ω–∏–ª–∏ –∫—Ä—É–≥–ª—ã–π —Ä–∞–∑—ä—ë–º –¥–ª—è –∑–∞—Ä—è–¥–∫–∏ –Ω–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã–π —Ä–∞–¥–∏ —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ç–æ–ª—â–∏–Ω—ã
–Ω–æ—É—Ç–±—É–∫–∞, –Ω–æ —Ç–µ–ø–µ—Ä—å —É —à—Ç–µ–∫–µ—Ä–∞ —Ç–æ–ª—å–∫–æ –¥–≤–∞ –ø–æ–ª–æ–∂–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ–≥–æ –º–æ–∂–Ω–æ
–≤—Å—Ç–∞–≤–∏—Ç—å. –ù–∞–¥ –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Ç–æ–∂–µ –¥–æ–ª–≥–æ –∏–∑–¥–µ–≤–∞–ª–∏—Å—å. –¢–æ –∑–∞–º–µ–Ω—è—Ç
–ø—Ä–∏–≤—ã—á–Ω—ã–π —Å–≤–µ—Ç–æ–¥–∏–æ–¥, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –∫—Ä—ã—à–∫—É, –≤—ã–¥–≤–∏–≥–∞—é—â–µ–π—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π. –¢–æ
—É–±–µ—Ä—É—Ç –µ–≥–æ —Å–æ–≤—Å–µ–º –∏ –ø–æ—Å—Ç–∞–≤—è—Ç –ø–æ–¥—Å–≤–µ—Ç–∫—É –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã ¬´–∫–∞–∫ —É –≤—Å–µ—Ö¬ª¬†‚Äî —Ç–æ–≥–¥–∞ –∫–∞–∫ —É
—Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞ –≤ –∫—Ä—ã—à–∫–µ –±—ã–ª –Ω–µ–æ—Å–ø–æ—Ä–∏–º—ã–π –ø–ª—é—Å: –µ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è
–æ—Å–≤–µ—â–µ–Ω–∏—è —Å—Ç–æ–ª–∞ –≤ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö.
</p>

<p>
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –±–µ–¥–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–∏—Å—Ç–µ–≥–Ω—É—Ç—å –¥–æ–∫-—Å—Ç–∞–Ω—Ü–∏—é –∏–ª–∏
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –±–∞—Ç–∞—Ä–µ—é —Å–Ω–∏–∑—É –Ω–æ—É—Ç–±—É–∫–∞, —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∏
–≥—Ä–æ–º–∫–æ—Å—Ç–∏, —Å–æ —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞–º–∏, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–º–∏, —á—Ç–æ –¥–∏–Ω–∞–º–∏–∫–∏ –∏–ª–∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω –Ω–∞ –º—å—é—Ç–µ
–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –∏ —Ç–æ–º—É –ø–æ–¥–æ–±–Ω–æ–µ&#x2026;
</p></li>
</ul>

<p class="footpara">
–ü–æ–∫–∞ —É–¥–∞—ë—Ç—Å—è —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –ø—Ä–∏–±—ã–ª—å –∑–∞ —Å—á—ë—Ç —É—Ö—É–¥—à–µ–Ω–∏—è usability –Ω–æ—É—Ç–±—É–∫–æ–≤,
–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö ¬´–∏–Ω–∂–µ–Ω–µ—Ä–∞–º–∏ –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤¬ª, –∑–∞ —Å—á—ë—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ
–Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏—è –≥–∏–≥–∞–≥–µ—Ä–∞—Ü –∏ –≥–∏–≥–∞–±–∞–π—Ç–æ–≤ –∏ –∑–∞ —Å—á—ë—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫—Å—Ç–µ—Ä—å–µ—Ä–∞ MacBook'–∞,
–ø—Ä–æ–¥–∞–≤–∞—è –≤—Å—ë —ç—Ç–æ –ø—Ä–æ—Å—Ç—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∫–∞–∫ ¬´–∏–Ω–Ω–æ–≤–∞—Ü–∏–∏¬ª¬†‚Äî —Ç–∞–∫–∏–µ –≤–µ—â–∏ –±—É–¥—É—Ç
–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å. –£–∂–µ –∑–≤—É—á–∞—Ç –≥–æ–ª–æ—Å–∞ –∑–∞ —Ç–æ, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å TrackPoint –∏–∑ ThinkPad'–æ–≤:
¬´<a href="https://www.windowscentral.com/hardware/laptops/sorry-lenovo-but-its-time-to-kill-off-the-thinkpad-trackpoint-forever">Sorry Lenovo, but it's time to kill off the ThinkPad TrackPoint FOREVER</a>¬ª¬†‚Äî
—Ö–æ—Ç—è –ø–æ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —á–µ–ª–æ–≤–µ–∫ –ø—Ä–æ—Å—Ç–æ –Ω–µ —É–º–µ–µ—Ç –≤ ¬´—Å–ª–µ–ø—É—é –ø–µ—á–∞—Ç—å¬ª –∏
–Ω–µ —Ä–∞–±–æ—Ç–∞–ª –≤ –ø–µ—Ä—á–∞—Ç–∫–∞—Ö, –ø–æ—ç—Ç–æ–º—É –µ–º—É –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ TrackPoint —ç—Ç–æ ¬´–Ω–µ—É–¥–æ–±–Ω–∞—è
—Ñ–∏–≥–Ω—è, –∫–æ—Ç–æ—Ä–∞—è –º–µ—à–∞–µ—Ç—Å—è¬ª.
</p></div></div>

<div class="footdef"><sup><a id="fn.linuxbios" class="footnum" href="#fnr.linuxbios" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://web.archive.org/web/20120916212555/http://www.h-online.com/open/features/The-Open-Source-BIOS-is-Ten-An-interview-with-the-coreboot-developers-746525.html?view=print">https://web.archive.org/web/20120916212555/http://www.h-online.com/open/features/The-Open-Source-BIOS-is-Ten-An-interview-with-the-coreboot-developers-746525.html?view=print</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.intel_me" class="footnum" href="#fnr.intel_me" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–¶–∏—Ç–∞—Ç–∞ –∏–∑ <a href="https://libreboot.org/faq.html">https://libreboot.org/faq.html</a>:
</p>

<blockquote>
<p>
The ME consists of an ARC processor core (replaced with other processor cores
in later generations of the ME), code and data caches, a timer, and a secure
internal bus to which additional devices are connected, including a
cryptography engine, internal ROM and RAM, memory controllers, and a direct
memory access (DMA) engine to access the host operating system‚Äôs memory as
well as to reserve a region of protected external memory to supplement the
ME‚Äôs limited internal RAM. The ME also has network access with its own MAC
address through an Intel Gigabit Ethernet Controller. Its boot program, stored
on the internal ROM, loads a firmware ‚Äúmanifest‚Äù from the PC‚Äôs SPI flash
chip. This manifest is signed with a strong cryptographic key, which differs
between versions of the ME firmware. If the manifest isn‚Äôt signed by a
specific Intel key, the boot ROM won‚Äôt load and execute the firmware and the
ME processor core will be halted.
</p>

<p>
The ME firmware is compressed and consists of modules that are listed in the
manifest along with secure cryptographic hashes of their contents. One module
is the operating system kernel, which is based on a proprietary real-time
operating system (RTOS) kernel called ‚ÄúThreadX‚Äù. The developer, Express Logic,
sells licenses and source code for ThreadX. Customers such as Intel are
forbidden from disclosing or sublicensing the ThreadX source code. Another
module is the Dynamic Application Loader (DAL), which consists of a Java
virtual machine and set of preinstalled Java classes for cryptography, secure
storage, etc. The DAL module can load and execute additional ME modules from
the PC‚Äôs HDD or SSD. The ME firmware also includes a number of native
application modules within its flash memory space, including Intel Active
Management Technology (AMT), an implementation of a Trusted Platform Module
(TPM), Intel Boot Guard, and audio and video DRM systems.
</p>
</blockquote></div></div>

<div class="footdef"><sup><a id="fn.coreboot_readings" class="footnum" href="#fnr.coreboot_readings" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–ö–æ–≥–¥–∞-—Ç–æ —è –Ω–∞—Ö–æ–¥–∏–ª –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —ç—Ç–æ–º—É –Ω–∞ Reddit'–µ, –Ω–æ —É–≤—ã –Ω–µ
—Å–º–æ–≥ –Ω–∞–π—Ç–∏ —Å—Å—ã–ª–∫—É –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç–∞. –¢–æ —á—Ç–æ flashrom –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
–∫–∞–∂–¥—ã–π —Ä–∞–∑ —Ä–∞–∑–Ω—ã–µ –¥–∞–º–ø—ã coreboot –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ <code>-p internal</code> –Ω–∞
Thinkpad¬†X220 ‚Äî —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è <i>–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π</i> —Ä–µ–∑–µ—Ä–≤–Ω–æ–π
–∫–æ–ø–∏–∏ <b>–Ω–∞–¥–æ</b> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä.
</p></div></div>


</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="it" /><category term="thinkpad" /><summary type="html"><![CDATA[–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ–º —á–∏—Ç–∞—Ç–µ–ª—è–º –º–æ–µ–≥–æ –±–ª–æ–≥–∞ –∏–∑–≤–µ—Å—Ç–Ω–æ, —á—Ç–æ –æ–¥–Ω–∞ –∏–∑ –ø–µ—Ä–≤—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º –∑–∞–ø—É—Å–∫–∞–µ–º—ã—Ö –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞¬†‚Äî —ç—Ç–æ BIOS. –û–±—ã—á–Ω–æ –≤—Å—ë —á—Ç–æ —Å –Ω–∏–º –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å¬†‚Äî –∑–∞–π—Ç–∏ –≤ –º–µ–Ω—é —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ —á—Ç–æ-–Ω–∏–±—É–¥—å —Ç–∞–º –ø–æ–º–µ–Ω—è—Ç—å: –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å –Ω–æ—Å–∏—Ç–µ–ª–µ–π, –¥–∞—Ç—É/–≤—Ä–µ–º—è, —Ä–∞–∑–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –õ–∏–±–æ, –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –¥–æ–ª–µ –≤–µ–∑–µ–Ω–∏—è, –≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—ã—Å–∫–∞—Ç—å –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö–∞–∫–µ—Ä–∞–º–∏ BIOS, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ —É–±–∏—Ä–∞–µ—Ç –Ω–µ–Ω—É–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∏ –ø—Ä–æ—à–∏—Ç—å –µ–≥–æ –≤–º–µ—Å—Ç–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ (–Ω–µ –∏–º–µ—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ö–æ—Ç—è –±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ —Ç–∞–º –≤–Ω—É—Ç—Ä–∏, –±–µ–∑ –Ω–∞–≤—ã–∫–æ–≤ reverse engineering'–∞). –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∏—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã BIOS –∑–∞–∫—Ä—ã—Ç—ã –∏ –≤ –¥–µ–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–≤–æ–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –º–∏–ª–æ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç BIOS'—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, AMI –∏–ª–∏ Award Software International) –∏ –≤–µ–Ω–¥–æ—Ä–æ–≤ –≤–∞—à–µ–≥–æ –∂–µ–ª–µ–∑–∞.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/header-libreboot.jpg" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/header-libreboot.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ—Å–µ–Ω–∏ 2024</title><link href="https://eugene-andrienko.com/photo/2024/12/16/autumn-photos-2024.html" rel="alternate" type="text/html" title="–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ—Å–µ–Ω–∏ 2024" /><published>2024-12-16T00:00:00+03:00</published><updated>2024-12-16T00:00:00+03:00</updated><id>https://eugene-andrienko.com/photo/2024/12/16/autumn-photos-2024</id><content type="html" xml:base="https://eugene-andrienko.com/photo/2024/12/16/autumn-photos-2024.html"><![CDATA[<div class="outline-2">
<h2>–°—Ç—Ä–∏—Ç-—Ñ–æ—Ç–æ</h2>
<div class="outline-text-2">

<div class="figure">
<p><img src="/assets/static/20240901_175512.JPG" alt="Cat in the bushes" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_172503.JPG" alt="Stairs and reflection of the stairs on the wall" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_180005.JPG" alt="Construction site" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_180049.JPG" alt="The house reflection in the water" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_180352.JPG" alt="The bridge, the river and the reflection of the bridge in the river" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_181003.JPG" alt="The black cat on the white car" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_183044.JPG" alt="20240901_183044.JPG" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_183448.JPG" alt="The plant behind the glass. The pipes are reflected on the glass" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_183504.JPG" alt="The pipes with the white winding on it" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_183735.JPG" alt="Turned on and rounded LED line" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_184537.JPG" alt="The white arc with people under it" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_184843.JPG" alt="Overexposured house entrance" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_185217.JPG" alt="Double exposured photo - the black dog and the empty street" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_185409.JPG" alt="Disfoqused flower and the wall of the house at the background" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_190652.JPG" alt="The oak leaves" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_190947.JPG" alt="The ornamental cabbage" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_211915.JPG" alt="Illuminated interior of the store at night" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240902_130540.JPG" alt="Backsides of the garages, filled with graffiti" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240902_130618.JPG" alt="Unknown cyclist in casual clothes" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240929_181202.JPG" alt="The rural house with blue roof" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240929_194649.JPG" alt="The green pond with concrete walls" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240929_195025.JPG" alt="The oaf brown leaf with green leaves around" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240929_195256.JPG" alt="Grocery store near the road at night" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240929_195606.JPG" alt="Backsides of grocery store at night. Illuminated by the red brake lights of the car." align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241016_150405.JPG" alt="Bird's wedge" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241023_170805.JPG" alt="Sunset with black city's roofs at the foreground" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241023_170913.JPG" alt="Sunset with black city's roofs at the foreground" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241024_221613.JPG" alt="Unfallen autumn leaves. Shot with flash" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241024_223031.JPG" alt="Brown colored lamp on the brown stone wall" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241024_223533.JPG" alt="Blue and orange colored pedestrian way" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241029_194625.JPG" alt="Road traffic shot with long exposure" align="center" />
</p>
<p style="text-align: center"><i>–î–æ—Ä–æ–∂–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫, —Å–Ω—è—Ç—ã–π –Ω–∞ –¥–ª–∏–Ω–Ω—É—é –≤—ã–¥–µ—Ä–∂–∫—É</i></p>
</div>
</div>
</div>
<div class="outline-2">
<h2>–í—Å—ë, —á—Ç–æ —Å –∫–æ–ª—ë—Å–∞–º–∏</h2>
<div class="outline-text-2">

<div class="figure">
<p><img src="/assets/static/20240901_171707.JPG" alt="Electric scooter's wheel" align="center" />
</p>
<p style="text-align: center"><i>–ö–æ–ª–µ—Å–æ —ç–ª–µ–∫—Ç—Ä–æ—Å–∞–º–æ–∫–∞—Ç–∞</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_184004.JPG" alt="Electric scooter's wheel" align="center" />
</p>
<p style="text-align: center"><i>–ö–æ–ª–µ—Å–æ —ç–ª–µ–∫—Ç—Ä–æ—Å–∞–º–æ–∫–∞—Ç–∞</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_185920.JPG" alt="20240901_185920.JPG" align="center :alt: Scooter's mirror" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_185943.JPG" alt="Scooter's mirror" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_185950.JPG" alt="Scooter's dashboard" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/mercedes.jpg" alt="Black and white and colored photos of an old mercedes" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240901_192947.JPG" alt="Red stoplight of the sea green car" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240902_131757.JPG" alt="Black-red stoplight of the blue car" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20241024_220136.JPG" alt="Foggy car window at night" align="center" />
</p>
</div>
</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="photo" /><summary type="html"><![CDATA[–°—Ç—Ä–∏—Ç-—Ñ–æ—Ç–æ]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/header_autumn_photos2024.jpg" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/header_autumn_photos2024.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">–ö–∞–∫ —è —Å–¥–µ–ª–∞–ª Emacs-–ø–ª–∞–≥–∏–Ω –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å–≤–æ–µ–≥–æ –±–ª–æ–≥–∞</title><link href="https://eugene-andrienko.com/it/2024/12/01/emacs-plugin-jekyll-blog.html" rel="alternate" type="text/html" title="–ö–∞–∫ —è —Å–¥–µ–ª–∞–ª Emacs-–ø–ª–∞–≥–∏–Ω –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å–≤–æ–µ–≥–æ –±–ª–æ–≥–∞" /><published>2024-12-01T00:00:00+03:00</published><updated>2024-12-01T00:00:00+03:00</updated><id>https://eugene-andrienko.com/it/2024/12/01/emacs-plugin-jekyll-blog</id><content type="html" xml:base="https://eugene-andrienko.com/it/2024/12/01/emacs-plugin-jekyll-blog.html"><![CDATA[<div class="outline-2">
<h2>TOC&#xa0;&#xa0;&#xa0;<span class="tag"></span></h2>
<div class="outline-text-2">
<ul class="org-ul">
<li><a href="#preface">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
<li><a href="#generator-first-version">–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –±–ª–æ–≥–∞</a></li>
<li><a href="#emacs-lisp-jekyll-gen">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Jekyll-–±–ª–æ–≥–∞ c –ø–æ–º–æ—â—å—é Emacs Lisp</a>
<ul class="org-ul">
<li><a href="#convert-org2html">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ org-—Ñ–∞–π–ª–æ–≤ –≤ HTML</a></li>
<li><a href="#copy-2-tmp-catalog">–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥</a></li>
<li><a href="#html-file-editing">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ñ–∞–π–ª–æ–≤</a></li>
<li><a href="#static-files-export">–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤</a></li>
<li><a href="#jekyll-build-from-emacs">–í—ã–∑–æ–≤ Jekyll –∏–∑ Emacs</a></li>
<li><a href="#create-new-post">–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞</a></li>
<li><a href="#jekyll-local-server">–ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Jekyll</a></li>
<li><a href="#jekyll-clean">–û—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll</a></li>
<li><a href="#transient-ui">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (transient)</a></li>
<li><a href="#emacs-plugin">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –ø–ª–∞–≥–∏–Ω–∞</a></li>
<li><a href="#loading-plugin-in-emacs">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –≤ Emacs</a></li>
</ul></li>
<li><a href="#source-code">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞</a></li>
<li><a href="#plugin-improvement">–ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?</a></li>
<li><a href="#notes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</a></li>
</ul>
</div>
</div>
<div id="outline-container-preface" class="outline-2">
<h2 id="preface">–í–≤–µ–¥–µ–Ω–∏–µ</h2>
<div class="outline-text-2" id="text-preface">
<p>
–í —ç—Ç–æ–º –ø–æ—Å—Ç–µ —è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é –æ —Ç–æ–º –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–ª —Å–≤–æ–π –Ω–µ–±–æ–ª—å—à–æ–π Emacs-–ø–ª–∞–≥–∏–Ω
—É–ø—Ä–æ—â–∞—é—â–∏–π —Ä–∞–±–æ—Ç—É —Å –±–ª–æ–≥–æ–º –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –¥–≤–∏–∂–∫–µ. –° —ç—Ç–∏–º –ø–ª–∞–≥–∏–Ω–æ–º –≤–æ–∑–º–æ–∂–Ω–æ
–ø–∏—Å–∞—Ç—å –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã –¥–ª—è –±–ª–æ–≥–∞ –≤ OrgMode –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏
–≤—Å–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º
—è–∑—ã–∫–∏ —Ä–∞–∑–º–µ—Ç–∫–∏ Markdown, reStructuredText –∏–ª–∏ HTMLüåö.
</p>

<p>
–í –ø–ª–∞–Ω–µ –±–ª–æ–≥–≥–∏–Ω–≥–∞ —è —É—Å–ø–µ–ª –ø–µ—Ä–µ–ø—Ä–æ–±–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ –≤—Å–µ–≥–æ:
</p>
<ul class="org-ul">
<li>–ü–∏—Å–∞–ª –≤ LiveJournal</li>
<li>–°—ç–ª—Ñ—Ö–æ—Å—Ç–∏–ª –±–ª–æ–≥ –Ω–∞ Wordpress —Å ¬´—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º¬ª LAMP-—Å—Ç—ç–∫–æ–º</li>
<li>–í—ë–ª –±–ª–æ–≥ –Ω–∞ Blogger.com</li>
<li>–°–Ω–æ–≤–∞ —Å—ç–ª—Ñ—Ö–æ—Å—Ç–∏–ª —Å–≤–æ–π –±–ª–æ–≥, —Å–æ–±–∏—Ä–∞–µ–º—ã–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö
—Å–∞–π—Ç–æ–≤ Pelican, —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∞ Disqus</li>
<li>–ü—Ä–æ–±–æ–≤–∞–ª <a href="https://hackage.haskell.org/package/pencil">pencil</a></li>
<li>–∏ —Ç–∞–∫ –¥–∞–ª–µ–µ&#x2026;</li>
</ul>

<p>
–í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Apache/Nginx,
MySQL/PostgreSQL, php-fpm –∏¬†—Ç.–¥. –∏¬†—Ç.–ø.¬†‚Äî –∏–∑—Ä—è–¥–Ω–æ –º–Ω–µ –Ω–∞–¥–æ–µ–ª–∞. –ö–∞–∫ –∏ –≤—Å—è–∫–∏–µ
–∫—É—Ü—ã–µ WYSIWYG-—Ä–µ–¥–∞–∫—Ç–æ—Ä—ã –∏ –Ω–µ–Ω—É–∂–Ω—ã–µ ¬´–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è¬ª –±–ª–æ–≥–≥–∏–Ω–≥-–ø–ª–∞—Ç—Ñ–æ—Ä–º. –¢—É—Ç –∂–µ –∫–∞–∫
—Ä–∞–∑ –ø–æ–¥–æ—Å–ø–µ–ª –≤—Å—è–∫–∏–π ¬´virtue signaling¬ª, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ —è
–ª–∏—à–∏–ª—Å—è<sup><a id="fnr.virtue_signaling" class="footref" href="#fn.virtue_signaling" role="doc-backlink">1</a></sup> —Å–≤–æ–µ–≥–æ VPS (–æ–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–ª –º–Ω–µ –¥–æ—Å—Ç—É–ø –≤ ¬´–±–æ–ª—å—à–æ–π
–∏–Ω—Ç–µ—Ä–Ω–µ—Ç¬ª¬†‚Äî —Ä–∞–Ω—å—à–µ, –≤ 90-—Ö –∏ –Ω—É–ª–µ–≤—ã—Ö –±—ã–ª–∞ —Ç–∞–∫–∞—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –ø—Ä–∏ –ø–æ–º–æ—â–∏
–∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–≤–æ–±–æ–¥–Ω–æ –æ–±—â–∞—Ç—å—Å—è —Å –ª—é–¥—å–º–∏ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É –∏ –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü,
–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø–æ GeoIP –∏ DPI). –ê —Ç–∞–∫–∂–µ –ø–æ—á—Ç–∏ –ª–∏—à–∏–ª—Å—è –¥–æ–º–µ–Ω–Ω–æ–≥–æ
–∏–º–µ–Ω–∏<sup><a id="fnr.namecheap" class="footref" href="#fn.namecheap" role="doc-backlink">2</a></sup>.
</p>

<p>
–ü—Ä–∏–º–µ—Ä–Ω–æ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç —è –ø—Ä–∏—à—ë–ª –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é <a href="https://jekyllrb.com/">Jekyll</a><sup><a id="fnr.jekyll" class="footref" href="#fn.jekyll" role="doc-backlink">3</a></sup> –≤ –∫–∞—á–µ—Å—Ç–≤–µ
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —Å–≤–æ–µ–≥–æ –±–ª–æ–≥–∞. –ï–≥–æ –∫–æ–ø–∏—è, —Å–æ –≤—Å–µ–º–∏ HTML –∏ CSS
—Ñ–∞–π–ª–∞–º–∏, —Ö—Ä–∞–Ω–∏—Ç—Å—è —É –º–µ–Ω—è –Ω–∞ –º–∞—à–∏–Ω–µ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö CDN, –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏
–≤—Å–µ–≥–æ –ø—Ä–æ—á–µ–≥–æ, –∫ —á–µ–º—É —è –º–æ–≥—É –ø–æ—Ç–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç. –ü—Ä–∏—à–ª–æ—Å—å
¬´–Ω–µ–º–Ω–æ–≥–æ¬ª –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–º—É <a href="https://github.com/jeffreytse/jekyll-theme-yat">Yat</a>, —á—Ç–æ–±—ã —Ç–∞–º –Ω–µ –±—ã–ª–æ –Ω–∏ JS<sup><a id="fnr.javascript" class="footref" href="#fn.javascript" role="doc-backlink">4</a></sup>, –Ω–∏
–ø–æ–¥–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö CDN. –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è
–æ—Å—Ç–∞–≤—à–∞—è—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å¬†‚Äî –æ—Ç —Å–∞–º–æ–≥–æ Jekyll –∏ –æ—Ç –µ–≥–æ –ø–ª–∞–≥–∏–Ω–æ–≤. –ù–æ –æ–Ω–∏ –∏ —Ç–∞–∫ —É–∂–µ
–ª–µ–∂–∞—Ç –Ω–∞ –∂—ë—Å—Ç–∫–æ–º –¥–∏—Å–∫–µ –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É¬†‚Äî –∞ —Å –∂—ë—Å—Ç–∫–æ–≥–æ
–¥–∏—Å–∫–∞ –æ–Ω–∏ –Ω–∏–∫—É–¥–∞ –Ω–µ –ø—Ä–æ–ø–∞–¥—É—Ç (–µ—Å–ª–∏ –ø–æ–º–Ω–∏—Ç—å –æ –±—ç–∫–∞–ø–∞—Ö).
</p>

<p>
–¢–æ–≥–¥–∞ –∂–µ —è –∑–∞–¥—É–º–∞–ª—Å—è –æ —Ç–æ–º, –∫–∞–∫ –±—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Å—Ç–∞—Ç—å–∏ –¥–ª—è –±–ª–æ–≥–∞ —Ç–∞–∫,
—á—Ç–æ–±—ã:
</p>
<ol class="org-ol">
<li>–¢–µ–∫—Å—Ç—ã –ø–æ—Å—Ç–æ–≤ –±—ã–ª–∏ –Ω–µ —Å–∏–ª—å–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –∏ —è
–º–æ–≥ –±–µ–∑ –æ—Å–æ–±–æ–π –±–æ–ª–∏ —Å–º–µ–Ω–∏—Ç—å –æ–¥–∏–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –¥—Ä—É–≥–æ–π, –µ—Å–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
Jekyll –≤–¥—Ä—É–≥ —Ä–µ—à–∞—Ç –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –ª—é–¥–µ–π –ø–æ –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤—É –∏–ª–∏ –ø–æ –º–µ—Å—Ç—É
–∂–∏—Ç–µ–ª—å—Å—Ç–≤–∞ (<a href="https://en.wikipedia.org/wiki/Discrimination_based_on_nationality">discrimination based on nationality</a>).</li>
<li>–ë–ª–æ–≥ –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–µ–ª –æ—Ç —á—É–∂–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è
–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π —è –ø–æ–∫–∞ —á—Ç–æ –Ω–µ –º–æ–≥—É —É–π—Ç–∏¬†‚Äî —ç—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç
—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω (–æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–±–µ–≥–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤,
–∑–∞–º–µ—á–µ–Ω–Ω—ã—Ö –≤ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ —Ç–µ—Ö, —á—Ç–æ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –º–æ–µ–π –º–µ—Å—Ç–Ω–æ–π
—é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏). –í –∫–∞—á–µ—Å—Ç–≤–µ —Ö–æ—Å—Ç–∏–Ω–≥–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞ –ø–æ–¥–æ–π–¥—ë—Ç –∂–µ –ª—é–±–∞—è
–º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ¬†‚Äî –≤ —Ç–∞–∫–æ–º, –≥–¥–µ –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ–º
—Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.</li>
<li>–ú–æ–∂–Ω–æ –±—ã–ª–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã —É–¥–æ–±–Ω—ã–º –º–Ω–µ –º–µ—Ç–æ–¥–æ–º¬†‚Äî —Ç.–µ.¬†–≤ Emacs, –ø—Ä–∏
–ø–æ–º–æ—â–∏ Org Mode. –ê –Ω–µ —Å Markdown –∏–ª–∏ –∂–µ –≤–æ–æ–±—â–µ –≤ WYSIWYG –≤–µ–±-—Ä–µ–¥–∞–∫—Ç–æ—Ä–µ.</li>
<li>–Ø –º–æ–≥ —Å–∞–º –≤—ã–±—Ä–∞—Ç—å –¥–ª—è —Å–µ–±—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º–∏ —Å—Ç–∞—Ç–µ–π, –∞ –Ω–µ
–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–π, —á—Ç–æ –Ω–∞–≤—è–∑–∞–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö
—Å–∞–π—Ç–æ–≤.</li>
</ol>

<p>
–ï—Å–ª–∏ –ø.¬†2 –Ω–µ–ª—å–∑—è —Ä–µ—à–∏—Ç—å, –Ω–∞–ø–∏—Å–∞–≤ –Ω–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ Emacs Lisp, —Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
–ø—Ä–æ–±–ª–µ–º—ã –≤–ø–æ–ª–Ω–µ —Å–µ–±–µ —Ä–µ—à–∞–µ–º—ã –ø–æ–¥–æ–±–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.
</p>
</div>
</div>
<div id="outline-container-generator-first-version" class="outline-2">
<h2 id="generator-first-version">–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –±–ª–æ–≥–∞</h2>
<div class="outline-text-2" id="text-generator-first-version">
<p>
–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä–æ —è —Å–¥–µ–ª–∞–ª –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ OrgMode‚áíJekyll –Ω–∞ –æ—Å–Ω–æ–≤–µ
bash, sed, pandoc –∏ —Å–∞–º–æ–ø–∏—Å–Ω–æ–≥–æ Java-—Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è pandoc¬†‚Äî –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –µ—ë
–ø–æ—á—Ç–∏ –≥–æ–¥.
</p>

<p>
–í—Å–µ –ø–æ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª —ç—Ç–æ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, –±—ã–ª–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
<code>articles/</code>, –∫–∞–∂–¥—ã–π –≤ —Å–≤–æ—ë–º –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–µ:
</p>

<pre class="example">
rsync/blog (master) % tree --noreport articles
articles/
‚îú‚îÄ‚îÄ arms/
‚îú‚îÄ‚îÄ cycling/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2020-05-17-thanks-for-living/
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-ru.org
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ hate of car drivers.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ kamennoostrovskii.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ trollface.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ truck.gif
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ushakovski most.jpg
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2021-04-08-vk-cyclist-types/
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-ru.org
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ hate of car drivers.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ usual-seat-as-urbanist-thinks.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ usual-seat.jpg
‚îú‚îÄ‚îÄ it/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2020-09-09-thinkpad-x220-freebsd/
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-en.org
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-ru.org
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ freebsd_intel_glitches.jpg
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2023-12-20-plain-text-accounting/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2024-01-02-life-in-console/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2024-07-07-thinkpad-x220-second-life/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2024-10-27-freebsd-bhyve-windows/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2024-11-09-emacs-plugin-jekyll-blog/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ draft-palm-tung-e2-archaeological/
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231223_141710.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231223_142550.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231230_200500.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231231_144949.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231231_205901.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20240101_162620.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20240101_215815.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20240101_215908.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-ru.org
‚îú‚îÄ‚îÄ leatherwork/
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ 2021-01-29-leatherwork-useful-links/
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ article-ru.org
‚îî‚îÄ‚îÄ photo/
</pre>

<p>
–≠—Ç—É –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —è –∏—Å–ø–æ–ª—å–∑—É—é –¥–æ —Å–∏—Ö –ø–æ—Ä. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–º–µ—Ç—å –ø–µ—Ä–µ–¥
–≥–ª–∞–∑–∞–º–∏ –≤—Å–µ, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ—Å—Ç—É, —Ñ–∞–π–ª—ã. –ö —Ç–æ–º—É –∂–µ, —è –º–æ–≥—É –æ—Ç–∫—Ä—ã—Ç—å
org-—Ñ–∞–π–ª —Å –ø–æ—Å—Ç–æ–º –≤ Emacs –∏ —Å—Ä–∞–∑—É –∂–µ —É–≤–∏–∂—É –µ–≥–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤ —Ç–æ–º –∂–µ –≤–∏–¥–µ, –≤
–∫–∞–∫–æ–º –æ–Ω –ø–æ–ø–∞–¥—ë—Ç –≤ –±–ª–æ–≥:
</p>


<div class="figure">
<p><img src="/assets/static/emacs-blog-post.png" alt="Post's draft, opened in Emacs" align="center" />
</p>
<p style="text-align: center"><i>–ß–µ—Ä–Ω–æ–≤–∏–∫ –ø–æ—Å—Ç–∞, –æ—Ç–∫—Ä—ã—Ç—ã–π –≤ Emacs</i></p>
</div>

<p>
–í –∫–∞—Ç–∞–ª–æ–≥–µ —Å –±–ª–æ–≥–æ–º —è —Å–æ–∑–¥–∞–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π <code>Makefile</code>, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–ª –Ω–µ –º–µ–Ω–µ–µ
—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π bash-—Å–∫—Ä–∏–ø—Ç. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–ª –∫–∞—Ç–∞–ª–æ–≥ <code>articles/</code> –∏ –ø–æ–º–µ—â–∞–ª
–Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å —Ç–µ–∫—Å—Ç–∞–º–∏ –ø–æ—Å—Ç–æ–≤ –≤ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–Ω–≤–µ–π–µ—Ä:
</p>


<div class="figure">
<p><img src="/assets/static/first_generator.png" alt="Conveyor for Org2HTML transformation" align="center" />
</p>
<p style="text-align: center"><i>–ö–æ–Ω–≤–µ–π–µ—Ä, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏–π org-—Ñ–∞–π–ª—ã –≤ HTML-—Ñ–∞–π–ª—ã</i></p>
</div>

<p>
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–π—Å—è –∫–æ–¥ –º–æ–∂–Ω–æ –≤–æ—Ç <a href="https://github.com/eugeneandrienko/eugeneandrienko.github.io/blob/3b70ec4997a063fdd3c1bf4c23c3c9a5d78b78e3/README.org">–≤ —ç—Ç–æ–º –∫–æ–º–º–∏—Ç–µ</a>, –≤ —Ñ–∞–π–ª–µ
<code>README.org</code>. –ö–æ–¥ –¥–ª—è Java-—Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è pandoc –ª–µ–∂–∏—Ç <a href="https://codeberg.org/evgandr/pandoc_jekyll">–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏</a>.
</p>

<p>
–û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –≤—Å—ë —ç—Ç–æ –±—ã–ª–æ –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω–µ–Ω–æ. –ì–æ—Ä–∞–∑–¥–æ —É–¥–æ–±–Ω–µ–µ –±—ã–ª–æ –±—ã, –µ—Å–ª–∏ –±—ã
–∏—Ç–æ–≥–æ–≤—ã–π HTML-—Ñ–∞–π–ª –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ OrgMode, –±–µ–∑ –≤—Å—è–∫–∏—Ö
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π. –¢–µ–º –±–æ–ª–µ–µ, —á—Ç–æ –≤ OrgMode —É–∂–µ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è
—ç–∫—Å–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã.
</p>

<p>
–ò —Ç—É—Ç –≤ Mastodon –º–Ω–µ –ø–æ–ø–∞–ª–∞—Å—å –Ω–∞ –≥–ª–∞–∑–∞ —Å—Ç–∞—Ç—å—è <a href="https://mastodon.social/@fabrik42">Christian Dewein</a>: <a href="https://christiandewein.com/publishing-with-jekyll-emacs-org-mode">Publishing on
the web with Jekyll, Emacs and Org-Mode</a>&#x2026;
</p>
</div>
</div>
<div id="outline-container-emacs-lisp-jekyll-gen" class="outline-2">
<h2 id="emacs-lisp-jekyll-gen">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Jekyll-–±–ª–æ–≥–∞ c –ø–æ–º–æ—â—å—é Emacs Lisp</h2>
<div class="outline-text-2" id="text-emacs-lisp-jekyll-gen">
<p>
–ö–∞–∫ –æ–∫–∞–∑–∞–ª–æ—Å—å, –≤–µ—Å—å –º–æ–π –∫–æ–Ω–≤–µ–π–µ—Ä –∏–∑ <code>sed</code> + <code>awk</code> + <code>pandoc</code> + <code>Java-—Ñ–∏–ª—å—Ç—Ä</code> –º–æ–∂–Ω–æ
—Å–ø–æ–∫–æ–π–Ω–æ –≤—ã–∫–∏–Ω—É—Ç—å –∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
<code>org-publish-project</code><sup><a id="fnr.org-publish-project" class="footref" href="#fn.org-publish-project" role="doc-backlink">5</a></sup>. Org Mode —Å–∞–º –º–æ–∂–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
org-—Ñ–∞–π–ª—ã –≤ HTML-—Ñ–∞–π–ª—ã, —Å—Ä–∞–∑—É –≥–æ—Ç–æ–≤—ã–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Jekyll, –±–µ–∑
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ Markdown‚áíHTML.
</p>

<p>
–£ –º–µ–Ω—è —É–∂–µ –±—ã–ª –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –æ–ø—ã—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Lisp, –∞ —Ç–æ—á–Ω–µ–µ –Ω–∞
Clojure<sup><a id="fnr.clojure" class="footref" href="#fn.clojure" role="doc-backlink">6</a></sup>, –ø–æ—ç—Ç–æ–º—É —è —Å–ø–æ–∫–æ–π–Ω–æ –≤–∑—è–ª—Å—è –ø–∏—Å–∞—Ç—å —Å–≤–æ–π –ø–ª–∞–≥–∏–Ω, –ø–æ –º–æ—Ç–∏–≤–∞–º
–∫–æ–¥–∞ –æ—Ç <a href="https://mastodon.social/@fabrik42">Christian Dewein</a>. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Emacs Lisp –≤ Emacs –æ–¥–Ω–æ
—É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ¬†‚Äî —Ç—É—Ç —Ç–µ–±–µ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —è–∑—ã–∫—É —á–µ—Ä–µ–∑ <code>C-h f</code>, <code>C-h v</code> –∏ —Ç–∞–∫
–¥–∞–ª–µ–µ. –ò –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π REPL (<code>M-x ielm</code>). –ò –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ—Ç–ª–∞–¥—á–∏–∫. –ú–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ
–∏–≥—Ä–∞—Ç—å—Å—è —Å <a href="https://www.s-expressions.org/home">S-expressions</a>, —Å—Ä–∞–∑—É –∂–µ –ø—Ä–æ–≤–µ—Ä—è—è –∫–∞–∫ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è –∫—É—Å–∫–∏ –∫–æ–¥–∞ –≤ REPL
–∏ —Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É ¬´–ø–æ –∫–∏—Ä–ø–∏—á–∏–∫–∞–º¬ª.
</p>
</div>
<div id="outline-container-convert-org2html" class="outline-3">
<h3 id="convert-org2html">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ org-—Ñ–∞–π–ª–æ–≤ –≤ HTML</h3>
<div class="outline-text-3" id="text-convert-org2html">
<p>
–í—ã—à–µ—É–ø–æ–º—è–Ω—É—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è <code>org-publish-project</code> —É–º–µ–µ—Ç –±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ –æ–¥–Ω–æ–≥–æ
–∫–∞—Ç–∞–ª–æ–≥–∞, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –¥—Ä—É–≥–æ–π –∫–∞—Ç–∞–ª–æ–≥. –ß—Ç–æ,
–∫—É–¥–∞ –∏ –∫–∞–∫ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Å –∏–º–µ–Ω–µ–º
<code>org-publish-project-alist</code>, –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ¬†‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è
—Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞.
</p>

<p>
–ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –±—Ä–∞—Ç—å org-—Ñ–∞–π–ª—ã –∫–∞—Ç–∞–ª–æ–≥–∞ <code>~/test</code>, –ø–µ—Ä–µ–≥–æ–Ω—è—Ç—å –∏—Ö –≤ HTML –¥–ª—è
Jekyll –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ <code>~/results</code>, –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–æ—Ç —Ç–∞–∫:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">let</span> ((org-publish-project-alist `((<span style="color: #2aa198;">"org-jekyll-org"</span>
                                    <span style="color: #657b83; font-weight: bold;">:base-directory</span> <span style="color: #2aa198;">"~/test"</span>
                                    <span style="color: #657b83; font-weight: bold;">:base-extension</span> <span style="color: #2aa198;">"org"</span>
                                    <span style="color: #657b83; font-weight: bold;">:publishing-directory</span> <span style="color: #2aa198;">"~/results"</span>
                                    <span style="color: #657b83; font-weight: bold;">:publishing-function</span> org-html-publish-to-html
                                    <span style="color: #657b83; font-weight: bold;">:html-extension</span> <span style="color: #2aa198;">"html"</span>
                                    <span style="color: #657b83; font-weight: bold;">:headline-levels</span> 5
                                    <span style="color: #657b83; font-weight: bold;">:html-toplevel-hlevel</span> 2
                                    <span style="color: #657b83; font-weight: bold;">:html-html5-fancy</span> t
                                    <span style="color: #657b83; font-weight: bold;">:html-table-attributes</span> (<span style="color: #657b83; font-weight: bold;">:border</span> <span style="color: #2aa198;">"2"</span> <span style="color: #657b83; font-weight: bold;">:cellspacing</span> <span style="color: #2aa198;">"0"</span> <span style="color: #657b83; font-weight: bold;">:cellpadding</span> <span style="color: #2aa198;">"6"</span> <span style="color: #657b83; font-weight: bold;">:frame</span> <span style="color: #2aa198;">"void"</span>)
                                    <span style="color: #657b83; font-weight: bold;">:section-numbers</span> nil
                                    <span style="color: #657b83; font-weight: bold;">:html-inline-images</span> t
                                    <span style="color: #657b83; font-weight: bold;">:htmlized-source</span> t
                                    <span style="color: #657b83; font-weight: bold;">:with-toc</span> nil
                                    <span style="color: #657b83; font-weight: bold;">:with-sub-superscript</span> nil
                                    <span style="color: #657b83; font-weight: bold;">:body-only</span> t
                                    <span style="color: #657b83; font-weight: bold;">:recursive</span> t))))
  (org-publish-project <span style="color: #2aa198;">"org-jekyll-org"</span> t nil))
</pre>
</div>

<p>
–ò–∑ –≤–∞–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–¥–µ—Å—å –µ—Å—Ç—å:
</p>
<ul class="org-ul">
<li><code>:base-directory</code> ‚Äî –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É, –æ—Ç–∫—É–¥–∞ –±—É–¥—É—Ç –±—Ä–∞—Ç—å—Å—è —Ñ–∞–π–ª—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞.</li>
<li><code>:base-extension</code> ‚Äî –∫–∞–∫–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É —Ñ–∞–π–ª–æ–≤ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞.</li>
<li><code>:publishing-directory</code> ‚Äî –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É, –∫—É–¥–∞ –±—É–¥—É—Ç –ø–æ–º–µ—â–∞—Ç—å—Å—è HTML-—Ñ–∞–π–ª—ã
–ø–æ—Å–ª–µ —ç–∫—Å–ø–æ—Ä—Ç–∞.</li>
</ul>

<p>
–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–∞–∑–Ω—ã–µ —Ç–æ–Ω–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ HTML, —Å
–∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∏ –ø–æ—Å—Ç—ã –≤ –±–ª–æ–≥–µ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫, –∫–∞–∫ —è —Ö–æ—á—É.
</p>

<p>
–ù–µ–ø–ª–æ—Ö–æ –±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏–º–µ–Ω–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤, —á—Ç–æ–±—ã –Ω–µ –∫–æ–ø–∞—Ç—å—Å—è
–∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ, –º–µ–Ω—è—è —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã. –î–ª—è —ç—Ç–æ–≥–æ –≤ Emacs Lisp
–µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è <code>defcustom</code><sup><a id="fnr.defcustom" class="footref" href="#fn.defcustom" role="doc-backlink">7</a></sup>. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è
–ø–ª–∞–≥–∏–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –∏—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –º–µ–Ω—è—Ç—å –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏¬†‚Äî —á–µ—Ä–µ–∑ <code>M-x
customize</code> –∏–ª–∏ —á–µ—Ä–µ–∑ —Å–µ–∫—Ü–∏—é <code>:custom</code> –≤ <code>use-package</code>:
</p>


<div class="figure">
<p><img src="/assets/static/customize.png" alt="Emacs M-x customize" align="center" />
</p>
<p style="text-align: center"><i>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å M-x customize</i></p>
</div>

<p>
–ü—É—Ç–∏ –∫ –Ω—É–∂–Ω—ã–º –∫–∞—Ç–∞–ª–æ–≥–∞–º —è –æ–ø–∏—Å–∞–ª —á–µ—Ä–µ–∑ <code>defcustom</code> —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defgroup</span> <span style="color: #b58900;">org-jekyll</span> ()
  <span style="color: #2aa198;">"Emacs mode to write on OrgMode for Jekyll blog."</span>
  <span style="color: #657b83; font-weight: bold;">:group</span> 'local
  <span style="color: #657b83; font-weight: bold;">:prefix</span> <span style="color: #2aa198;">"org-jekyll-"</span>
  <span style="color: #657b83; font-weight: bold;">:link</span> '(url-link <span style="color: #657b83; font-weight: bold;">:tag</span> <span style="color: #2aa198;">"Source code"</span> <span style="color: #2aa198;">"https://github.com/eugeneandrienko/eugeneandrienko.github.io"</span>))

(<span style="color: #859900; font-weight: bold;">defgroup</span> <span style="color: #b58900;">org-jekyll-paths</span> nil
  <span style="color: #2aa198;">"Paths for emacs mode to write on OrgMode for Jekyll blog."</span>
  <span style="color: #657b83; font-weight: bold;">:group</span> 'org-jekyll
  <span style="color: #657b83; font-weight: bold;">:prefix</span> <span style="color: #2aa198;">"org-jekyll-paths-"</span>)

(<span style="color: #859900; font-weight: bold;">defcustom</span> <span style="color: #268bd2;">org-jekyll-paths-base-path</span>
  <span style="color: #2aa198;">"~/rsync/blog"</span>
  <span style="color: #2aa198;">"Path to the base directory of my blog."</span>
  <span style="color: #657b83; font-weight: bold;">:type</span> 'directory
  <span style="color: #657b83; font-weight: bold;">:group</span> 'org-jekyll-paths)

(<span style="color: #859900; font-weight: bold;">defcustom</span> <span style="color: #268bd2;">org-jekyll-paths-articles-path</span>
  (concat org-jekyll-paths-base-path <span style="color: #2aa198;">"/articles"</span>)
  <span style="color: #2aa198;">"Path to directory with original articles in Org format."</span>
  <span style="color: #657b83; font-weight: bold;">:type</span> 'directory
  <span style="color: #657b83; font-weight: bold;">:group</span> 'org-jekyll-paths)
</pre>
</div>

<p>
–ó–¥–µ—Å—å, –ø–µ—Ä–≤–∞—è S-expression –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π –ø—É–Ω–∫—Ç –º–µ–Ω—é –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Emacs,
–≤—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—ë—Ç –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –ø–æ–¥–ø—É–Ω–∫—Ç, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –¥–≤–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬†‚Äî —Å
–ø—É—Ç—ë–º –∫ –∫–∞—Ç–∞–ª–æ–≥—É —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è –±–ª–æ–≥–∞ –∏ —Å –ø—É—Ç—ë–º –∫ –∫–∞—Ç–∞–ª–æ–≥—É —Å–æ —Å—Ç–∞—Ç—å—è–º–∏.
</p>

<p>
–í –∏—Ç–æ–≥–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –≤—ã–∑–æ–≤–µ <code>org-publish-project</code> –º–æ–∂–Ω–æ
–ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –≤–æ—Ç —Ç–∞–∫:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">let</span> ((org-publish-project-alist `((<span style="color: #2aa198;">"org-jekyll-org"</span>
                                    <span style="color: #657b83; font-weight: bold;">:base-directory</span> ,org-jekyll-paths-articles-path
                                    <span style="color: #657b83; font-weight: bold;">:base-extension</span> <span style="color: #2aa198;">"org"</span>
                                    <span style="color: #657b83; font-weight: bold;">:publishing-directory</span> ,(concat org-jekyll-paths-base-path <span style="color: #2aa198;">"/_posts"</span>)
                                    <span style="color: #657b83; font-weight: bold;">:publishing-function</span> org-html-publish-to-html
</pre>
</div>

<p>
–ó–¥–µ—Å—å, –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –µ—Å—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥,
–∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø—É—Ç–∏ –∫ –Ω—É–∂–Ω—ã–º –∫–∞—Ç–∞–ª–æ–≥–∞–º. –ß—Ç–æ–±—ã –≤—Å—ë —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–æ¬†‚Äî –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è
–æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ–º–Ω–æ–≥–æ –∏–Ω–∞—á–µ, —á–µ–º —á–µ—Ä–µ–∑ –ø—Ä–∏–≤—ã—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é <code>'(1 2 3)</code>.
</p>

<p>
–° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –≤—Å–µ S-expressions –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞
–∏—Å–ø–æ–ª–Ω—è–ª–∏—Å—å¬†‚Äî –≤–µ–¥—å <code>"org-jekyll-org"</code> –Ω–µ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –∏–º—è OrgMode –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è
–ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–≤—ã—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤–∏–¥–∞
<code>'("a" "b" "c")</code>.
</p>

<pre class="example">
&gt; ("a" "b" "c")
*** Eval error ***  Invalid function: "a"
&gt; '("a" "b" "c")
("a" "b" "c")
</pre>

<p>
–ù–æ —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –Ω–∞–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ S-expressions¬†‚Äî —Ç–æ—Ç –∂–µ <code>concat</code> ‚Äî
–≤—Å—ë –∂–µ –∏—Å–ø–æ–ª–Ω—è–ª–∏—Å—å. –í –Ω–∏–∂–µ–ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –≤–∏–¥–Ω–æ, —á—Ç–æ —ç—Ç–æ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç¬†‚Äî
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è <code>(concat "b" "2")</code> –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
—Å–ø–∏—Å–∫–∞ –∏ –≤–º–µ—Å—Ç–æ –Ω–µ—ë –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ <code>"b2"</code>:
</p>

<pre class="example">
&gt; '("a" (concat "b" "2") "c")

("a"
 (concat "b" "2")
 "c")
</pre>

<p>
–ß—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–ø–∏—Å–æ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —è–≤–ª—è—é—Ç—Å—è –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
–∫–æ–¥–æ–º, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é –∫–∞–≤—ã—á–∫—É, –≤–º–µ—Å—Ç–æ
–æ–±—ã—á–Ω–æ–π<sup><a id="fnr.quoting" class="footref" href="#fn.quoting" role="doc-backlink">8</a></sup>. –≠–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏ S-expressions,
–æ—Ç–º–µ—á–∞—é—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∑–∞–ø—è—Ç–æ–π:
</p>

<pre class="example">
&gt; `("a" ,(concat "b" "2") "c")
("a" "b2" "c")
</pre>

<p>
–í –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ <code>org-publish-project</code> –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è
–ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è org-—Ñ–∞–π–ª–æ–≤ –≤ HTML. –ù–æ –º–æ–π —Å–ª—É—á–∞–π –Ω–µ –∏–¥–µ–∞–ª—å–Ω—ã–π¬†‚Äî —É –º–µ–Ω—è org-—Ñ–∞–π–ª—ã
–Ω–µ –ª–µ–∂–∞—Ç –≤—Å–µ —Å–∫–æ–ø–æ–º –≤ –æ–¥–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ, –∞ –∫–∞–∂–¥—ã–π –≤ —Å–≤–æ—ë–º –æ—Ç–¥–µ–ª—å–Ω–æ–º
–ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–µ!
</p>

<p>
–ó–Ω–∞—á–∏—Ç, –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º <code>org-publish-project</code> –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Å–≤–æ—é —Å–∞–º–æ–ø–∏—Å–Ω—É—é
—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–∫–æ–ø–∏—Ä—É–µ—Ç org-—Ñ–∞–π–ª—ã —Å –ø–æ—Å—Ç–∞–º–∏ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥, –æ—Ç–∫—É–¥–∞
–∏—Ö –∏ –≤–æ–∑—å–º—ë—Ç <code>org-publish-project</code>. –î–ª—è –≤—ã–∑–æ–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥
–Ω–∞—á–∞–ª–æ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä <code>:preparation-function</code>, —Å –∫–æ—Ç–æ—Ä—ã–º –Ω–∞—à –∫–æ–¥
–Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–æ—Ç —Ç–∞–∫:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">let</span> ((org-publish-project-alist `((<span style="color: #2aa198;">"org-jekyll-org"</span>
                                    <span style="color: #657b83; font-weight: bold;">:base-directory</span> ,(concat org-jekyll-paths-base-path <span style="color: #2aa198;">"/_articles"</span>)
                                    <span style="color: #657b83; font-weight: bold;">:base-extension</span> <span style="color: #2aa198;">"org"</span>
                                    <span style="color: #657b83; font-weight: bold;">:publishing-directory</span> ,(concat org-jekyll-paths-base-path <span style="color: #2aa198;">"/_posts"</span>)
                                    <span style="color: #657b83; font-weight: bold;">:preparation-function</span> org-jekyll--prepare-articles
</pre>
</div>

<p>
–ö–∞–∫ –≤–∏–¥–Ω–æ, —Ç—É—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å org-—Ñ–∞–π–ª–∞–º–∏ –¥–ª—è <code>org-publish-project</code> —É–∂–µ
—É–∫–∞–∑–∞–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ <code>_articles/</code>.
</p>
</div>
</div>
<div id="outline-container-copy-2-tmp-catalog" class="outline-3">
<h3 id="copy-2-tmp-catalog">–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥</h3>
<div class="outline-text-3" id="text-copy-2-tmp-catalog">
<p>
–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ org-—Ñ–∞–π–ª–æ–≤ —Å –ø–æ—Å—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
<code>articles/</code>. –ï–≥–æ –Ω–∞–º –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏—è
<code>directory-files-recursively</code><sup><a id="fnr.directory-files-recursively" class="footref" href="#fn.directory-files-recursively" role="doc-backlink">9</a></sup>, –µ—Å–ª–∏ –µ–π –ø–µ—Ä–µ–¥–∞—Ç—å
–ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É –∏ —Ä–µ–≥—É–ª—è—Ä–∫—É, –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç –≤—ã–±–∏—Ä–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ org-—Ñ–∞–π–ª—ã:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(directory-files-recursively org-jekyll-paths-articles-path <span style="color: #2aa198;">"\\.org$"</span> nil nil nil)

(<span style="color: #2aa198;">"~/rsync/blog/articles/cycling/2020-05-17-thanks-for-living/article-ru.org"</span>
 <span style="color: #2aa198;">"~/rsync/blog/articles/cycling/2021-04-08-vk-cyclist-types/article-ru.org"</span>
 <span style="color: #2aa198;">"~/rsync/blog/articles/cycling/2021-04-12-balticstar-north-open-2021/article-ru.org"</span>
 <span style="color: #2aa198;">"~/rsync/blog/articles/cycling/2021-05-17-insled-open/article-ru.org"</span>
 <span style="color: #2aa198;">"~/rsync/blog/articles/cycling/draft-osmand-howto/article-ru.org"</span>
 <span style="color: #2aa198;">"~/rsync/blog/articles/cycling/draft-qmapshack-howto/article-ru.org"</span>
 ...
 <span style="color: #2aa198;">"~/rsync/blog/articles/_post_template.org"</span>)
</pre>
</div>

<p>
–ö–∞–∫ –≤–∏–¥–Ω–æ, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –µ—Å—Ç—å –∏ —á–µ—Ä–Ω–æ–≤–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤
HTML, –∏ —Ñ–∞–π–ª —Å —à–∞–±–ª–æ–Ω–æ–º –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤. –≠—Ç–∏ –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å
–ø—Ä–∏ –ø–æ–º–æ—â–∏ <code>seq-filter</code><sup><a id="fnr.seq-filter" class="footref" href="#fn.seq-filter" role="doc-backlink">10</a></sup> ‚Äî –æ–Ω —É–º–µ–µ—Ç —É–±–∏—Ä–∞—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ (–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è
–≤—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º) —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –ø—Ä–µ–¥–∏–∫–∞—Ç–µ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ
–ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(seq-filter (<span style="color: #859900; font-weight: bold;">lambda</span> (path)
              (<span style="color: #859900; font-weight: bold;">and</span>
               (not (string-match org-jekyll-exclude-regex path))
               (not (string-match <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">draft-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">hidden-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">"</span> path))))
            (directory-files-recursively org-jekyll-paths-articles-path <span style="color: #2aa198;">"\\.org$"</span> nil nil nil))
</pre>
</div>

<p>
–ü—Ä–µ–¥–∏–∫–∞—Ç¬†‚Äî –æ–±—ã—á–Ω–∞—è –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø—É—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–µ
—è–≤–ª—è–µ—Ç—Å—è –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É —Å —à–∞–±–ª–æ–Ω–æ–º <code>_post_template.org</code> –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ
–∫–∞—Ç–∞–ª–æ–≥–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å <code>draft</code> –∏–ª–∏ <code>hidden</code>.
</p>

<p>
–ó–¥–µ—Å—å <code>org-jekyll-exclude-regex</code> ‚Äî –µ—â—ë –æ–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º,
–ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç –æ—Ç–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø—É—Ç–∏ –∫ org-—Ñ–∞–π–ª–∞–º:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defcustom</span> <span style="color: #268bd2;">org-jekyll-exclude-regex</span>
  <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">_post_template\\.org</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">\\.project</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">"</span>
  <span style="color: #2aa198;">"Regex to exclude unwanted files."</span>
  <span style="color: #657b83; font-weight: bold;">:type</span> 'regexp
  <span style="color: #657b83; font-weight: bold;">:group</span> 'org-jekyll)
</pre>
</div>

<p>
–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å <i>–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π</i> —Å–ø–∏—Å–æ–∫ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º, –Ω–∞–¥–æ –∫–∞–∂–¥—ã–π –µ–≥–æ
—ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏
<code>mapc</code><sup><a id="fnr.mapc" class="footref" href="#fn.mapc" role="doc-backlink">11</a></sup>, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∫ –∫–∞–∂–¥–æ–º—É
—ç–ª–µ–º–µ–Ω—Ç—É —Å–ø–∏—Å–∫–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É –≤—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (article)
        (
         <span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">copy file in `</span><span style="color: #268bd2; font-weight: bold;">article</span><span style="color: #93a1a1;">' path here</span>
         )
        (seq-filter (<span style="color: #859900; font-weight: bold;">lambda</span> (path)
              (<span style="color: #859900; font-weight: bold;">and</span>
               (not (string-match org-jekyll-exclude-regex path))
               (not (string-match <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">draft-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">hidden-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">"</span> path))))
                    (directory-files-recursively org-jekyll-paths-articles-path <span style="color: #2aa198;">"\\.org$"</span> nil nil nil))
</pre>
</div>

<p>
–≠–ª–µ–º–µ–Ω—Ç—ã –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>article</code>: –¥–∞—Ç–∞, URL –∏ –∫–æ–¥ —è–∑—ã–∫–∞<sup><a id="fnr.lang_code" class="footref" href="#fn.lang_code" role="doc-backlink">12</a></sup>¬†‚Äî —è
–∏—Å–ø–æ–ª—å–∑—É—é, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ
–∫–∞—Ç–∞–ª–æ–≥–∞. –ß—Ç–æ–±—ã –≤—ã—Ç–∞—â–∏—Ç—å –≤—Å—ë —á—Ç–æ –Ω–∞–¥–æ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É¬†‚Äî –µ—Å—Ç—å
—Ä–µ–≥—É–ª—è—Ä–∫–∏ —Å capturing groups. –í Emacs –¥–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
<code>string-match</code> –∏ <code>match-string</code><sup><a id="fnr.regex-search" class="footref" href="#fn.regex-search" role="doc-backlink">13</a></sup>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(string-match
 (concat org-jekyll-paths-articles-path
         <span style="color: #2aa198;">"/</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">\\w+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">/</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[0-9-]+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[[:alnum:]-]+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">/article-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[[:lower:]]\\{</span><span style="color: #268bd2;">2\\</span><span style="color: #2aa198;">}</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">\\.org$"</span>)
 <span style="color: #2aa198;">"~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org"</span>)
0 (#o0, #x0, ?\C-@)

(match-string 1 <span style="color: #2aa198;">"~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org"</span>)
<span style="color: #2aa198;">"photo"</span>

(match-string 2 <span style="color: #2aa198;">"~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org"</span>)
<span style="color: #2aa198;">"2024-09-01"</span>

(match-string 3 <span style="color: #2aa198;">"~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org"</span>)
<span style="color: #2aa198;">"summer-photos-2024"</span>

(match-string 4 <span style="color: #2aa198;">"~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org"</span>)
<span style="color: #2aa198;">"en"</span>
</pre>
</div>

<p>
–í –∫–æ–¥–µ –ª—è–º–±–¥—ã —è –∑–∞–≤–æ—Ä–∞—á–∏–≤–∞—é –≤—Å—ë —ç—Ç–æ –≤ <code>let*</code><sup><a id="fnr.let-star" class="footref" href="#fn.let-star" role="doc-backlink">14</a></sup>, —á—Ç–æ–±—ã –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏
–ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">lambda</span> (article)
          (<span style="color: #859900; font-weight: bold;">progn</span>
            (string-match
             (concat org-jekyll-paths-articles-path
                     <span style="color: #2aa198;">"/</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">\\w+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">/</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[0-9-]+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[[:alnum:]-]+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">/article-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[[:lower:]]\\{</span><span style="color: #268bd2;">2\\</span><span style="color: #2aa198;">}</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">\\.org$"</span>)
             article)
            (<span style="color: #859900; font-weight: bold;">let*</span>
                ((article-category (match-string 1 article))
                 (article-date (match-string 2 article))
                 (article-slug (match-string 3 article))
                 (article-lang (match-string 4 article)))
              (
                                        <span style="color: #93a1a1;">;</span><span style="color: #93a1a1;">copy-file-here</span>
               )))
</pre>
</div>

<p>
–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞, –¥–æ–±–∞–≤–∏–º —Å—é–¥–∞ –µ—â—ë –ø–∞—Ä—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
</p>
<ol class="org-ol">
<li><p>
–ü–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å –∏–º–µ–Ω–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞: –ø—É—Ç—å –∫ <code>_articles/</code> +
<code>article-lang</code>. –ü—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É <code>_articles/</code> –º–æ–∂–Ω–æ –≤—ã—Ç–∞—â–∏—Ç—å –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞
<code>"org-jekyll-org"</code> ‚Äî —Å–ø–∏—Å–æ–∫ —Å —ç—Ç–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –≤–∏–¥–µ
–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é <code>org-jekyll--prepare-articles</code> –∏ –ø–æ –∏–º–µ–Ω–∏
–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (<code>:base-directory</code>) –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ<sup><a id="fnr.plist-get" class="footref" href="#fn.plist-get" role="doc-backlink">15</a></sup>:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(article-new-catalog (concat
                      (plist-get property-list '<span style="color: #657b83; font-weight: bold;">:base-directory</span>)
                      <span style="color: #2aa198;">"/"</span>
                      article-lang))
</pre>
</div></li>
<li><p>
–ü–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É —Å–æ —Å—Ç–∞—Ç—å—ë–π –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(article-processed (concat article-new-catalog <span style="color: #2aa198;">"/"</span> article-date <span style="color: #2aa198;">"-"</span> article-slug <span style="color: #2aa198;">".org"</span>))
</pre>
</div></li>
</ol>

<p>
–í –∏—Ç–æ–≥–µ, –µ—Å–ª–∏ –∫ –Ω–∞–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>article</code> –ø—Ä–∏—à—ë–ª –ø—É—Ç—å
<code>~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org</code>, —Ç–æ –≤
–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>article-processed</code> –±—É–¥–µ—Ç –Ω–æ–≤—ã–π –ø—É—Ç—å:
<code>~/rsync/blog/_articles/en/2024-09-01-summer-photos-2024.org</code>.
</p>

<p>
–¢–µ–ø–µ—Ä—å, —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç) –∏
–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–µ–ª–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤–æ–º –ø–∞—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –≤ —Ç–µ–ª–µ <code>let*</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(make-directory article-new-catalog t)
(copy-file article article-processed t t t t)
</pre>
</div>

<p>
–ò—Ç–æ–≥–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è <code>org-jekyll--prepare-articles</code> –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--prepare-articles</span> (property-list)
  <span style="color: #2aa198;">"Copy articles to `</span><span style="color: #268bd2; font-weight: bold;">_articles/</span><span style="color: #2aa198;">' catalog before publishing. Rename</span>
<span style="color: #2aa198;">article file from `</span><span style="color: #268bd2; font-weight: bold;">article-LANG.org</span><span style="color: #2aa198;">' to</span>
<span style="color: #2aa198;">`</span><span style="color: #268bd2; font-weight: bold;">YYYY-MM-DD-short-url.org</span><span style="color: #2aa198;">'.</span>

<span style="color: #2aa198;">PROPERTY-LIST is a list of properties from</span>
<span style="color: #2aa198;">`</span><span style="color: #268bd2; font-weight: bold;">org-publish-project-alist</span><span style="color: #2aa198;">'."</span>
  (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (article)
          (<span style="color: #859900; font-weight: bold;">progn</span>
            (string-match
             (concat org-jekyll-paths-articles-path
                     <span style="color: #2aa198;">"/</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">\\w+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">/</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[0-9-]+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[[:alnum:]-]+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">/article-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[[:lower:]]\\{</span><span style="color: #268bd2;">2\\</span><span style="color: #2aa198;">}</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">\\.org$"</span>)
             article)
            (<span style="color: #859900; font-weight: bold;">let*</span>
                ((article-category (match-string 1 article))
                 (article-date (match-string 2 article))
                 (article-slug (match-string 3 article))
                 (article-lang (match-string 4 article))
                 (article-new-catalog (concat
                                       (plist-get property-list '<span style="color: #657b83; font-weight: bold;">:base-directory</span>)
                                       <span style="color: #2aa198;">"/"</span>
                                       article-lang))
                 (article-processed (concat article-new-catalog <span style="color: #2aa198;">"/"</span> article-date <span style="color: #2aa198;">"-"</span> article-slug <span style="color: #2aa198;">".org"</span>)))
              (make-directory article-new-catalog t)
              (copy-file article article-processed t t t t))))
        (seq-filter (<span style="color: #859900; font-weight: bold;">lambda</span> (path)
                      (<span style="color: #859900; font-weight: bold;">and</span>
                       (not (string-match org-jekyll-exclude-regex path))
                       (not (string-match <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">draft-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">hidden-</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">"</span> path))))
                    (directory-files-recursively org-jekyll-paths-articles-path <span style="color: #2aa198;">"\\.org$"</span> nil nil nil))))
</pre>
</div>

<p>
–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å <code>org-publish-project</code>. –ù–æ –µ—Å—Ç—å –æ–¥–∏–Ω
–Ω—é–∞–Ω—Å¬†‚Äî –≤ –∏—Ç–æ–≥–æ–≤–æ–º HTML —Ñ–∞–π–ª–µ –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –±–∏—Ç—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∫
–ø–æ—Å—Ç—É. –ü–æ—Å–∫–æ–ª—å–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–º org-—Ñ–∞–π–ª–µ —É–∫–∞–∑–∞–Ω—ã –ø—É—Ç–∏ –∫ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ
–∫–∞—Ç–∞–ª–æ–≥–∞ —Å —ç—Ç–∏–º —Ñ–∞–π–ª–æ–º¬†‚Äî —ç—Ç–∏ –ø—É—Ç–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–∫–æ–º –∂–µ –≤–∏–¥–µ –≤ HTML.
</p>

<p>
–ù–æ –≤ Jekyll —Ç–∞–∫–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –ª–µ–∂–∞—Ç –ø–æ –ø—É—Ç–∏ <code>/assets/static</code>. –†–µ—à–µ–Ω–∏–µ —Ç—É—Ç
–ø—Ä–æ—Å—Ç–æ–µ¬†‚Äî –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ <code>copy-file</code> –ø–æ–º–µ–Ω—è—Ç—å –ø—É—Ç–∏ –≤ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–º
—Ñ–∞–π–ª–µ. –î–ª—è —ç—Ç–æ–≥–æ —è –Ω–∞–ø–∏—Å–∞–ª –ø—Ä–æ—Å—Ç–æ –µ—â—ë –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--prepare-article</span> (article)
  <span style="color: #2aa198;">"Prepare article's text for Jekyll.</span>

<span style="color: #2aa198;">Modify OrgMode file before publish it. ARTICLE is a path to</span>
<span style="color: #2aa198;">OrgMode file with article. Files, stored in `</span><span style="color: #268bd2; font-weight: bold;">_articles/</span><span style="color: #2aa198;">' will be</span>
<span style="color: #2aa198;">modified, not original articles from `</span><span style="color: #268bd2; font-weight: bold;">org-jekyll-paths-articles-path</span><span style="color: #2aa198;">'</span>
<span style="color: #2aa198;">path.</span>

<span style="color: #2aa198;">ARTICLE is a path to intermediate org-file with article text"</span>
  (<span style="color: #859900; font-weight: bold;">with-temp-buffer</span>
    (insert-file-contents article)
    (goto-char (point-min))
    (<span style="color: #859900; font-weight: bold;">while</span> (search-forward <span style="color: #2aa198;">"[&#8206;file:"</span> nil t)
      (replace-match <span style="color: #2aa198;">"[&#8207;/assets/static/"</span> t t))
    (write-file article)))
</pre>
</div>

<p>
–í—Å—ë, —á—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç¬†‚Äî –∏—â–µ—Ç –≤ org-—Ñ–∞–π–ª–µ –ø–æ –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>article</code> –≤–∫–ª—é—á–µ–Ω–∏—è
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤–∏–¥–∞ <code>[f‚Äéile:somefile.ext]</code> –∏ –º–µ–Ω—è–µ—Ç –∏—Ö –Ω–∞
<code>[f‚Äéile://assets/static/somefile.ext]</code>.
</p>
</div>
</div>
<div id="outline-container-html-file-editing" class="outline-3">
<h3 id="html-file-editing">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ñ–∞–π–ª–æ–≤</h3>
<div class="outline-text-3" id="text-html-file-editing">
<p>
–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, <code>org-publish-project</code> –≤—Å—Ç–∞–≤–ª—è–µ—Ç –≤ HTML-—Ñ–∞–π–ª –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ —è —Ç–∞–º –Ω–µ
—Ö–æ—á—É –≤–∏–¥–µ—Ç—å:
</p>
<ul class="org-ul">
<li>–†–∞–Ω–¥–æ–º–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ID –∏–∑ HTML-—Ç—ç–≥–æ–≤</li>
<li>–ù—É–º–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</li>
<li>–¢—ç–≥ <code>:TOC_2_blog:</code> –ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ ¬´TOC¬ª. –≠—Ç–æ—Ç —Ç–µ–≥ –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
<a href="https://github.com/snosov1/toc-org/">toc-org</a> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–æ<sup><a id="fnr.toc-org" class="footref" href="#fn.toc-org" role="doc-backlink">16</a></sup> —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–ª—è –ø–æ—Å—Ç–∞ –ø—Ä–∏
–∫–∞–∂–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞.</li>
<li>–õ–∏—à–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –ø—Ä–∏–º–µ—á–∞–Ω–∏–π, –ø—Ä–∏—á—ë–º –Ω–µ –Ω–∞ —è–∑—ã–∫–µ –ø–æ—Å—Ç–∞.</li>
</ul>

<p>
–†–µ—à–µ–Ω–∏–µ —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–µ –∂–µ, –∫–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å –ø—Ä–∞–≤–∫–æ–π –ø—É—Ç–µ–π –∫
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º¬†‚Äî –Ω—É–∂–Ω–∞ –µ—â—ë –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —É–¥–∞–ª—è—Ç—å –≤—Å—ë –ª–∏—à–Ω–µ–µ
–∏–∑ HTML –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ä–µ–≥—É–ª—è—Ä–æ–∫. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö <code>org-publish-project</code> –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å
—ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ <code>:completion-function</code>, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–ª–∞—Å—å –ø–æ—Å–ª–µ
—ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ HTML.
</p>

<p>
–°–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–∞—è. –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É —Å HTML
—Ñ–∞–π–ª–∞–º–∏ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ <code>org-publish-project</code> –∏ –ø–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—É—Ç–µ–π –∫ —ç—Ç–∏–º —Ñ–∞–π–ª–∞–º,
–∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –ª—è–º–±–¥—É:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--complete-articles</span> (property-list)
  <span style="color: #2aa198;">"Change published html-files via regular expressions.</span>

<span style="color: #2aa198;">Fix links to attached files. Remove \"Footnotes:\" section from</span>
<span style="color: #2aa198;">generated file. Remove autogenerated Org ids from html tags.</span>

<span style="color: #2aa198;">PROPERTY-LIST is a list of properties from</span>
<span style="color: #2aa198;">`</span><span style="color: #268bd2; font-weight: bold;">org-publish-project-alist</span><span style="color: #2aa198;">'."</span>
  (<span style="color: #859900; font-weight: bold;">let*</span>
      ((publishing-directory (plist-get property-list '<span style="color: #657b83; font-weight: bold;">:publishing-directory</span>)))
    (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (html)
            <span style="color: #93a1a1;">; </span><span style="color: #93a1a1;">process `</span><span style="color: #268bd2; font-weight: bold;">html</span><span style="color: #93a1a1;">' file</span>
            )
          (directory-files-recursively publishing-directory <span style="color: #2aa198;">"\\.html$"</span> nil nil nil))))
</pre>
</div>

<p>
–í–Ω—É—Ç—Ä–∏ –ª—è–º–±–¥—ã –µ—Å—Ç—å –µ—â—ë –æ–¥–∏–Ω –≤—ã–∑–æ–≤ <code>mapc</code>, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º —Ä–µ–≥—É–ª—è—Ä–æ–∫:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (x)
        (<span style="color: #859900; font-weight: bold;">progn</span>
          (goto-char (point-min))
          (<span style="color: #859900; font-weight: bold;">while</span> (re-search-forward (car x) nil t)
            (replace-match (cdr x) t nil))))
      '((<span style="color: #2aa198;">"/"</span> . <span style="color: #2aa198;">"/"</span>)
        (<span style="color: #2aa198;">"&lt;p&gt;&lt;span class=\"figure-number\"&gt;[[:alnum:] :]+&lt;/span&gt;</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">.+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">&lt;/p&gt;"</span> . <span style="color: #2aa198;">"&lt;p style=\"text-align: center\"&gt;&lt;i&gt;\\1&lt;/i&gt;&lt;/p&gt;"</span>)
        (<span style="color: #2aa198;">"&lt;h2 class=\"footnotes\"&gt;Footnotes: &lt;/h2&gt;"</span> . <span style="color: #2aa198;">""</span>)
        (<span style="color: #2aa198;">" id=\"org[[:xdigit:]]\\{</span><span style="color: #268bd2;">7\\</span><span style="color: #2aa198;">}\""</span> . <span style="color: #2aa198;">""</span>)
        (<span style="color: #2aa198;">" id=\"outline-container-org[[:xdigit:]]\\{</span><span style="color: #268bd2;">7\\</span><span style="color: #2aa198;">}\""</span> . <span style="color: #2aa198;">""</span>)
        (<span style="color: #2aa198;">" id=\"text-org[[:xdigit:]]\\{</span><span style="color: #268bd2;">7\\</span><span style="color: #2aa198;">}\""</span> . <span style="color: #2aa198;">""</span>)
        (<span style="color: #2aa198;">"&lt;span class=\"TOC_2_blog\"&gt;TOC_2_blog&lt;/span&gt;"</span> . <span style="color: #2aa198;">""</span>)))
</pre>
</div>

<p>
–ó–¥–µ—Å—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞¬†‚Äî –µ—â—ë –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫ –∏–∑ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ü–µ—Ä–≤—ã–π
—ç–ª–µ–º–µ–Ω—Ç¬†‚Äî —Ä–µ–≥—É–ª—è—Ä–∫–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –∏—â–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –¥–ª—è –∑–∞–º–µ–Ω—ã. –í—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç¬†‚Äî
—Ç–µ–∫—Å—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω–æ–µ. –û–±—Ä–∞—â–µ–Ω–∏—è –∫ —ç—Ç–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ –∫–æ–¥–µ
–ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ <code>(car x)</code> –∏ <code>(cdr x)</code> —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ó–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞
–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –¥–ª—è Emacs —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏
–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—É—Ñ–µ—Ä—ã.
</p>

<p>
–ò—Ç–æ–≥–æ–≤—ã–π –∫–æ–¥ <code>org-jekyll--complete-articles</code> –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--complete-articles</span> (property-list)
  <span style="color: #2aa198;">"Change published html-files via regular expressions.</span>

<span style="color: #2aa198;">Fix links to attached files. Remove \"Footnotes:\" section from</span>
<span style="color: #2aa198;">generated file. Remove autogenerated Org ids from html tags.</span>

<span style="color: #2aa198;">PROPERTY-LIST is a list of properties from</span>
<span style="color: #2aa198;">`</span><span style="color: #268bd2; font-weight: bold;">org-publish-project-alist</span><span style="color: #2aa198;">'."</span>
  (<span style="color: #859900; font-weight: bold;">let*</span>
      ((publishing-directory (plist-get property-list '<span style="color: #657b83; font-weight: bold;">:publishing-directory</span>)))
    (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (html)
            (<span style="color: #859900; font-weight: bold;">with-temp-buffer</span>
              (insert-file-contents html)
              (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (x)
                      (<span style="color: #859900; font-weight: bold;">progn</span>
                        (goto-char (point-min))
                        (<span style="color: #859900; font-weight: bold;">while</span> (re-search-forward (car x) nil t)
                          (replace-match (cdr x) t nil))))
                    '((<span style="color: #2aa198;">"/"</span> . <span style="color: #2aa198;">"/"</span>)
                      (<span style="color: #2aa198;">"&lt;p&gt;&lt;span class=\"figure-number\"&gt;[[:alnum:] :]+&lt;/span&gt;</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">.+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">&lt;/p&gt;"</span> . <span style="color: #2aa198;">"&lt;p style=\"text-align: center\"&gt;&lt;i&gt;\\1&lt;/i&gt;&lt;/p&gt;"</span>)
                      (<span style="color: #2aa198;">"&lt;h2 class=\"footnotes\"&gt;Footnotes: &lt;/h2&gt;"</span> . <span style="color: #2aa198;">""</span>)
                      (<span style="color: #2aa198;">" id=\"org[[:xdigit:]]\\{</span><span style="color: #268bd2;">7\\</span><span style="color: #2aa198;">}\""</span> . <span style="color: #2aa198;">""</span>)
                      (<span style="color: #2aa198;">" id=\"outline-container-org[[:xdigit:]]\\{</span><span style="color: #268bd2;">7\\</span><span style="color: #2aa198;">}\""</span> . <span style="color: #2aa198;">""</span>)
                      (<span style="color: #2aa198;">" id=\"text-org[[:xdigit:]]\\{</span><span style="color: #268bd2;">7\\</span><span style="color: #2aa198;">}\""</span> . <span style="color: #2aa198;">""</span>)
                      (<span style="color: #2aa198;">"&lt;span class=\"TOC_2_blog\"&gt;TOC_2_blog&lt;/span&gt;"</span> . <span style="color: #2aa198;">""</span>)))
              (write-file html)))
          (directory-files-recursively publishing-directory <span style="color: #2aa198;">"\\.html$"</span> nil nil nil))))
</pre>
</div>
</div>
</div>
<div id="outline-container-static-files-export" class="outline-3">
<h3 id="static-files-export">–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤</h3>
<div class="outline-text-3" id="text-static-files-export">
<p>
–ü–æ–Ω—è—Ç–Ω–æ–µ –¥–µ–ª–æ, —á—Ç–æ –æ–¥–Ω–∏—Ö –ª–∏—à—å HTML-—Ñ–∞–π–ª–æ–≤ –¥–ª—è –±–ª–æ–≥–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –ù—É–∂–Ω—ã –µ—â—ë
–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—á–∏–µ —Ñ–∞–π–ª—ã.
</p>

<p>
–ò—Ö –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≤—Å—ë —Ç–æ–π –∂–µ <code>org-publish-project</code>, –ø—Ä–∏—á—ë–º
–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ –±—É–¥—É—Ç –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">let</span> ((org-publish-project-alist `((<span style="color: #2aa198;">"org-jekyll-static"</span>
                                    <span style="color: #657b83; font-weight: bold;">:base-directory</span> ,(concat org-jekyll-paths-base-path <span style="color: #2aa198;">"/_static"</span>)
                                    <span style="color: #657b83; font-weight: bold;">:base-extension</span> <span style="color: #2aa198;">"jpg</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">JPG</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">jpeg</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">png</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">gif</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">webm</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">webp</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">gpx</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">tar.bz2</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">uxf"</span>
                                    <span style="color: #657b83; font-weight: bold;">:publishing-directory</span> ,(concat org-jekyll-paths-base-path <span style="color: #2aa198;">"/assets/static"</span>)
                                    <span style="color: #657b83; font-weight: bold;">:publishing-function</span> org-publish-attachment
                                    <span style="color: #657b83; font-weight: bold;">:preparation-function</span> org-jekyll--prepare-static
                                    <span style="color: #657b83; font-weight: bold;">:exclude</span> ,org-jekyll-exclude-regex
                                    <span style="color: #657b83; font-weight: bold;">:recursive</span> t)))))
</pre>
</div>

<p>
–ó–¥–µ—Å—å, –≤ <code>:base-extension</code> —É–∫–∞–∑–∞–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç
—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–∞—Ç–∞–ª–æ–≥ <code>:publishing-directory</code>.
</p>

<p>
–≠–∫—Å–ø–æ—Ä—Ç HTML —Ñ–∞–π–ª–æ–≤ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ –æ–¥–Ω–æ–º
¬´–ø—Ä–æ–µ–∫—Ç–µ¬ª, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ –Ω—É–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å —Ñ–∞–π–ª–∞–º–∏ –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤
—Ñ—É–Ω–∫—Ü–∏–∏:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">let</span> ((org-publish-project-alist `((<span style="color: #2aa198;">"org-jekyll-org"</span>
                                    ...)
                                   (<span style="color: #2aa198;">"org-jekyll-static"</span>
                                    ...)
                                   (<span style="color: #2aa198;">"org-jekyll"</span> <span style="color: #657b83; font-weight: bold;">:components</span> (<span style="color: #2aa198;">"org-jekyll-org"</span> <span style="color: #2aa198;">"org-jekyll-static"</span>)))))
  (org-publish-project <span style="color: #2aa198;">"org-jekyll"</span> t nil))
</pre>
</div>

<p>
–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –∫–æ–¥–∞, –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—â—ë –æ–¥–Ω–∞
<code>:preparation-function</code> ‚Äî <code>org-jekyll--prepare-static</code>. –û–Ω–∞ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–æ –∂–µ,
—á—Ç–æ –∏ <code>org-jekyll--prepare-articles</code> ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
–ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å –ø–æ—Å—Ç–∞–º–∏ –¥–ª—è –±–ª–æ–≥–∞ –≤ –æ–¥–∏–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥, –æ—Ç–∫—É–¥–∞ –∏—Ö —Å–º–æ–∂–µ—Ç
–≤–∑—è—Ç—å <code>org-jekyll-project</code>. –†–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫ –∂–µ¬†‚Äî
<code>directory-files-recursively</code> –ø—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É <code>/articles</code> –∏ –∫–æ–ø–∏—Ä—É–µ—Ç –≤
–∫–∞—Ç–∞–ª–æ–≥ <code>/_static</code> –≤—Å–µ —Ñ–∞–π–ª—ã, –∫—Ä–æ–º–µ org-—Ñ–∞–π–ª–æ–≤ —Å —Ç–µ–∫—Å—Ç–∞–º–∏ —Å—Ç–∞—Ç–µ–π:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--prepare-static</span> (property-list)
  <span style="color: #2aa198;">"Copy static files to `</span><span style="color: #268bd2; font-weight: bold;">/_static</span><span style="color: #2aa198;">' directory.</span>

<span style="color: #2aa198;">PROPERTY-LIST is a list of properties from</span>
<span style="color: #2aa198;">`</span><span style="color: #268bd2; font-weight: bold;">org-publish-project-alist</span><span style="color: #2aa198;">'."</span>
  (<span style="color: #859900; font-weight: bold;">let</span>
      ((static-directory (plist-get property-list `<span style="color: #657b83; font-weight: bold;">:base-directory</span>)))
    (make-directory static-directory t)
    (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (filename)
            (<span style="color: #859900; font-weight: bold;">progn</span>
              (string-match (concat org-jekyll-paths-articles-path <span style="color: #2aa198;">"/[[:alnum:]-/]+/</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">[[:alnum:][:blank:]-_.]+</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">$"</span>) filename)
              (<span style="color: #859900; font-weight: bold;">let</span>
                  ((static-filename (match-string 1 filename)))
                (copy-file filename (concat static-directory <span style="color: #2aa198;">"/"</span> static-filename) t t t t))))
          (seq-filter (<span style="color: #859900; font-weight: bold;">lambda</span> (path)
                        (not (string-match
                              (concat org-jekyll-exclude-regex <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">(</span><span style="color: #2aa198;">article-[[:lower:]]+\\.org</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">)</span><span style="color: #2aa198;">"</span>)
                              path)))
                      (directory-files-recursively org-jekyll-paths-articles-path <span style="color: #2aa198;">"."</span> nil nil nil)))))
</pre>
</div>
</div>
</div>
<div id="outline-container-jekyll-build-from-emacs" class="outline-3">
<h3 id="jekyll-build-from-emacs">–í—ã–∑–æ–≤ Jekyll –∏–∑ Emacs</h3>
<div class="outline-text-3" id="text-jekyll-build-from-emacs">
<p>
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —É –Ω–∞—Å –ø–æ—è–≤–∏–ª–∏—Å—å –≥–æ—Ç–æ–≤—ã–µ HTML-—Ñ–∞–π–ª—ã –∏ –≤—Å–µ –ø—Ä–æ—á–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ
—Ñ–∞–π–ª—ã, –ª–µ–∂–∞—â–∏–µ –≤ <i>–Ω—É–∂–Ω—ã—Ö</i> –º–µ—Å—Ç–∞—Ö¬†‚Äî –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å Jekyll, —á—Ç–æ–±—ã –æ–Ω —Å–æ–±—Ä–∞–ª –º–æ–π
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–≥ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ <code>_site/</code>. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è
–∫–æ–º–∞–Ω–¥–∞ <code>bundle exec jekyll build</code>.
</p>

<p>
–í —Å—Ç–∞—Ç—å–µ <a href="https://mastodon.social/@fabrik42">Christian Dewein</a> –¥–ª—è –≤—ã–∑–æ–≤–∞ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–ª–∞–≥–∏–Ω
<a href="https://github.com/rejeep/prodigy.el">Prodigy</a>. –Ø —Å—á—ë–ª —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω—ë–Ω–Ω—ã–º –∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—é –æ—Ç–¥–µ–ª—å–Ω—ã–π
–ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ <code>make-process</code><sup><a id="fnr.make-process" class="footref" href="#fn.make-process" role="doc-backlink">17</a></sup>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(make-process
 <span style="color: #657b83; font-weight: bold;">:name</span> <span style="color: #2aa198;">"jekyll-build"</span>
 <span style="color: #657b83; font-weight: bold;">:buffer</span> <span style="color: #2aa198;">"jekyll-build"</span>
 <span style="color: #657b83; font-weight: bold;">:command</span> '(<span style="color: #2aa198;">"bundle"</span> <span style="color: #2aa198;">"exec"</span> <span style="color: #2aa198;">"jekyll"</span> <span style="color: #2aa198;">"build"</span>)
 <span style="color: #657b83; font-weight: bold;">:delete-exited-processes</span> t
 <span style="color: #657b83; font-weight: bold;">:sentinel</span> (<span style="color: #859900; font-weight: bold;">lambda</span> (process state)
             (<span style="color: #859900; font-weight: bold;">cond</span>
              ((<span style="color: #859900; font-weight: bold;">and</span> (eq (process-status process) 'exit)
                    (zerop (process-exit-status process)))
               (message <span style="color: #2aa198;">"%s"</span> (propertize <span style="color: #2aa198;">"Blog built"</span> 'face '(<span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"blue"</span>))))
              ((eq (process-status process) 'run)
               (accept-process-output process))
              (t (<span style="color: #cb4b16; font-weight: bold;">error</span> (concat <span style="color: #2aa198;">"Jekyll Build: "</span> state))))))
</pre>
</div>

<p>
–ó–¥–µ—Å—å, –ø–æ–º–∏–º–æ –±–∞–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –Ω—É–∂–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞,
–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –µ—ë –≤—ã–≤–æ–¥ —á–µ—Ä–µ–∑ –ª—è–º–±–¥—É, –∫–æ—Ç–æ—Ä–∞—è –ª–∏–±–æ –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±
—É—Å–ø–µ—Ö–µ, –ª–∏–±–æ –ø–µ—á–∞—Ç–∞–µ—Ç –æ—à–∏–±–∫—É.
</p>

<p>
–°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—á–∞—Ç–∞—é—Ç—Å—è –≤ minibuffer –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏
<code>message</code><sup><a id="fnr.message" class="footref" href="#fn.message" role="doc-backlink">18</a></sup>, —Ç–µ–∫—Å—Ç–æ–º —Å–∏–Ω–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏
<code>propertize</code><sup><a id="fnr.propertize" class="footref" href="#fn.propertize" role="doc-backlink">19</a></sup>):
</p>


<div class="figure">
<p><img src="/assets/static/message.png" alt="message function output" align="center" />
</p>
</div>

<p>
–í—ã–≤–æ–¥ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä <code>jekyll-build</code>, –∫–æ—Ç–æ—Ä—ã–π
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ç–æ–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–∞ —Å–±–æ—Ä–∫–∏.
</p>

<p>
–≠–∫—Å–ø–æ—Ä—Ç —Ñ–∞–π–ª–æ–≤ –∏ –∑–∞–ø—É—Å–∫ <code>bundle exec</code> –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏
<code>org-jekyll--suffix-build</code>, —á—Ç–æ–±—ã –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å org-—Ñ–∞–π–ª—ã –≤ –≥–æ—Ç–æ–≤—ã–π
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--suffix-build</span> ()
  <span style="color: #2aa198;">"Build the blog."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (cd (expand-file-name org-jekyll-paths-base-path))
  (<span style="color: #859900; font-weight: bold;">let</span> ((org-publish-project-alist `((<span style="color: #2aa198;">"org-jekyll-org"</span>
                                      ...)
                                     (<span style="color: #2aa198;">"org-jekyll-static"</span>
                                      ...)
                                     (<span style="color: #2aa198;">"org-jekyll"</span> <span style="color: #657b83; font-weight: bold;">:components</span> (<span style="color: #2aa198;">"org-jekyll-org"</span> <span style="color: #2aa198;">"org-jekyll-static"</span>))))
        (current-path (file-name-directory buffer-file-name)))
    (cd (expand-file-name org-jekyll-paths-base-path))
    (org-publish-project <span style="color: #2aa198;">"org-jekyll"</span> t nil))
  (make-process
   <span style="color: #657b83; font-weight: bold;">:name</span> <span style="color: #2aa198;">"jekyll-build"</span>
   <span style="color: #657b83; font-weight: bold;">:buffer</span> <span style="color: #2aa198;">"jekyll-build"</span>
   <span style="color: #657b83; font-weight: bold;">:command</span> '(<span style="color: #2aa198;">"bundle"</span> <span style="color: #2aa198;">"exec"</span> <span style="color: #2aa198;">"jekyll"</span> <span style="color: #2aa198;">"build"</span>)
   <span style="color: #657b83; font-weight: bold;">:delete-exited-processes</span> t
   <span style="color: #657b83; font-weight: bold;">:sentinel</span> (<span style="color: #859900; font-weight: bold;">lambda</span> (process state)
               ...))
  (cd current-path))
</pre>
</div>

<p>
–ü–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å –ø–æ—Å—Ç–æ–º, –∞ —Å–±–æ—Ä–∫–∞
–±–ª–æ–≥–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
<code>org-jekyll-paths-base-path</code> ‚Äî –º—ã —Å–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω—É–∂–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –∏ —Ç–æ–ª—å–∫–æ
–ø–æ—Ç–æ–º –Ω–∞—á–∏–Ω–∞–µ–º —Å–±–æ—Ä–∫—É. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å–µ –Ω—É–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±—ã–ª–∏ –≤—ã–∑–≤–∞–Ω—ã¬†‚Äî
–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å –ø–æ—Å—Ç–æ–º (—Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>current-path</code>),
—á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–ø–æ–∫–æ–π–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –µ–≥–æ —Ñ–∞–π–ª–∞–º–∏.
</p>
</div>
</div>
<div id="outline-container-create-new-post" class="outline-3">
<h3 id="create-new-post">–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞</h3>
<div class="outline-text-3" id="text-create-new-post">
<p>
–î–æ–±–∏–≤—à–∏—Å—å —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ —Å–≤–æ–µ–≥–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞, –º–Ω–µ –∑–∞—Ö–æ—Ç–µ–ª–æ—Å—å –∏–º–µ—Ç—å
–æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ–±—ã –ø–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç¬†‚Äî –Ω–µ —Å–æ–∑–¥–∞–≤–∞—è
–≤—Ä—É—á–Ω—É—é –Ω–æ–≤—ã–π –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –Ω–µ–≥–æ –∏ –Ω–µ –∫–æ–ø–∏—Ä—É—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ front matter –¥–ª—è
Jekyll –≤ org-—Ñ–∞–π–ª. –ë—É–¥–µ—Ç —É–¥–æ–±–Ω–æ, –µ—Å–ª–∏ Emacs —Å–∞–º —Å–ø—Ä–æ—Å–∏—Ç —É –º–µ–Ω—è –≤—Å—ë
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤ –∏ –∫–∞—Ç–∞–ª–æ–≥–æ–≤, –∞ –∑–∞—Ç–µ–º —Å–∞–º –æ—Ç–∫—Ä–æ–µ—Ç
–±—É—Ñ–µ—Ä —Å —É–∂–µ –≥–æ—Ç–æ–≤—ã–º –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–º –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞.
</p>

<p>
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–≤–æ–¥–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Emacs –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π, –Ω–æ –¥–ª—è
–ø–ª–∞–≥–∏–Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–µ—Ç—ã—Ä—ë—Ö —Å–∞–º—ã—Ö –ø—Ä–æ—Å—Ç—ã—Ö:
</p>
<ul class="org-ul">
<li><code>read-string</code>: –≤—ã–≤–æ–¥–∏—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –º–∏–Ω–∏–±—É—Ñ–µ—Ä–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É,
–≤–≤–µ–¥—ë–Ω–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.</li>
<li><code>completing-read</code>: –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –≤ –º–∏–Ω–∏–±—É—Ñ–µ—Ä–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º
–ø—É–Ω–∫—Ç–æ–º –º–µ–Ω—é. –≠–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º. –¢—Ä–µ—Ç–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä,
–µ—Å–ª–∏ –æ–Ω –Ω–µ <code>nil</code>, –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º —Å—Ç—Ä–æ–≥–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å
–æ–¥–Ω–∏–º –∏–∑ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é.</li>
<li><code>y-or-n-p</code>: –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –≤ –º–∏–Ω–∏–±—É—Ñ–µ—Ä–µ –∏ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç–∞ ¬´–î–∞¬ª –∏–ª–∏ ¬´–ù–µ—Ç¬ª –æ—Ç
–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>t</code> –∏–ª–∏ <code>nil</code>.</li>
<li><code>read-file-name</code>: –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –≤ –º–∏–Ω–∏–±—É—Ñ–µ—Ä–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å –∫
–≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É.</li>
</ul>

<p>
–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä–æ —è –Ω–∞–±—Ä–æ—Å–∞–ª —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—Å—ë
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">let*</span> ((category (completing-read <span style="color: #2aa198;">"Enter category: "</span>
                                  (seq-filter
                                   (<span style="color: #859900; font-weight: bold;">lambda</span> (category) (string-match <span style="color: #2aa198;">"^[[:lower:]]+$"</span> category))
                                   (directory-files org-jekyll-paths-articles-path nil
                                                    directory-files-no-dot-files-regexp
                                                    nil nil))
                                  nil t))
       (name (read-string <span style="color: #2aa198;">"Enter title: "</span>))
       (summary (read-string <span style="color: #2aa198;">"Enter summary: "</span>))
       (tags (read-string <span style="color: #2aa198;">"Enter tags (space separated): "</span>))
       (permalink (read-string <span style="color: #2aa198;">"Enter permalink: "</span>))
       (language (completing-read <span style="color: #2aa198;">"Enter post language: "</span> org-jekyll-languages nil t))
       (use-banner (y-or-n-p <span style="color: #2aa198;">"Use banner?"</span>))
       (banner (<span style="color: #859900; font-weight: bold;">if</span> use-banner
                   (read-file-name <span style="color: #2aa198;">"Path to banner image: "</span> nil nil t nil nil)
                 nil))))
</pre>
</div>


<div class="figure">
<p><img src="/assets/static/create_new_post.jpg" alt="new post creation UI" align="center" />
</p>
<p style="text-align: center"><i>UI —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞</i></p>
</div>

<p>
–í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –∂–µ <code>let*</code> —Å—Ä–∞–∑—É –∂–µ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è:
</p>
<ul class="org-ul">
<li><p>
–ß–∞—Å—Ç—å front matter –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∑–∞–≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –±–ª–æ–≥:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(additional (concat (<span style="color: #859900; font-weight: bold;">if</span> use-banner
                        (concat <span style="color: #2aa198;">"image: /assets/static/"</span> (file-name-nondirectory banner) <span style="color: #2aa198;">"\n"</span>
                                <span style="color: #2aa198;">"banner:\n"</span>
                                <span style="color: #2aa198;">"  image: /assets/static/"</span> (file-name-nondirectory banner) <span style="color: #2aa198;">"\n"</span>
                                <span style="color: #2aa198;">"  opacity: 0.6\n"</span>)
                      <span style="color: #2aa198;">""</span>)
                    (concat <span style="color: #2aa198;">"summary: "</span> summary <span style="color: #2aa198;">"\n"</span>)
                    (concat <span style="color: #2aa198;">"tags: "</span> tags)))
</pre>
</div></li>
<li><p>
–ü—É—Ç—å –∫ –Ω–æ–≤–æ–º—É –ø–æ—Å—Ç—É:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(dirname (concat path <span style="color: #2aa198;">"/"</span> category <span style="color: #2aa198;">"/"</span> date <span style="color: #2aa198;">"-"</span> permalink))
</pre>
</div></li>
<li><p>
–ò–º—è —Ñ–∞–π–ª–∞ —Å –ø–æ—Å—Ç–æ–º¬†‚Äî –∫ <code>article</code> –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–≤–µ–¥—ë–Ω–Ω—ã–π language code:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(filename (concat dirname <span style="color: #2aa198;">"/"</span> <span style="color: #2aa198;">"article-"</span> language <span style="color: #2aa198;">".org"</span>))
</pre>
</div></li>
</ul>

<p>
–ü–æ—Å–ª–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –≤ —Ç–µ–ª–µ <code>let*</code> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞:
</p>
<ol class="org-ol">
<li><p>
–°–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥ —Å —Ä–∞–Ω–µ–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(make-directory dirname t)
</pre>
</div></li>
<li><p>
–ï—Å–ª–∏ –¥–ª—è –ø–æ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–Ω–Ω–µ—Ä, —Ç–æ –≤ —ç—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è
—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">if</span> use-banner
    (copy-file banner (concat dirname <span style="color: #2aa198;">"/"</span> (file-name-nondirectory banner))))
</pre>
</div></li>
<li><p>
–ë–µ—Ä—ë—Ç—Å—è —à–∞–±–ª–æ–Ω –¥–ª—è –ø–æ—Å—Ç–∞ –ø–æ –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
<code>org-jekyll-paths-template-path</code> –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º –±—É—Ñ–µ—Ä–µ –¥–ª—è –∑–∞–º–µ–Ω—ã
placeholder'–æ–≤ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ü–æ—Ç–æ–º —ç—Ç–æ—Ç –±—É—Ñ–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Ñ–∞–π–ª
—Å –∏–º–µ–Ω–µ–º –∏–∑ <code>filename</code>, –ø–æ –ø—É—Ç–∏ –∏–∑ <code>dirname</code>:

</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">with-temp-buffer</span>
  (insert-file-contents template)
  (mapc
   (<span style="color: #859900; font-weight: bold;">lambda</span> (x) (<span style="color: #859900; font-weight: bold;">progn</span>
                 (goto-char (point-min))
                 (<span style="color: #859900; font-weight: bold;">while</span> (search-forward (car x) nil t)
                   (replace-match (cdr x) t t))))
   `((<span style="color: #2aa198;">"{%NAME%}"</span> . ,name)
     (<span style="color: #2aa198;">"{%CATEGORY%}"</span> . ,category)
     (<span style="color: #2aa198;">"{%DATE%}"</span> . ,date)
     (<span style="color: #2aa198;">"{%LANG%}"</span> . ,language)
     (<span style="color: #2aa198;">"{%ADDITIONAL%}"</span> . ,additional)))
  (write-file filename))
</pre>
</div>
<p>

</p></li>
<li><p>
–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º –±—É—Ñ–µ—Ä–µ —Å –∫—É—Ä—Å–æ—Ä–æ–º –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞,
—á—Ç–æ–±—ã —Å—Ä–∞–∑—É –Ω–∞—á–∞—Ç—å –ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">with-current-buffer</span> (find-file filename)
  (goto-char (point-max)))
</pre>
</div></li>
</ol>

<p>
–®–∞–±–ª–æ–Ω –ø–æ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —è –∏—Å–ø–æ–ª—å–∑—É—é, –ª–µ–∂–∏—Ç –ø–æ –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
<code>org-jekyll-paths-template-path</code> (–≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –ª–æ–∫–∞–ª—å–Ω—É—é
–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é <code>template</code> –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞):
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defcustom</span> <span style="color: #268bd2;">org-jekyll-paths-template-path</span>
  (concat org-jekyll-paths-articles-path <span style="color: #2aa198;">"/_post_template.org"</span>)
  <span style="color: #2aa198;">"Path to post template."</span>
  <span style="color: #657b83; font-weight: bold;">:type</span> '(file <span style="color: #657b83; font-weight: bold;">:must-match</span> t)
  <span style="color: #657b83; font-weight: bold;">:group</span> 'org-jekyll-paths)
</pre>
</div>

<p>
–£ –º–µ–Ω—è —ç—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–≤–Ω–∞ <code>~/rsync/blog/articles/_post_template.org</code>. –°–∞–º —Ñ–∞–π–ª
–≤—ã–≥–ª—è–¥–∏—Ç –≤–æ—Ç —Ç–∞–∫:
</p>

<p>

</p>
<pre class="example">
#+BEGIN_EXPORT html
---
layout: post
title: {%NAME%}
category: {%CATEGORY%}
date: {%DATE%}
lang: {%LANG%}
comments: false
hidden:
  - related_posts
{%ADDITIONAL%}
---
#+END_EXPORT


</pre>
<p>

</p>

<p>
–ö–∞–∫ –≤–∏–¥–Ω–æ, —Ç—É—Ç –ø—Ä–æ—Å—Ç–æ –æ–ø–∏—Å–∞–Ω jekyll-–æ–≤—Å–∫–∏–π front matter –∏ –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ.
</p>
</div>
</div>
<div id="outline-container-jekyll-local-server" class="outline-3">
<h3 id="jekyll-local-server">–ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Jekyll</h3>
<div class="outline-text-3" id="text-jekyll-local-server">
<p>
–°–±–æ—Ä–∫–∞ –±–ª–æ–≥–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ Emacs Lisp –≥–æ—Ç–æ–≤—ã. –ò–∑ —á–∞—Å—Ç–æ
–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —É –º–µ–Ω—è –æ—Å—Ç–∞–ª—Å—è –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ—á–∏—Å—Ç–∫–∞
—Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll –æ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.
</p>

<p>
–° –∑–∞–ø—É—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–∞ –≤—Å—ë –ø—Ä–æ—Å—Ç–æ¬†‚Äî –Ω–∞–¥–æ –ª–∏—à—å –≤—ã–∑–≤–∞—Ç—å <code>make-process</code> —Å –Ω—É–∂–Ω—ã–º–∏
–∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(make-process
 <span style="color: #657b83; font-weight: bold;">:name</span> <span style="color: #2aa198;">"jekyll-serve"</span>
 <span style="color: #657b83; font-weight: bold;">:buffer</span> <span style="color: #2aa198;">"jekyll-serve"</span>
 <span style="color: #657b83; font-weight: bold;">:command</span> '(<span style="color: #2aa198;">"bundle"</span> <span style="color: #2aa198;">"exec"</span> <span style="color: #2aa198;">"jekyll"</span> <span style="color: #2aa198;">"serve"</span>)
 <span style="color: #657b83; font-weight: bold;">:delete-exited-processes</span> t
 <span style="color: #657b83; font-weight: bold;">:filter</span> (<span style="color: #859900; font-weight: bold;">lambda</span> (process text)
           (<span style="color: #859900; font-weight: bold;">if</span> (string-match <span style="color: #2aa198;">".*done in [0-9.]+ seconds.*"</span> text)
               (message <span style="color: #2aa198;">"%s"</span> (propertize <span style="color: #2aa198;">"Blog serve: running"</span> 'face '(<span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"blue"</span>))))
           (internal-default-process-filter process text))
 <span style="color: #657b83; font-weight: bold;">:sentinel</span> (<span style="color: #859900; font-weight: bold;">lambda</span> (process state)
             (<span style="color: #859900; font-weight: bold;">cond</span>
              ((<span style="color: #859900; font-weight: bold;">and</span> (eq (process-status process) 'exit)
                    (zerop (process-exit-status process)))
               (message <span style="color: #2aa198;">"%s"</span> (propertize <span style="color: #2aa198;">"Blog serve: stopped"</span> 'face '(<span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"blue"</span>))))
              ((eq (process-status process) 'run)
               (accept-process-output process))
              (t (<span style="color: #cb4b16; font-weight: bold;">error</span> (concat <span style="color: #2aa198;">"Jekyll Serve: "</span> state))))))
</pre>
</div>

<p>
–Ø —Ö–æ—Ç–µ–ª, —á—Ç–æ–±—ã –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–ª–∞ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π
—Å–µ—Ä–≤–µ—Ä¬†‚Äî –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞. –õ–æ–≥–∏–∫–∞ –¥–ª—è —ç—Ç–æ–≥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è:
</p>
<ul class="org-ul">
<li>–ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å <code>jekyll-serve</code> —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ —É–±–∏–≤–∞–µ–º –µ–≥–æ.</li>
<li>–ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ—Ç¬†‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä.</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--suffix-serve-toggle</span> ()
  <span style="color: #2aa198;">"Serve blog or stop serving the blog."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (<span style="color: #859900; font-weight: bold;">let</span> ((current-path (file-name-directory buffer-file-name)))
    (<span style="color: #859900; font-weight: bold;">if</span> (eq (process-status <span style="color: #2aa198;">"jekyll-serve"</span>) ' run)
        (interrupt-process <span style="color: #2aa198;">"jekyll-serve"</span>)
      (cd (expand-file-name org-jekyll-paths-base-path))
      (make-process ...)
      (cd current-path))))
</pre>
</div>
</div>
</div>
<div id="outline-container-jekyll-clean" class="outline-3">
<h3 id="jekyll-clean">–û—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll</h3>
<div class="outline-text-3" id="text-jekyll-clean">
<p>
–û—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —É–∂–µ –Ω–µ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–∞. –ï—Å–ª–∏ —Å –≤—ã–∑–æ–≤–æ–º –∫–æ–º–∞–Ω–¥—ã <code>bundle
exec jekyll clean</code> –≤—Å—ë –ø—Ä–æ—Å—Ç–æ¬†‚Äî –Ω—É–∂–µ–Ω –µ—â—ë –æ–¥–∏–Ω –≤—ã–∑–æ–≤ <code>make-process</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(make-process
 <span style="color: #657b83; font-weight: bold;">:name</span> <span style="color: #2aa198;">"jekyll-clean"</span>
 <span style="color: #657b83; font-weight: bold;">:buffer</span> <span style="color: #2aa198;">"jekyll-clean"</span>
 <span style="color: #657b83; font-weight: bold;">:command</span> '(<span style="color: #2aa198;">"bundle"</span> <span style="color: #2aa198;">"exec"</span> <span style="color: #2aa198;">"jekyll"</span> <span style="color: #2aa198;">"clean"</span>)
 <span style="color: #657b83; font-weight: bold;">:delete-exited-processes</span> t
 <span style="color: #657b83; font-weight: bold;">:sentinel</span> (<span style="color: #859900; font-weight: bold;">lambda</span> (process state)
             (<span style="color: #859900; font-weight: bold;">cond</span>
              ((<span style="color: #859900; font-weight: bold;">and</span> (eq (process-status process) 'exit)
                    (zerop (process-exit-status process)))
               (message <span style="color: #2aa198;">"%s"</span> (propertize <span style="color: #2aa198;">"Blog cleaned"</span> 'face '(<span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"blue"</span>))))
              ((eq (process-status process) 'run)
               (accept-process-output process))
              (t (<span style="color: #cb4b16; font-weight: bold;">error</span> (concat <span style="color: #2aa198;">"Jekyll Clean: "</span> state))))))
</pre>
</div>


<p>
–¢–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ä–∞–±–æ—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–∑ Org Mode –≤—Å—ë —Å–ª–æ–∂–Ω–µ–µ¬†‚Äî Jekyll –æ –Ω–∏—Ö –Ω–µ
–∑–Ω–∞–µ—Ç –∏ —ç—Ç–∏ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º
<code>jekyll clean</code> –Ω–∞–¥–æ –±—ã –ø–æ—á–∏—Å—Ç–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ <code>_articles/</code>, <code>_static/</code> –∏ <code>_post/</code> –æ—Ç —Ç–æ–≥–æ,
—á—Ç–æ —Ç—É–¥–∞ –¥–æ–±–∞–≤–∏–ª–∞ <code>org-publish-project</code>. –≠—Ç–æ —è —Å–¥–µ–ª–∞–ª —á–µ—Ä–µ–∑ —Å–ª–µ–¥—É—é—â–∏–π
S-expression:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (x)
        (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (file)
                (delete-file file nil))
              (mapcan (<span style="color: #859900; font-weight: bold;">lambda</span> (directory)
                        (directory-files-recursively (concat org-jekyll-paths-base-path directory) (cdr x) nil nil nil))
                        (car x))))
      `(((<span style="color: #2aa198;">"/_posts/en"</span> <span style="color: #2aa198;">"/_posts/ru"</span>) . <span style="color: #2aa198;">"\\.html$"</span>)
        ((<span style="color: #2aa198;">"/assets/static"</span> <span style="color: #2aa198;">"/_static"</span>) . ,(concat <span style="color: #2aa198;">"\\.png</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.jpg$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.jpeg$"</span>
                                                  <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">"</span>
                                                  <span style="color: #2aa198;">"\\.JPG$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.svg$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.webm$"</span>
                                                  <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">"</span>
                                                  <span style="color: #2aa198;">"\\.webp$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.html$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.tar.bz2$"</span>
                                                  <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">"</span>
                                                  <span style="color: #2aa198;">"\\.org$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.gif$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.gpx$"</span>
                                                  <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">"</span>
                                                  <span style="color: #2aa198;">"\\.uxf$"</span>))
        ((<span style="color: #2aa198;">"/_articles"</span>) . <span style="color: #2aa198;">"\\.org$"</span>)))
</pre>
</div>

<p>
–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –∫–æ–¥ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω—ë–Ω–Ω—ã–º, –Ω–æ –≤—Å—ë —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç¬†‚Äî
–ø—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫–∞—Ç–∞–ª–æ–≥–∞–º –∏ —É–¥–∞–ª—è–µ—Ç –∏–∑ –Ω–∏—Ö —Ñ–∞–π–ª—ã, –ø–æ–¥–ø–∞–¥–∞—é—â–∏–µ –ø–æ–¥
–∑–∞–¥–∞–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ.
</p>

<p>
–ü–µ—Ä–≤–∞—è –ª—è–º–±–¥–∞ <code>(lambda (x) ...)</code> –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ
—Å–ø–∏—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç: <code>(("/_posts/en" "/_posts/ru") . "\\.html$")</code>)
–≤ —Å–ª–µ–¥—É—é—â–∏–π S-expression:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (file)
        (delete-file file nil))
      (mapcan (<span style="color: #859900; font-weight: bold;">lambda</span> (directory)
                (directory-files-recursively (concat org-jekyll-paths-base-path directory) (cdr x) nil nil nil))
              (car x)))
</pre>
</div>

<p>
–¢—É—Ç —É–∂–µ –≤—Å—ë –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ. –í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä <code>mapc</code> –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è <code>x</code> —Å
–ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º —Å–ø–∏—Å–∫–∞ –≤–Ω—É—Ç—Ä–∏, –∞ –µ—â—ë –æ–¥–Ω–æ S-expression. –û–Ω–æ –±—É–¥–µ—Ç —Å–Ω–∞—á–∞–ª–∞
–≤—ã—á–∏—Å–ª–µ–Ω–æ –∏ –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–µ—â—ë –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫¬†‚Äî —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤), –±—É–¥–µ—Ç –ø–æ—ç–ª–µ–º–µ–Ω—Ç–Ω–æ
–æ–±—Ä–∞–±–æ—Ç–∞–Ω –ø–æ—Å–ª–µ–¥–Ω–µ–π –ª—è–º–±–¥–æ–π, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç —Ñ–∞–π–ª:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">lambda</span> (file)
  (delete-file file nil))
</pre>
</div>

<p>
S-expression —Å <code>mapcan</code><sup><a id="fnr.mapcan" class="footref" href="#fn.mapcan" role="doc-backlink">20</a></sup> –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:
</p>
<ol class="org-ol">
<li>–ë–µ—Ä—ë—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ —Å –ø—É—Ç—è–º–∏/—Ä–µ–≥—É–ª—è—Ä–∫–∞–º–∏ —á–µ—Ä–µ–∑ <code>(car x)</code>¬†‚Äî —ç—Ç–æ –±—É–¥–µ—Ç
–µ—â—ë –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫ —Å –ø—É—Ç—è–º–∏ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º, –Ω–∞–ø—Ä–∏–º–µ—Ä: <code>("/_posts/en"
   "/_posts/ru")</code>.</li>
<li>–í –ª—è–º–±–¥–µ —Å <code>directory-files-recursively</code> –ø—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ —ç—Ç–æ–º—É —Å–ø–∏—Å–∫—É –∏
–ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ø–∞–¥–∞—é—Ç –ø–æ–¥ –∑–∞–¥–∞–Ω–Ω–æ–µ
—Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –†–µ–≥—É–ª—è—Ä–∫–∞¬†‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ <code>x</code> –∏ –µ–≥–æ –º–æ–∂–Ω–æ
–ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ <code>(cdr x)</code>.</li>
<li><p>
–í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ <code>(("/_posts/en/article1/file.org"
   "/_posts/en/article2/file.org") ("/_posts/ru/article1/file.org"
   "/_posts/ru/article2/file.org"))</code>. –ï—Å–ª–∏ –±—ã —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª <code>mapc</code>, —Ç–æ –Ω–∞ –≤—Ö–æ–¥
–ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ–ø–∞–ª –±—ã —Å–ø–∏—Å–æ–∫ –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∏ —Å –ø—É—Ç—ë–º –∫
—Ñ–∞–π–ª—É –∏ <code>delete-file</code> —Å–ª–æ–º–∞–ª—Å—è –±—ã.
</p>

<p>
–î–ª—è –ø—Ä–∏–º–µ—Ä–∞, –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–æ–¥–µ –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>file</code>,
–∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ª—è–º–±–¥—É, –µ—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è <code>mapc</code>:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (file)
        (print file))
      (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (directory)
              directory)
            '((<span style="color: #2aa198;">"a"</span> <span style="color: #2aa198;">"b"</span>) (<span style="color: #2aa198;">"c"</span> <span style="color: #2aa198;">"d"</span>))))

(<span style="color: #2aa198;">"a"</span> <span style="color: #2aa198;">"b"</span>)
(<span style="color: #2aa198;">"c"</span> <span style="color: #2aa198;">"d"</span>)
</pre>
</div></li>
<li><p>
–ù–∞–¥–æ ¬´—Å–ø–ª—é—â–∏—Ç—å¬ª —Å–ø–∏—Å–æ–∫ –∏ —ç—Ç–∏–º –∫–∞–∫ —Ä–∞–∑ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è <code>mapcan</code>. –û–Ω–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç
—Å–ø–∏—Å–æ–∫ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—É–Ω–∫—Ç–∞ –≤: <code>("/_posts/en/article1/file.org"
   "/_posts/en/article2/file.org" "/_posts/ru/article1/file.org"
   "/_posts/ru/article2/file.org")</code> ‚Äî –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ
–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –≤—ã—à–µ–ª–µ–∂–∞—â–∏–π <code>mapc</code>.
</p>

<p>
–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, —á—Ç–æ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –≤—Ö–æ–¥–µ –ª—è–º–±–¥—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ <code>mapcan</code> ‚Äî —É–∂–µ –Ω–µ —Å–ø–∏—Å–æ–∫, –∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (file)
        (print file))
      (mapcan (<span style="color: #859900; font-weight: bold;">lambda</span> (directory)
                directory)
              '((<span style="color: #2aa198;">"a"</span> <span style="color: #2aa198;">"b"</span>) (<span style="color: #2aa198;">"c"</span> <span style="color: #2aa198;">"d"</span>))))

<span style="color: #2aa198;">"a"</span>
<span style="color: #2aa198;">"b"</span>
<span style="color: #2aa198;">"c"</span>
<span style="color: #2aa198;">"d"</span>
</pre>
</div></li>
</ol>

<p>
–ò—Ç–æ–≥–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º
–æ–±—Ä–∞–∑–æ–º:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--suffix-clear</span> ()
  <span style="color: #2aa198;">"Clear blog files."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (<span style="color: #859900; font-weight: bold;">let</span> ((current-path (file-name-directory buffer-file-name)))
    (cd (expand-file-name org-jekyll-paths-base-path))
    (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (x)
            (mapc (<span style="color: #859900; font-weight: bold;">lambda</span> (file)
                    (delete-file file nil))
                  (mapcan (<span style="color: #859900; font-weight: bold;">lambda</span> (directory)
                            (directory-files-recursively (concat org-jekyll-paths-base-path directory) (cdr x) nil nil nil))
                          (car x))))
          `(((<span style="color: #2aa198;">"/_posts/en"</span> <span style="color: #2aa198;">"/_posts/ru"</span>) . <span style="color: #2aa198;">"\\.html$"</span>)
            ((<span style="color: #2aa198;">"/assets/static"</span> <span style="color: #2aa198;">"/_static"</span>) . ,(concat <span style="color: #2aa198;">"\\.png$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.jpg$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.jpeg$"</span>
                                                      <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">"</span>
                                                      <span style="color: #2aa198;">"\\.JPG$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.svg$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.webm$"</span>
                                                      <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">"</span>
                                                      <span style="color: #2aa198;">"\\.webp$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.html$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.tar.bz2$"</span>
                                                      <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">"</span>
                                                      <span style="color: #2aa198;">"\\.org$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.gif$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.gpx$"</span>
                                                      <span style="color: #2aa198;">"</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">"</span>
                                                      <span style="color: #2aa198;">"\\.svg$"</span>))
            ((<span style="color: #2aa198;">"/_articles"</span>) . <span style="color: #2aa198;">"\\.org$</span><span style="color: #859900; font-weight: bold;">\\</span><span style="color: #b58900; font-weight: bold;">|</span><span style="color: #2aa198;">\\.png$"</span>)))
    (make-process
     <span style="color: #657b83; font-weight: bold;">:name</span> <span style="color: #2aa198;">"jekyll-clean"</span>
     <span style="color: #657b83; font-weight: bold;">:buffer</span> <span style="color: #2aa198;">"jekyll-clean"</span>
     <span style="color: #657b83; font-weight: bold;">:command</span> '(<span style="color: #2aa198;">"bundle"</span> <span style="color: #2aa198;">"exec"</span> <span style="color: #2aa198;">"jekyll"</span> <span style="color: #2aa198;">"clean"</span>)
     <span style="color: #657b83; font-weight: bold;">:delete-exited-processes</span> t
     <span style="color: #657b83; font-weight: bold;">:sentinel</span> (<span style="color: #859900; font-weight: bold;">lambda</span> (process state)
                 (<span style="color: #859900; font-weight: bold;">cond</span>
                  ((<span style="color: #859900; font-weight: bold;">and</span> (eq (process-status process) 'exit)
                        (zerop (process-exit-status process)))
                   (message <span style="color: #2aa198;">"%s"</span> (propertize <span style="color: #2aa198;">"Blog cleaned"</span> 'face '(<span style="color: #657b83; font-weight: bold;">:foreground</span> <span style="color: #2aa198;">"blue"</span>))))
                  ((eq (process-status process) 'run)
                   (accept-process-output process))
                  (t (<span style="color: #cb4b16; font-weight: bold;">error</span> (concat <span style="color: #2aa198;">"Jekyll Clean: "</span> state))))))))
</pre>
</div>
</div>
</div>
<div id="outline-container-transient-ui" class="outline-3">
<h3 id="transient-ui">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (transient)</h3>
<div class="outline-text-3" id="text-transient-ui">
<p>
–ö–æ –≤—Å–µ–π —ç—Ç–æ–π –∫—Ä–∞—Å–æ—Ç–µ –Ω–µ–ø–ª–æ—Ö–æ –±—ã–ª–æ –±—ã –¥–æ–±–∞–≤–∏—Ç—å <i>—É–¥–æ–±–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Emacs</i>
–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á—Ç–æ–±—ã –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —á–µ—Ä–µ–∑ <code>M-x</code>.
</p>

<p>
–ó–¥–µ—Å—å —è –æ—Å–æ–±–æ –Ω–µ –º—É–¥—Ä—Å—Ç–≤–æ–≤–∞–ª –∏ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –±–∏–±–ª–∏–æ—Ç–µ–∫—É <a href="https://jd.codes/posts/transient-emacs/">Transient</a>, –∫–∞–∫ –∏
<a href="https://mastodon.social/@fabrik42">Christian Dewein</a>. –í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∏–ª–∞—Å—å –≤–æ—Ç —Ç–∞–∫–∞—è —à—Ç—É–∫–∞:
</p>


<div class="figure">
<p><img src="/assets/static/transient_panel.png" alt="Panel with blog actions" align="center" />
</p>
<p style="text-align: center"><i>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–Ω–µ–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–ª–æ–≥–æ–º</i></p>
</div>

<p>
–†—è–¥ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ (—Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö
–ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é) —è —É–∂–µ –æ–ø–∏—Å–∞–ª –≤—ã—à–µ. –ü—Ä–µ—Ñ–∏–∫—Å (–∫–æ–¥, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –ø–∞–Ω–µ–ª—å) –≤—ã–≥–ª—è–¥–∏—Ç
—Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Transient keys description:</span>

(<span style="color: #859900; font-weight: bold;">transient-define-prefix</span> <span style="color: #268bd2;">org-jekyll-layout-descriptions</span> ()
  <span style="color: #2aa198;">"Transient layout with blog commands."</span>
  [<span style="color: #657b83; font-weight: bold;">:description</span> (<span style="color: #859900; font-weight: bold;">lambda</span> () (concat org-jekyll-url <span style="color: #2aa198;">" control panel"</span> <span style="color: #2aa198;">"\n"</span>))
                [<span style="color: #2aa198;">"Development"</span>
                 (<span style="color: #2aa198;">"b"</span> <span style="color: #2aa198;">"Build blog"</span> org-jekyll--suffix-build)
                 (<span style="color: #2aa198;">"s"</span> org-jekyll--suffix-serve-toggle
                  <span style="color: #657b83; font-weight: bold;">:description</span> (<span style="color: #859900; font-weight: bold;">lambda</span> () (<span style="color: #859900; font-weight: bold;">if</span> (eq (process-status <span style="color: #2aa198;">"jekyll-serve"</span>) 'run)
                                              <span style="color: #2aa198;">"Stop serving local blog"</span>
                                            <span style="color: #2aa198;">"Serve local blog"</span>)))
                 (<span style="color: #2aa198;">"o"</span> <span style="color: #2aa198;">"Open served blog"</span> org-jekyll--suffix-open-blog)
                 (<span style="color: #2aa198;">"O"</span> <span style="color: #2aa198;">"Open blog in Web"</span> org-jekyll--suffix-open-remote-blog)
                 (<span style="color: #2aa198;">"B"</span> <span style="color: #2aa198;">"Open build log"</span> org-jekyll--suffix-open-build-log)
                 (<span style="color: #2aa198;">"l"</span> <span style="color: #2aa198;">"Open serve log"</span> org-jekyll--suffix-open-serve-log)
                 (<span style="color: #2aa198;">"C"</span> <span style="color: #2aa198;">"Clear blog directory"</span> org-jekyll--suffix-clear)]
                [<span style="color: #2aa198;">"Actions"</span>
                 (<span style="color: #2aa198;">"n"</span> <span style="color: #2aa198;">"New blog post"</span> org-jekyll--suffix-create-post)]])

<span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Function to call main menu:</span>

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll-menu</span> ()
  <span style="color: #2aa198;">"Open blog control center."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (org-jekyll-layout-descriptions))
</pre>
</div>

<p>
–§—É–Ω–∫—Ü–∏–∏-—Å—É—Ñ—Ñ–∏–∫—Å—ã —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--suffix-open-blog</span> ()
  <span style="color: #2aa198;">"Open locally served blog."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (browse-url <span style="color: #2aa198;">"http://127.0.0.1:8000/"</span>))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--suffix-open-remote-blog</span> ()
  <span style="color: #2aa198;">"Open remote blog."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (browse-url org-jekyll-url))

(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll--suffix-create-post</span> ()
  <span style="color: #2aa198;">"Create new blog post."</span>
  (<span style="color: #859900; font-weight: bold;">interactive</span>)
  (cd (expand-file-name org-jekyll-paths-base-path))
  (org-jekyll--create-new-post))
</pre>
</div>

<p>
–í –æ–ø–∏—Å–∞–Ω–∏–∏ –ø—É–Ω–∫—Ç–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —è —Å–¥–µ–ª–∞–ª —Ç–∞–∫, —á—Ç–æ–±—ã
–æ–Ω —Å—Ä–∞–∑—É –∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª –∑–∞–ø—É—â–µ–Ω –ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –Ω–µ—Ç¬†‚Äî —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É
–Ω–∞–ª–∏—á–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ <code>"jekyll-serve"</code> –≤ —Å–∏—Å—Ç–µ–º–µ.
</p>

<p>
–û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —ç—Ç—É –ø–∞–Ω–µ–ª—å–∫—É –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞–≤ —Ñ—É–Ω–∫—Ü–∏—é <code>org-jekyll-menu</code>. –ó–∞–±–µ–≥–∞—è –Ω–µ–º–Ω–æ–≥–æ
–≤–ø–µ—Ä—ë–¥¬†‚Äî —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ö–æ—Ç–∫–µ–µ–º –≤ –º–æ—ë–º –ø–ª–∞–≥–∏–Ω–µ.
</p>
</div>
</div>
<div id="outline-container-emacs-plugin" class="outline-3">
<h3 id="emacs-plugin">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –ø–ª–∞–≥–∏–Ω–∞</h3>
<div class="outline-text-3" id="text-emacs-plugin">
<p>
–û—Å—Ç–∞–ª–æ—Å—å –æ—Ñ–æ—Ä–º–∏—Ç—å –≤—Å—ë –∫–∞–∫ Emacs-–ø–ª–∞–≥–∏–Ω¬†‚Äî –Ω–µ –±—É–¥—É –∂–µ —è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –¥–µ–ª–∞—Ç—å
<code>eval-buffer</code>? –ü—É—Å—Ç—å Emacs —Å–∞–º –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å –Ω—É–∂–Ω—ã–π –∫–æ–¥ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.
</p>

<p>
–î–ª—è –Ω–∞—á–∞–ª–∞ —è –ø—Ä–æ–≥–Ω–∞–ª –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —á–µ—Ä–µ–∑ <code>M-x checkdoc</code> –∏ –¥–æ–±–∞–≤–∏–ª –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ
–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –ü–æ—Ç–æ–º –¥–æ–±–∞–≤–∏–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">htmlize</span>)
(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">ox-publish</span>)
(<span style="color: #859900; font-weight: bold;">require</span> '<span style="color: #268bd2; font-weight: bold;">transient</span>)
</pre>
</div>

<p>
–ó–¥–µ—Å—å: <code>htmlize</code> –Ω—É–∂–µ–Ω Org Mode –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∫–æ–¥–∞ –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º HTML,
<code>ox-publish</code> ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ Org
Mode. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ <code>transient</code> —è —É–∂–µ –æ–ø–∏—Å–∞–ª –≤—ã—à–µ.
</p>

<p>
–ï—â—ë —è –¥–æ–±–∞–≤–∏–ª <code>provide</code> –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">provide</span> '<span style="color: #268bd2; font-weight: bold;">org-jekyll</span>)
</pre>
</div>

<p>
–ù—É –∏ –æ–ø–∏—Å–∞–ª minor mode, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–Ω–æ–µ –≤—ã—à–µ transient-–º–µ–Ω—é
–ø–æ —Ö–æ—Ç–∫–µ—é <code>C-c b</code>:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #93a1a1;">;; </span><span style="color: #93a1a1;">Minor mode:</span>

<span style="color: #93a1a1;">;;;</span><span style="color: #93a1a1;">###</span><span style="color: #cb4b16; font-weight: bold;">autoload</span>
(<span style="color: #859900; font-weight: bold;">define-minor-mode</span> <span style="color: #268bd2;">org-jekyll-mode</span>
  <span style="color: #2aa198;">"Enable transient menu to operate with blog-related OrgMode files."</span>
  <span style="color: #657b83; font-weight: bold;">:lighter</span> <span style="color: #2aa198;">" oj"</span>
  <span style="color: #657b83; font-weight: bold;">:global</span> nil
  <span style="color: #657b83; font-weight: bold;">:init-value</span> nil
  <span style="color: #657b83; font-weight: bold;">:keymap</span> (list (cons (kbd <span style="color: #2aa198;">"C-c b"</span>) #'org-jekyll-menu)))
</pre>
</div>

<p>
–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ —ç—Ç–æ—Ç —Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω —á–µ—Ä–µ–∑ <code>M-x org-jekyll-mode</code>, —Ç–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞
<code>C-c b b</code> —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–ª–æ–≥, –ø–æ –Ω–∞–∂–∞—Ç–∏—é <code>C-c b n</code> —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è —Å—Ç–∞—Ç—å—è –∏ —Ç–∞–∫
–¥–∞–ª–µ–µ. –ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∞—Ç—å <code>C-c b</code>, —Ç–æ –ø–æ–∫–∞–∂–µ—Ç—Å—è transient-–º–µ–Ω—é —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
–≤—ã—à–µ.
</p>
</div>
</div>
<div id="outline-container-loading-plugin-in-emacs" class="outline-3">
<h3 id="loading-plugin-in-emacs">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –≤ Emacs</h3>
<div class="outline-text-3" id="text-loading-plugin-in-emacs">
<p>
–û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —ç—Ç–æ—Ç –ø–ª–∞–≥–∏–Ω –≤ Emacs, —á—Ç–æ–±—ã –Ω–æ–≤—ã–π minor
mode —Å–∞–º –≤–∫–ª—é—á–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ —Å –ø–æ—Å—Ç–æ–º –¥–ª—è –±–ª–æ–≥–∞ –∏ –Ω–µ –≤–∫–ª—é—á–∞–ª—Å—è
–ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö org-—Ñ–∞–π–ª–æ–≤.
</p>

<p>
–î–ª—è —ç—Ç–æ–≥–æ —è –¥–æ–±–∞–≤–∏–ª –µ—â—ë –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –º—ã –æ—Ç–∫—Ä—ã–ª–∏ —Ñ–∞–π–ª —Å–æ
—Å—Ç–∞—Ç—å–µ–π –≤ –±—É—Ñ–µ—Ä–µ –∏ –≤–∫–ª—é—á–∞–µ—Ç –º–æ–π minor mode:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #93a1a1;">;;;</span><span style="color: #93a1a1;">###</span><span style="color: #cb4b16; font-weight: bold;">autoload</span>
(<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">org-jekyll-init</span> ()
  (<span style="color: #859900; font-weight: bold;">if</span> (<span style="color: #859900; font-weight: bold;">and</span> buffer-file-name
           (string-match <span style="color: #2aa198;">"^/.+/article-[[:lower:]]\\{</span><span style="color: #268bd2;">2\\</span><span style="color: #2aa198;">}\\.org"</span> (buffer-file-name)))
      (org-jekyll-mode 1)))
</pre>
</div>

<p>
–ù—É –∞ —Å–∞–º –ø–ª–∞–≥–∏–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Emacs —á–µ—Ä–µ–∑ <code>use-package</code> —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">use-package</span> org-jekyll
  <span style="color: #657b83; font-weight: bold;">:load-path</span> <span style="color: #2aa198;">"~/rsync/blog/"</span>
  <span style="color: #657b83; font-weight: bold;">:ensure</span> nil
  <span style="color: #657b83; font-weight: bold;">:commands</span> org-jekyll-init
  <span style="color: #657b83; font-weight: bold;">:hook</span> (org-mode . org-jekyll-init))
</pre>
</div>

<p>
–¢–µ–ø–µ—Ä—å, –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è org-—Ñ–∞–π–ª, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è
<code>org-jekyll-init</code>. –ò –µ—Å–ª–∏ –º—ã –æ—Ç–∫—Ä—ã–ª–∏ —Ñ–∞–π–ª —Å —Ç–µ–∫—Å—Ç–æ–º –¥–ª—è –±–ª–æ–≥–∞, —Ç–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è
<code>org-jekyll-mode</code> –∏ –º–æ–π —Ö–æ—Ç–∫–µ–π –≤–º–µ—Å—Ç–µ —Å transient-–º–µ–Ω—é —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã.
</p>
</div>
</div>
</div>
<div id="outline-container-source-code" class="outline-2">
<h2 id="source-code">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞</h2>
<div class="outline-text-2" id="text-source-code">
<p>
–Ø –Ω–µ –∑–∞–¥—É–º—ã–≤–∞–ª —ç—Ç–æ—Ç –ø–ª–∞–≥–∏–Ω –ø—Ä–∏–≥–æ–¥–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –ª—é–¥—å–º–∏¬†‚Äî –≤
–∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ –≤ –Ω—ë–º –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞ –º–æ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å–æ —Å—Ç–∞—Ç—å—è–º–∏ –∏ –º–æ–∏
–º–µ—Ç–æ–¥—ã –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤. –ü–æ—ç—Ç–æ–º—É —è –Ω–µ –ø—É–±–ª–∏–∫–æ–≤–∞–ª –µ–≥–æ –≤ MELPA –∏ –Ω–µ –∑–∞–≤–æ–¥–∏–ª –¥–ª—è
–Ω–µ–≥–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
</p>

<p>
–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ª–µ–∂–∏—Ç –≤ —Ç–æ–º –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –≥–¥–µ –∏ —Ñ–∞–π–ª—ã –¥–ª—è –º–æ–µ–≥–æ
–±–ª–æ–≥–∞. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–µ–≥–æ –º–æ–∂–Ω–æ <a href="https://github.com/eugeneandrienko/eugeneandrienko.github.io/blob/master/org-jekyll.el">–ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ</a>.
</p>

<p>
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –µ—Å–ª–∏ –º–Ω–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤¬†‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤
—ç–∫—Å–ø–æ—Ä—Ç–µ –∏–∑ OrgMode, —á—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTML –ø–æ–¥—Ö–æ–¥–∏–ª –∫ –Ω–æ–≤–æ–º—É –¥–≤–∏–∂–∫—É. –ú–æ–∏
–∏—Å—Ö–æ–¥–Ω–∏–∫–∏ —Å—Ç–∞—Ç–µ–π –∏ –≤—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –¥–ª—è –Ω–∏—Ö¬†‚Äî –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π.
</p>
</div>
</div>
<div id="outline-container-plugin-improvement" class="outline-2">
<h2 id="plugin-improvement">–ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?</h2>
<div class="outline-text-2" id="text-plugin-improvement">
<p>
–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ —Å—Ç–æ–∏—Ç
—É–ª—É—á—à–∏—Ç—å:
</p>
<ol class="org-ol">
<li>–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ <code>org-publish-project</code> –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º, —á—Ç–æ–±—ã –æ–Ω –Ω–µ
–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª Emacs –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ, –∫–∞–∫ —Å–µ–π—á–∞—Å. –ü—Ä–∏ —ç—Ç–æ–º, <code>org-publish-project</code> –∏
–ø–æ—Å–ª–µ–¥—É—é—â–∏–π –≤—ã–∑–æ–≤ <code>make-process</code> –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç—Ä–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ,
–∏–Ω–∞—á–µ Jekyll –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–±—Ä–∞—Ç—å –±–ª–æ–≥ –∫–æ–≥–¥–∞ —Ñ–∞–π–ª—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –µ—â—ë –Ω–µ
–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã.</li>
<li><p>
<code>org-publish-project</code> —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–ª–æ–∫–∞–º–∏ Org Babel, –∫–æ—Ç–æ—Ä—ã–µ —è —Ö–æ—á—É
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –≤—Å—è–∫–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö —Å—Ö–µ–º –≤ –≤–∏–¥–µ –∫–æ–¥–∞ –¥–ª—è <a href="https://github.com/plantuml/plantuml">PlantUML</a>
–ø—Ä—è–º–æ –≤ —Ç–µ–∫—Å—Ç–µ –ø–æ—Å—Ç–∞. –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ <code>org-publish-project</code> –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
<code>_articles/</code> –±—É–¥—É—Ç –ª–µ–∂–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ —Å—Ö–µ–º–∞–º–∏, —Å–¥–µ–ª–∞–Ω–Ω—ã–º–∏ –Ω–∞
–æ—Å–Ω–æ–≤–µ PlantUML –æ–ø–∏—Å–∞–Ω–∏–π (—Å–º. –±–ª–æ–≥–ø–æ—Å—Ç <a href="https://hostsharing.coop/@dzu">@dsu</a> —Å –¥–µ—Ç–∞–ª—è–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
<a href="https://blog.lazy-evaluation.net/posts/orgmode-diagrams.html">https://blog.lazy-evaluation.net/posts/orgmode-diagrams.html</a>).
</p>

<p>
–ù–∞–¥–æ –ª–∏—à—å, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è <code>org-jekyll--prepare-static</code> —É–º–µ–ª–∞ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã
—Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏–∑ –Ω–æ–≤–æ–≥–æ –º–µ—Å—Ç–∞. –ê —Ñ—É–Ω–∫—Ü–∏—è <code>org-jekyll--suffix-clear</code> —É–º–µ–ª–∞
—É–¥–∞–ª—è—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã.
</p>

<p>
<i>–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ¬†‚Äî —Å–º. –∫–æ–º–º–∏—Ç <a href="https://github.com/eugeneandrienko/eugeneandrienko.github.io/commit/e919bd6d2b7f3a0b853fdf71f288f5c9f1749575">e919bd6d2b7f3a0b853fdf71f288f5c9f1749575</a>.</i>
</p></li>
</ol>
</div>
</div>
<div id="outline-container-notes" class="outline-2">
<h2 id="notes">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</h2>
<div class="outline-text-2" id="text-notes">
</div>
</div>
<div id="footnotes">

<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.virtue_signaling" class="footnum" href="#fnr.virtue_signaling" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–°–Ω–∞—á–∞–ª–∞, –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –º–∞—Ä—Ç–∞ 2022 –≥–æ–¥–∞, Visa –∏ Master Card
–æ—Ç—Ä–µ–∑–∞–ª–∏ –º–µ–Ω—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç –≤—Å–µ–≥–æ, —á—Ç–æ –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –∑–∞ –¥–µ–Ω—å–≥–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏
—Å—Ç—Ä–∞–Ω—ã. –ò–∑-–∑–∞ —á–µ–≥–æ —è –Ω–µ —Å–º–æ–≥ –Ω–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –¥–æ–º–µ–Ω –∫ –¥—Ä—É–≥–æ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É,
–Ω–∏ –æ–ø–ª–∞—Ç–∏—Ç—å —Å–≤–æ–π VPS –≤ –§–∏–Ω–ª—è–Ω–¥–∏–∏.
</p></div></div>

<div class="footdef"><sup><a id="fn.namecheap" class="footnum" href="#fnr.namecheap" role="doc-backlink">2</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∏ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ ¬´–ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è¬ª –∏—Å—Ç–æ—Ä–∏—è. 28 —Ñ–µ–≤—Ä–∞–ª—è
2022 –≥–æ–¥–∞ NameCheap –ø—Ä–∏—Å–ª–∞–ª –º–Ω–µ –ø–∏—Å—å–º–æ-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏
—Ä–∞–∑–¥–µ–ª–µ–≥–∏—Ä—É—é—Ç –º–æ–π –¥–æ–º–µ–Ω —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π –ø–æ—Ç–æ–º—É —á—Ç–æ —è –∏–∑ ¬´–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π¬ª —Å—Ç—Ä–∞–Ω—ã
(—ç—Ç–æ –±—ã–ª–æ –∑–∞–¥–æ–ª–≥–æ –¥–æ –∑–∞–ø—Ä–µ—Ç–∞ –æ–∫–∞–∑—ã–≤–∞—Ç—å IT-—É—Å–ª—É–≥–∏ –∫–æ–º–ø–∞–Ω–∏—è–º –∏–∑ —Å–∞–Ω–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ
—Å–ø–∏—Å–∫–∞, –∫ –∫–æ—Ç–æ—Ä—ã–º —è –∏ —Ç–∞–∫ –Ω–∏–∫–æ–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ –æ—Ç–Ω–æ—à—É—Å—å¬†‚Äî —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Ä–∞—Å—Å—ã–ª–∫–∞
¬´–ø–∏—Å–µ–º —Å—á–∞—Å—Ç—å—è¬ª —à–ª–∞ –ø–æ –∞–¥—Ä–µ—Å—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–±–∏–ª–ª–∏–Ω–≥–∞ —Ä–∞–¥–∏ –≤—ã—à–µ—É–ø–æ–º—è–Ω—É—Ç–æ–≥–æ virtue
signaling):
</p>


<div class="figure">
<p><img src="/assets/static/namecheap1.png" alt="Namecheap services discontinuation" align="center" />
</p>
</div>

<p class="footpara">
–í —Å–ª–µ–¥—É—é—â–∏—Ö –¥–≤—É—Ö –ø–∏—Å—å–º–∞—Ö –æ–Ω–∏ –ø—Ä–æ–¥–ª–∏–ª–∏ —Å—Ä–æ–∫ –Ω–∞ –¥–≤–µ –Ω–µ–¥–µ–ª–∏. –ò –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏ –º–Ω–µ –¥–æ
–¥–µ–¥–ª–∞–π–Ω–∞ –ª–∏–±–æ —É–µ—Ö–∞—Ç—å –∏–∑ —Å—Ç—Ä–∞–Ω—ã, –ª–∏–±–æ <del>–∑–∞–Ω—è—Ç—å—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é</del> —Å–µ—Å—Ç—å –≤
—Ç—é—Ä—å–º—É –Ω–∞ –¥–µ—Å—è—Ç–æ–∫ –ª–µ—Ç, –µ—Å–ª–∏ —è —Ö–æ—á—É –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏—Ö
—É—Å–ª—É–≥–∞–º–∏ü§°. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ —ç—Ç–∏ –ø–∏—Å—å–º–∞ —Å–æ—Å—Ç–∞–≤–ª—è–ª –∫–∞–∫–æ–π-—Ç–æ –Ω–µ –æ—Å–æ–±–æ —É–º–Ω—ã–π
—á–µ–ª–æ–≤–µ–∫ –∏–∑ —Å—Ç—Ä–∞–Ω—ã ¬´–ø–µ—Ä–≤–æ–≥–æ –º–∏—Ä–∞¬ª, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –µ–≥–æ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å
—Ä–µ–ø—Ä–µ—Å—Å–∏–≤–Ω—ã–º –∞–ø–ø–∞—Ä–∞—Ç–æ–º –∑–∞–∫–ª—é—á–∞–ª–æ—Å—å –≤ —Ç–æ–º, —á—Ç–æ –µ–º—É –Ω–µ –ø—Ä–æ–¥–∞–ª–∏ –∞–ª–∫–æ–≥–æ–ª—å –±–µ–∑ ID
–Ω–∞ –∫–∞—Å—Å–µ Wallmart'–∞; –∞ –ø—Ä–æ –∂–∏–∑–Ω—å –≤–Ω–µ —Å–≤–æ–∏—Ö –æ—Ç–ª–∞–∂–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç–∏—Ç—É—Ç–æ–≤ –æ–Ω –∑–Ω–∞–µ—Ç –∏–∑
—Å–µ—Ä–∏–∏ —Ñ–∏–ª—å–º–æ–≤ ¬´–ì–æ–ª–æ–¥–Ω—ã–µ –∏–≥—Ä—ã¬ª. –ò –∫–æ—Ç–æ—Ä—ã–π —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —ç–º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ¬†‚Äî
–∑–∞–ø–æ–ª–Ω—è–µ—à—å –∫–∞–∫–∏–µ-—Ç–æ –±—É–º–∞–∂–∫–∏ –Ω–∞ —Ç–∞–º–æ–∂–Ω–µ –ø—Ä–∏ –≤—ä–µ–∑–¥–µ –∏ –≤–∂—É—Ö¬†‚Äî —Ç—ã —É–∂–µ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω
–¥—Ä—É–≥–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞.
</p>


<div class="figure">
<p><img src="/assets/static/namecheap2.png" alt="Namecheap next emails about service shutdown" align="center" />
</p>
</div>

<p class="footpara">
–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –¥–æ–º–µ–Ω –∫ –¥—Ä—É–≥–æ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —è —Ç–æ–≥–¥–∞ –Ω–µ —É—Å–ø–µ–ª, –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ
–º–æ–∏ –∫–∞—Ä—Ç—ã –±—ã—Å—Ç—Ä–æ –∏ –≤–Ω–µ–∑–∞–ø–Ω–æ –¥–ª—è –º–µ–Ω—è –æ–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç–∫–ª—é—á–µ–Ω—ã –æ—Ç Visa/MasterCard¬†‚Äî
–∏ —è –Ω–µ –º–æ–≥ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –¥—Ä—É–≥–æ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω –∑–∞ –ø–µ—Ä–µ–Ω–æ—Å. –ß–µ—Ä–µ–∑ <b>–≥–æ–¥
(!)</b> –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –º–æ–π –¥–æ–º–µ–Ω –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –≤ NameCheap¬†‚Äî –ø–æ—Å–ª–µ
—Ç–æ–≥–æ –∫–∞–∫ —è –ø–æ–ª—É—á–∏–ª –æ—Ç –Ω–∏—Ö –ø–∏—Å—å–º–æ —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –∑–∞–Ω–µ—Å—Ç–∏ –Ω–µ–º–Ω–æ–≥–æ —Å–≤–æ–∏—Ö
¬´–≥—Ä—è–∑–Ω—ã—Ö¬ª –¥–µ–Ω–µ–≥ –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ü§°ü§°:
</p>


<div class="figure">
<p><img src="/assets/static/namecheap3.png" alt="Namecheap domain renewal" align="center" />
</p>
</div>

<p class="footpara">
–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, —É—Å–ª—É–≥–∞–º–∏ NameCheap —è —Å —Ç–µ—Ö –ø–æ—Ä –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ª—å–∑—É—é—Å—å –∏ –æ–±—Ö–æ–∂—É –µ–≥–æ
–¥–µ—Å—è—Ç–æ–π –¥–æ—Ä–æ–≥–æ–π, —Å–¥–µ–ª–∞–≤ –≤—ã–±–æ—Ä –≤ –ø–æ–ª—å–∑—É –±–æ–ª–µ–µ –≤–º–µ–Ω—è–µ–º–æ–≥–æ –¥–æ–º–µ–Ω–Ω–æ–≥–æ
—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –∫–∞–∫ –º–æ–∂–Ω–æ –¥–∞–ª—å—à–µ (–Ω–∞ –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –ø–ª–∞–Ω–µ—Ç—ã) –æ—Ç
–º–µ–Ω—è. –ú–æ—Ä–∞–ª—å –∏—Å—Ç–æ—Ä–∏–∏¬†‚Äî –Ω–µ —Å—Ç–æ–∏—Ç –¥–æ–≤–µ—Ä—è—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è–º –∏ –≤—Å—è–∫–∏–º —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º
–∏ –∑–∞–∫—Ä—ã—Ç—ã–º —Å–µ—Ä–≤–∏—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ. –û–Ω–∏ –≤—ã–±—Ä–æ—Å—è—Ç –≤–∞—Å –Ω–µ
–∑–∞–¥—É–º—ã–≤–∞—è—Å—å, –µ—Å–ª–∏ –∏–º —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–æ–¥–Ω–æ. –í—Å–µ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏–º–µ—Ç—å –∑–∞–ø–∞—Å–Ω–æ–π –ø–ª–∞–Ω, –Ω–∞
—Å–ª—É—á–∞–π –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫.
</p></div></div>

<div class="footdef"><sup><a id="fn.jekyll" class="footnum" href="#fnr.jekyll" role="doc-backlink">3</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–û–Ω –≤—ã–≥–ª—è–¥–µ–ª –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç—ã–º –∏ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è –æ–∫–∞–∑–∞–ª—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
–ø–æ–ø—É–ª—è—Ä–Ω—ã–º –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è (–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ —Å–∏—Ö –ø–æ—Ä) —É —Ä–∞–∑–Ω—ã—Ö —Ö–æ—Å—Ç–µ—Ä–æ–≤
–≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –±–ª–æ–≥–≥–∏–Ω–≥–∞.
</p></div></div>

<div class="footdef"><sup><a id="fn.javascript" class="footnum" href="#fnr.javascript" role="doc-backlink">4</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–ù–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –º–Ω–µ JS, –∫ —Ç–æ–º—É –∂–µ –±–µ–∑ –Ω–µ–≥–æ –±–ª–æ–≥ –Ω–µ–≤–æ–æ–±—Ä–∞–∑–∏–º–æ
–±—ã—Å—Ç—Ä–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ—ë–º Thinkpad X220.
</p></div></div>

<div class="footdef"><sup><a id="fn.org-publish-project" class="footnum" href="#fnr.org-publish-project" role="doc-backlink">5</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html">https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.clojure" class="footnum" href="#fnr.clojure" role="doc-backlink">6</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–í–æ –≤—Ä–µ–º–µ–Ω–∞ —É—á—ë–±—ã –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ —è –Ω–µ–º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–ª—Å—è Lisp'–æ–º,
–ø–æ—á–∏—Ç—ã–≤–∞–ª ¬´Structure and Interpretation of Computer Programs¬ª –∏ –ø–∏—Å–∞–ª —Ä–∞–∑–Ω—ã–µ
–ø—Ä–æ—Å—Ç–µ–Ω—å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∫–∏ –Ω–∞ Clojure. –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–∑ –Ω–∏—Ö —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è –¥–æ
—Å–∏—Ö –ø–æ—Ä:
</p>
<ul class="org-ul">
<li><a href="https://codeberg.org/evgandr/jamendo-client">https://codeberg.org/evgandr/jamendo-client</a></li>
<li><a href="https://codeberg.org/evgandr/cs-alias-clj">https://codeberg.org/evgandr/cs-alias-clj</a></li>
</ul></div></div>

<div class="footdef"><sup><a id="fn.defcustom" class="footnum" href="#fnr.defcustom" role="doc-backlink">7</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/eintr/defcustom.html">https://www.gnu.org/software/emacs/manual/html_node/eintr/defcustom.html</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.quoting" class="footnum" href="#fnr.quoting" role="doc-backlink">8</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–°–º. <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Quoting.html">https://www.gnu.org/software/emacs/manual/html_node/elisp/Quoting.html</a>
–∏ <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Backquote.html">https://www.gnu.org/software/emacs/manual/html_node/elisp/Backquote.html</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.directory-files-recursively" class="footnum" href="#fnr.directory-files-recursively" role="doc-backlink">9</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Contents-of-Directories.html#index-directory_002dfiles_002drecursively">https://www.gnu.org/software/emacs/manual/html_node/elisp/Contents-of-Directories.html#index-directory_002dfiles_002drecursively</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.seq-filter" class="footnum" href="#fnr.seq-filter" role="doc-backlink">10</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Sequence-Functions.html#index-seq_002dfilter">https://www.gnu.org/software/emacs/manual/html_node/elisp/Sequence-Functions.html#index-seq_002dfilter</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.mapc" class="footnum" href="#fnr.mapc" role="doc-backlink">11</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Mapping-Functions.html#index-mapc">https://www.gnu.org/software/emacs/manual/html_node/elisp/Mapping-Functions.html#index-mapc</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.lang_code" class="footnum" href="#fnr.lang_code" role="doc-backlink">12</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–û—Ç–¥–µ–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞ –Ω—É–∂–µ–Ω –¥–ª—è –ø–ª–∞–≥–∏–Ω–∞
<a href="https://github.com/untra/polyglot">jekyll-polyglot</a>, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π –æ—Ç JavaScript —Å–ø–æ—Å–æ–±
–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Å—Ç–∞—Ç—å—é –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.
</p></div></div>

<div class="footdef"><sup><a id="fn.regex-search" class="footnum" href="#fnr.regex-search" role="doc-backlink">13</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Regexp-Search.html">https://www.gnu.org/software/emacs/manual/html_node/elisp/Regexp-Search.html</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.let-star" class="footnum" href="#fnr.let-star" role="doc-backlink">14</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Local-Variables.html#index-let_002a">https://www.gnu.org/software/emacs/manual/html_node/elisp/Local-Variables.html#index-let_002a</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.plist-get" class="footnum" href="#fnr.plist-get" role="doc-backlink">15</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Plist-Access.html#index-plist_002dget">https://www.gnu.org/software/emacs/manual/html_node/elisp/Plist-Access.html#index-plist_002dget</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.toc-org" class="footnum" href="#fnr.toc-org" role="doc-backlink">16</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
–ú–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–ª–∞–≥–∏–Ω–∞ toc-org, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç
–ø–æ–Ω–∏–º–∞—Ç—å —Ç–µ–≥ <code>:TOC_2_blog:</code> –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä–∞–∑–¥–µ–ª—ã, –ø—Ä–∞–≤–∏–ª—å–Ω–æ
–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –≤ HTML:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span style="color: #859900; font-weight: bold;">use-package</span> toc-org
  <span style="color: #657b83; font-weight: bold;">:pin</span> melpa
  <span style="color: #657b83; font-weight: bold;">:hook</span> (org-mode . toc-org-mode)
  <span style="color: #657b83; font-weight: bold;">:config</span>
  (<span style="color: #859900; font-weight: bold;">defun</span> <span style="color: #268bd2;">toc-org-hrefify-blog</span> (str <span style="color: #b58900;">&amp;optional</span> hash)
    (concat <span style="color: #2aa198;">"* "</span> (toc-org-format-visible-link str))))
</pre>
</div></div></div>

<div class="footdef"><sup><a id="fn.make-process" class="footnum" href="#fnr.make-process" role="doc-backlink">17</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Asynchronous-Processes.html#index-make_002dprocess">https://www.gnu.org/software/emacs/manual/html_node/elisp/Asynchronous-Processes.html#index-make_002dprocess</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.message" class="footnum" href="#fnr.message" role="doc-backlink">18</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Displaying-Messages.html#index-message">https://www.gnu.org/software/emacs/manual/html_node/elisp/Displaying-Messages.html#index-message</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.propertize" class="footnum" href="#fnr.propertize" role="doc-backlink">19</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Changing-Properties.html#index-propertize">https://www.gnu.org/software/emacs/manual/html_node/elisp/Changing-Properties.html#index-propertize</a>
</p></div></div>

<div class="footdef"><sup><a id="fn.mapcan" class="footnum" href="#fnr.mapcan" role="doc-backlink">20</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Mapping-Functions.html#index-mapcan">https://www.gnu.org/software/emacs/manual/html_node/elisp/Mapping-Functions.html#index-mapcan</a>
</p></div></div>


</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="it" /><category term="emacs" /><summary type="html"><![CDATA[TOC&#xa0;&#xa0;&#xa0; –í–≤–µ–¥–µ–Ω–∏–µ –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –±–ª–æ–≥–∞ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Jekyll-–±–ª–æ–≥–∞ c –ø–æ–º–æ—â—å—é Emacs Lisp –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ org-—Ñ–∞–π–ª–æ–≤ –≤ HTML –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ñ–∞–π–ª–æ–≤ –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –í—ã–∑–æ–≤ Jekyll –∏–∑ Emacs –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞ –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Jekyll –û—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (transient) –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –ø–ª–∞–≥–∏–Ω–∞ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –≤ Emacs –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞ –ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å? –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –í–≤–µ–¥–µ–Ω–∏–µ –í —ç—Ç–æ–º –ø–æ—Å—Ç–µ —è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é –æ —Ç–æ–º –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–ª —Å–≤–æ–π –Ω–µ–±–æ–ª—å—à–æ–π Emacs-–ø–ª–∞–≥–∏–Ω —É–ø—Ä–æ—â–∞—é—â–∏–π —Ä–∞–±–æ—Ç—É —Å –±–ª–æ–≥–æ–º –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –¥–≤–∏–∂–∫–µ. –° —ç—Ç–∏–º –ø–ª–∞–≥–∏–Ω–æ–º –≤–æ–∑–º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã –¥–ª—è –±–ª–æ–≥–∞ –≤ OrgMode –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —è–∑—ã–∫–∏ —Ä–∞–∑–º–µ—Ç–∫–∏ Markdown, reStructuredText –∏–ª–∏ HTMLüåö.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/emacs-plugin-jekyll-blog-header.png" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/emacs-plugin-jekyll-blog-header.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">–ó–∞–ø—É—Å–∫ Windows –≤ bhyve –Ω–∞ FreeBSD</title><link href="https://eugene-andrienko.com/it/2024/10/27/freebsd-bhyve-windows.html" rel="alternate" type="text/html" title="–ó–∞–ø—É—Å–∫ Windows –≤ bhyve –Ω–∞ FreeBSD" /><published>2024-10-27T00:00:00+03:00</published><updated>2024-10-27T00:00:00+03:00</updated><id>https://eugene-andrienko.com/it/2024/10/27/freebsd-bhyve-windows</id><content type="html" xml:base="https://eugene-andrienko.com/it/2024/10/27/freebsd-bhyve-windows.html"><![CDATA[<p>
–í —ç—Ç–æ–π –∑–∞–º–µ—Ç–∫–µ —Å–æ–±—Ä–∞–Ω—ã –≤—Å–µ —à–∞–≥–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≥–æ—Å—Ç–µ–≤–æ–π Windows 7 —Å
–ø–æ–º–æ—â—å—é FreeBSD-—à–Ω–æ–≥–æ –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä–∞ bhybe. –ò –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —è
—Å—Ç–æ–ª–∫–Ω—É–ª—Å—è.
</p>

<p>
–ó–∞–º–µ—Ç–∫–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Å—Ç–∞—Ç—å–µ Vermaden: <a href="https://vermaden.wordpress.com/2023/08/18/freebsd-bhyve-virtualization/">FreeBSD Bhyve Virtualization</a>. –ü—Ä—è–º–æ–µ
—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –æ—Ç—Ç—É–¥–∞ –¥–∞–ª–æ –º–Ω–µ –∑–∞–≤–∏—Å–∞—é—â—É—é –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ Windows, –±–µ–∑
–¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ç–∏ –∏ –±–µ–∑ —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞¬†‚Äî –ø–æ—ç—Ç–æ–º—É —è –Ω–∞–ø–∏—Å–∞–ª —Å–≤–æ—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, —Å
–ø–∞—Ä–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤.
</p>

<p>
–í—Å—ë –Ω–∞—á–∞–ª–æ—Å—å —Å —Ç–æ–≥–æ, —á—Ç–æ –º–Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏–ª–∞—Å—å –æ–¥–Ω–∞ —Å—Ç–∞—Ä–∞—è Windows –ø—Ä–æ–≥—Ä–∞–º–º–∞¬†‚Äî
—Ä–∞–Ω—å—à–µ –¥–ª—è —Ç–∞–∫–æ–≥–æ —è –±—ã –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª Wine. –ù–æ —Ç—É—Ç –≤–Ω–µ–∑–∞–ø–Ω–æ –≤—ã—è—Å–Ω–∏–ª–æ—Å—å,
—á—Ç–æ –æ–Ω —É–∂–µ –Ω–µ —Ç–æ—Ç, —á—Ç–æ –ø—Ä–µ–∂–¥–µ¬†‚Äî –≤ 64-–±–∏—Ç–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ
64-–±–∏—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∏ –Ω–∞ –∫–∞–∂–¥—ã–π —á–∏—Ö –ø—Ä–æ—Å–∏—Ç
—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 32-–±–∏—Ç–Ω—ã–π Wine. –≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å <del>–ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–æ—Å—Ç—ã–ª–µ–π</del> —Å–∫—Ä–∏–ø—Ç–∞
<code>pkg32.sh</code> –æ—Ç –º–µ–π–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–∞–∫–µ—Ç–∞, –Ω–æ –¥–∞–∂–µ —Å 32-–±–∏—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–∏—á–µ–≥–æ
–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.
</p>

<p>
–ò —Ç—É—Ç –≤ –¥–µ–ª–æ –ø–æ—à–ª–∏ —Å—Ç–∞—Ä—ã–µ ¬´—Ç—Ä—é–∫–∏¬ª. –†–∞–Ω—å—à–µ —è –ø—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª Windows –≤
VirtualBox, –∫–æ—Ç–æ—Ä—ã–π –≤–ø–æ–ª–Ω–µ —Å–Ω–æ—Å–Ω–æ –∏ –±—ã—Å—Ç—Ä–æ —Ä–∞–±–æ—Ç–∞–ª –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –º–æ–¥—É–ª—è —è–¥—Ä–∞ –∏ VirtualBox Guest Addons –≤ –≥–æ—Å—Ç–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –í–æ
FreeBSD –∂–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –º–∞—à–∏–Ω–∞–º–∏ –µ—â—ë –ø—Ä–æ—â–µ¬†‚Äî –µ—Å—Ç—å ¬´—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π¬ª
–≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä <a href="https://bhyve.org/">bhyve</a> –∏ –º–µ–Ω–µ–¥–∂–µ—Ä –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω <a href="https://github.com/churchers/vm-bhyve">vm-bhyve</a>, —Å –∑–∞—è–≤–ª–µ–Ω–Ω–æ–π
–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Windows.
</p>
<div class="outline-2">
<h2>TOC&#xa0;&#xa0;&#xa0;<span class="tag"></span></h2>
<div class="outline-text-2">
<ul class="org-ul">
<li><a href="#zfs-dataset">ZFS dataset –ø–æ–¥ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å)</a></li>
<li><a href="#bhyve-setup">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ bhyve –∏ vm-bhyve</a></li>
<li><a href="#vm-profile">–ü—Ä–æ—Ñ–∏–ª—å VM –¥–ª—è Windows</a></li>
<li><a href="#network-setup">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏</a></li>
<li><a href="#windows-setup">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Windows</a></li>
<li><a href="#rdp-client">RDP –∫–ª–∏–µ–Ω—Ç</a></li>
<li><a href="#main-bhyve-vm-commands">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å VM</a></li>
</ul>
</div>
</div>
<div id="outline-container-zfs-dataset" class="outline-2">
<h2 id="zfs-dataset">ZFS dataset –ø–æ–¥ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å)</h2>
<div class="outline-text-2" id="text-zfs-dataset">
<p>
–£ –º–µ–Ω—è –∫–∞–∫ —Ä–∞–∑ –≤–∞–ª—è–ª—Å—è –Ω–∞ –ø–æ–ª–∫–µ –Ω–µ–Ω—É–∂–Ω—ã–π 2.5" –¥—é–π–º–æ–≤—ã–π –∂—ë—Å—Ç–∫–∏–π –¥–∏—Å–∫ –Ω–∞
500¬†–ì–±. –û–Ω –º–Ω–µ –¥–æ—Å—Ç–∞–ª—Å—è —É–∂–µ –±/—É, –∫ —Ç–æ–º—É –∂–µ —è –µ–≥–æ —Ä–∞–∑–æ–∫ —É—Ä–æ–Ω–∏–ª –∏ –ø–æ—Ç–æ–º—É –Ω–µ
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤ —Ç–µ—Ö –º–µ—Å—Ç–∞—Ö, –≥–¥–µ –≤–∞–∂–Ω–∞ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö. –ê —Ç—É—Ç –¥–∏—Å–∫ –∫–∞–∫ —Ä–∞–∑
–ø—Ä–∏—à—ë–ª—Å—è –∫ –º–µ—Å—Ç—É¬†‚Äî –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –Ω—ë–º —Å–≤–æ–∏ ¬´—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ¬ª –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ
–º–∞—à–∏–Ω—ã. –í–∏–Ω—á–µ—Å—Ç–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –±—ã–ª –ø–æ–¥–∫–ª—é—á–µ–Ω —Ç—Ä–µ—Ç—å–∏–º –¥–∏—Å–∫–æ–º –∫ –º–æ–µ–º—É <a href="https://eugene-andrienko.com/it/2024/07/07/thinkpad-x220-second-life">Thinkpad
X220</a> —á–µ—Ä–µ–∑ OptiBay.
</p>

<p>
–î–∞–ª—å—à–µ –≤—Å—ë –±—ã–ª–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ. –ë—ã–ª —Å–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π zfs pool –Ω–∞ —ç—Ç–æ–º –¥–∏—Å–∫–µ –∏
–æ—Ç–¥–µ–ª—å–Ω—ã–π dataset, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥ VM:
</p>
<pre class="example">
# zpool create hdd /dev/ada1
# zfs create hdd/vms
# zfs set compression=gzip hdd/vms
# zpool status
  pool: hdd
 state: ONLINE
  scan: scrub repaired 0B in 00:00:01 with 0 errors on Sun Oct 27 01:51:43 2024
config:

        NAME        STATE     READ WRITE CKSUM
        hdd         ONLINE       0     0     0
          ada1      ONLINE       0     0     0

errors: No known data errors
# zfs list
NAME                                           USED  AVAIL  REFER  MOUNTPOINT
hdd                                           14.2G   435G    96K  /hdd
hdd/vms                                       14.2G   435G  8.07G  /hdd/vms
</pre>

<p>
Dataset <code>hdd/vms</code> –Ω—É–∂–µ–Ω –±—É–¥–µ—Ç –¥–ª—è vm-bhyve, —á—Ç–æ–±—ã –æ–Ω —Ö—Ä–∞–Ω–∏–ª –≤—Å–µ —Å–≤–æ–∏ —Ñ–∞–π–ª—ã –Ω–∞
—ç—Ç–æ–º –∂—ë—Å—Ç–∫–æ–º –¥–∏—Å–∫–µ, –∞ –Ω–µ –≥–¥–µ-—Ç–æ –Ω–∞ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–∏—Å–∫–∞—Ö.
</p>
</div>
</div>
<div id="outline-container-bhyve-setup" class="outline-2">
<h2 id="bhyve-setup">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ bhyve –∏ vm-bhyve</h2>
<div class="outline-text-2" id="text-bhyve-setup">
<p>
–¢—É—Ç —Ç–æ–∂–µ –≤—Å—ë –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ:
</p>
<ol class="org-ol">
<li><p>
–ù–∞–¥–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω—É–∂–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:
</p>
<pre class="example">
# pkg install bhyve-firmware vm-bhyve rdesktop
</pre></li>
<li><p>
–í–∫–ª—é—á–∏—Ç—å vm-bhyve –≤ <code>/etc/rc.conf</code> –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–º—É —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ä–∞–Ω–µ–µ dataset –¥–ª—è
–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
</p>
<pre class="example">
vm_enable="YES"
vm_dir="zfs:hdd/vms"
</pre></li>
<li><p>
–ó–∞–ø—É—Å—Ç–∏—Ç—å vm-bhyve —á–µ—Ä–µ–∑:
</p>
<pre class="example">
# /usr/local/etc/rc.d/vm start
</pre></li>
<li><p>
–ü—Ä–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å dataset:
</p>
<pre class="example">
# vm init
</pre>

<p>
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ –ø—É—Ç–∏ <code>/hdd/vms/</code> –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã —Å–ª—É–∂–µ–±–Ω—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏ vm-bhyve:
</p>
<pre class="example">
/hdd/vms % ls -la
total 12
drwxr-xr-x  7 root wheel    7B Oct 27 11:42 ./
drwxr-xr-x  3 root wheel    3B Oct 27 10:52 ../
drwxr-xr-x  2 root wheel    4B Oct 27 12:43 .config/
drwxr-xr-x  2 root wheel    2B Oct 27 01:46 .img/
drwxr-xr-x  2 root wheel    4B Oct 27 11:07 .iso/
drwxr-xr-x  2 root wheel    4B Oct 27 10:53 .templates/
</pre></li>
</ol>
</div>
</div>
<div id="outline-container-vm-profile" class="outline-2">
<h2 id="vm-profile">–ü—Ä–æ—Ñ–∏–ª—å VM –¥–ª—è Windows</h2>
<div class="outline-text-2" id="text-vm-profile">
<p>
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ <code>/hdd/vms/.templates/</code> –ª–µ–∂–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–∏–ª—å <code>default</code>, —Å –∫–æ—Ç–æ—Ä—ã–º —É
–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã —Å Windows –Ω–µ –±—É–¥–µ—Ç –Ω–∏ –≥—Ä–∞—Ñ–∏–∫–∏, –Ω–∏ –∑–≤—É–∫–∞, –Ω–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π
–ø–∞–º—è—Ç–∏.
</p>

<p>
–ó–¥–µ—Å—å –º–Ω–µ –æ—á–µ–Ω—å –ø–æ–º–æ–≥–ª–∞ —Å—Ç–∞—Ç—å—è Vermaden'–∞: <a href="https://vermaden.wordpress.com/2023/08/18/freebsd-bhyve-virtualization/">FreeBSD Bhyve
Virtualization</a>. –ü—Ä–æ—Ñ–∏–ª—å –±—ã–ª –≤–∑—è—Ç –æ—Ç—Ç—É–¥–∞ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º–∏:
</p>
<ul class="org-ul">
<li>–£–±—Ä–∞–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ <code>xhci_mouse</code>¬†‚Äî —Å –Ω–µ–π —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–∞–µ—Ç –Ω–∞
—ç—Ç–∞–ø–µ –∑–∞–≥—Ä—É–∑–∫–∏.</li>
<li><p>
–î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å.
</p>

<pre class="example">
loader="uefi"
graphics="yes"
cpu=2
memory=6G
ahci_device_limit="8"
network0_type="e1000"
network0_switch="public"
disk0_type="ahci-hd"
disk0_name="disk0.img"
disk0_opts="sectorsize=512"
utctime="no"
bhyve_options="-s 8,hda,play=/dev/dsp,rec=/dev/dsp"
</pre>

<p>
–≠—Ç–æ—Ç –ø—Ä–æ—Ñ–∏–ª—å –±—ã–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω –ø–æ –ø—É—Ç–∏ <code>/hdd/vms/.templates/windows.conf</code>.
</p></li>
</ul>
</div>
</div>
<div id="outline-container-network-setup" class="outline-2">
<h2 id="network-setup">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏</h2>
<div class="outline-text-2" id="text-network-setup">
<p>
–ü–æ—á–µ–º—É-—Ç–æ —ç—Ç–æ—Ç –ø—É–Ω–∫—Ç –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–æ –º–Ω–æ–≥–∏—Ö —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞—Ö¬†‚Äî –≤ –∏—Ç–æ–≥–µ –∏–∑ —Ö–æ—Å—Ç–∞
–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π –≥–æ—Å—Ç–µ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ –ø–æ —Å–µ—Ç–∏.
</p>

<p>
–î–ª—è –Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è switch <code>public</code> (–æ–Ω –∂–µ —É–∫–∞–∑–∞–Ω –≤—ã—à–µ –≤ –ø—Ä–æ—Ñ–∏–ª–µ <code>windows</code>):
</p>
<pre class="example">
# vm switch create public
</pre>

<p>
–ü–æ—Ç–æ–º –µ–º—É –Ω–∞–¥–æ —É–∫–∞–∑–∞—Ç—å –∞–¥—Ä–µ—Å:
</p>
<pre class="example">
# vm switch address public 169.254.0.1/16
</pre>

<p>
–ê–¥—Ä–µ—Å —è —É–∫–∞–∑—ã–≤–∞–ª —É–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏–ª Windows¬†‚Äî –ø–æ—Å–º–æ—Ç—Ä–µ–ª —á–µ—Ä–µ–∑
<code>ipconfig</code>, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∏–ª–∞ –ø–æ DHCP:
</p>
<ul class="org-ul">
<li>IP address: 169.254.122.106</li>
<li>Netmask: 255.255.0.0</li>
</ul>

<p>
–ò —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª –∞–¥—Ä–µ—Å –¥–ª—è —Å–≤–∏—Ç—á–∞.
</p>

<pre class="example">
s vm switch list
NAME    TYPE      IFACE      ADDRESS         PRIVATE  MTU  VLAN  PORTS
public  standard  vm-public  169.254.0.1/16  no       -    -     -
</pre>
</div>
</div>
<div id="outline-container-windows-setup" class="outline-2">
<h2 id="windows-setup">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Windows</h2>
<div class="outline-text-2" id="text-windows-setup">
<p>
–≠—Ç–æ —Å–∞–º–∞—è –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å. –í–æ –º–Ω–æ–≥–∏—Ö —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞—Ö –ø–∏—à—É—Ç, —á—Ç–æ –Ω–∞–¥–æ
—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –ø–∞—Ç—á–∏—Ç—å ISO —Å –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–º, —á—Ç–æ–±—ã –ø–æ–¥—Å—É–Ω—É—Ç—å —Ç—É–¥–∞ –Ω—É–∂–Ω—ã–µ
–¥—Ä–∞–π–≤–µ—Ä–∞ virtio. –ö —Å—á–∞—Å—Ç—å—é, –≤ –∏–º–µ–≤—à–µ–π—Å—è —É –º–µ–Ω—è ¬´—Å–±–æ—Ä–∫–µ –æ—Ç –í–∞—Å—è–Ω–∞¬ª —Ç–æ –ª–∏ —É–∂–µ
–±—ã–ª–∏ –Ω—É–∂–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä–∞, —Ç–æ –ª–∏ –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.
</p>

<p>
–ß—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ, –Ω–µ –∫–∞–∂–¥—ã–π —É—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–π ISO —Ä–∞–±–æ—Ç–∞–µ—Ç¬†‚Äî –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Å—Ç–æ –Ω–µ
–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è. –û—Ç —á–µ–≥–æ —ç—Ç–æ –∑–∞–≤–∏—Å–∏—Ç —è —Ç–∞–∫ –∏ –Ω–µ –≤—ã—è—Å–Ω–∏–ª. –ü–æ—ç—Ç–æ–º—É –Ω–∞ –ø–æ–∏—Å–∫
–∑–∞–≥—Ä—É–∂–∞—é—â–µ–≥–æ—Å—è –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ –ø—Ä–∏–¥—ë—Ç—Å—è –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏&#x2026;
</p>

<p>
ISO —Ñ–∞–π–ª –Ω—É–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –ø–æ –ø—É—Ç–∏ <code>/hdd/vms/.iso/</code>, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ–Ω –¥–æ–ª–∂–µ–Ω
–ø–æ—è–≤–∏—Ç—å—Å—è –≤ –≤—ã–≤–æ–¥–µ –∫–æ–º–∞–Ω–¥—ã <code>vm iso</code>:
</p>
<pre class="example">
# vm iso
DATASTORE           FILENAME
default             windows_eagle.iso
</pre>

<p>
–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω–∞–¥–æ –∏–º–µ—Ç—å –Ω–∞ –º–∞—à–∏–Ω–µ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å VNC-–∫–ª–∏–µ–Ω—Ç¬†‚Äî —á–µ—Ä–µ–∑ –Ω–µ–≥–æ
–º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –≥–æ—Å—Ç–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏
–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É. –Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª <a href="https://wiki.gnome.org/Apps/Vinagre">Vinagre</a> –∏–∑-–∑–∞ –µ–≥–æ —É–º–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
scal'–∏—Ç—å —Ä–∞–±–æ—á—É—é –æ–±–ª–∞—Å—Ç—å.
</p>

<p>
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ä—è–¥–∞ –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–æ–≤:
</p>
<ol class="org-ol">
<li><p>
–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã —Å –¥–∏—Å–∫–æ–º –Ω–∞ 50¬†–ì–± –∏ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º <code>windows</code>:
</p>
<pre class="example">
# vm create -t windows -s 50G windows
</pre></li>
<li><p>
–ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
</p>
<pre class="example">
# vm install windows windows_eagle.iso
Starting windows
* found guest in /hdd/vms/windows
* booting...
</pre></li>
<li><p>
–ü–æ—Å–ª–µ –ø. 2 —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –æ–∂–∏–¥–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è VNC-–∫–ª–∏–µ–Ω—Ç–∞ –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑
—Ç–∞–±–ª–∏—Ü—ã:
</p>
<pre class="example">
# vm list
NAME      DATASTORE  LOADER  CPU  MEMORY  VNC           AUTO  STATE
windows  default    uefi    2    6G      0.0.0.0:5900  No    Locked (freebsd)
</pre></li>
<li><p>
–ù—É –∞ –¥–∞–ª—å—à–µ –≤—Å—ë, –∫–∞–∫ –æ–±—ã—á–Ω–æ :-)
</p>

<div class="figure">
<p><img src="/assets/static/windows7_setup.jpg" alt="windows 7 setup" align="center" />
</p>
<p style="text-align: center"><i>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Windows</i></p>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-rdp-client" class="outline-2">
<h2 id="rdp-client">RDP –∫–ª–∏–µ–Ω—Ç</h2>
<div class="outline-text-2" id="text-rdp-client">
<p>
–ö–∞–∫ –∏ Vermaden, —è —Ä–µ—à–∏–ª, —á—Ç–æ —É–¥–æ–±–Ω–µ–µ –≤—Å–µ–≥–æ –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å–∏—Å—Ç–µ–º–µ –ø–æ
RDP. –°–ª–∏—à–∫–æ–º —É–∂ —Ü–µ–Ω–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ —Å —Ö–æ—Å—Ç–∞ –≤
<b>—É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω—É—é</b> –≥–æ—Å—Ç–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É.
</p>

<p>
–î–ª—è RDP –≤ Windows –Ω–∞–¥–æ:
</p>
<ul class="org-ul">
<li>–ó–∞–¥–∞—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –ø–æ RDP.</li>
<li><p>
–í–∫–ª—é—á–∏—Ç—å —É–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ:
</p>

<div class="figure">
<p><img src="/assets/static/windows7_remote_control.jpg" alt="windows 7 remote control settings" align="center" />
</p>
<p style="text-align: center"><i>–£–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ Windows</i></p>
</div></li>
<li><p>
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å IP –∞–¥—Ä–µ—Å –≥–æ—Å—Ç–µ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ <code>ipconfig</code>:
</p>

<div class="figure">
<p><img src="/assets/static/windows7_ipconfig.jpg" alt="windows cmd and ipconfig output" align="center" />
</p>
</div>

<p>
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≥–æ—Å—Ç–µ–≤–æ–π Windows —Å FreeBSD-—Ö–æ—Å—Ç–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏
—Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã:
</p>
<pre class="example">
$ rdesktop -u user -p 1234 -P -N -z -g 1600x900 -a 24 -r sound:local -r disk:DWNL=/home/drag0n/downloads/ -r clipboard:PRIMARYCLIPBOARD 169.254.122.106
</pre>

<p>
–í–º–µ—Å—Ç–æ <code>user/1234</code> —Å–ª–µ–¥—É–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ—é –ø–∞—Ä—É –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å. –û–ø—Ü–∏—è <code>-r disk</code>
–ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ <code>/home/drag0n/downloads/</code> —Å —Ö–æ—Å—Ç–∞ –≤ –≥–æ—Å—Ç–µ–≤—É—é Windows –∫–∞–∫
—Å–µ—Ç–µ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ <code>DWNL</code>. –°—é–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ –∂–µ –≤–æ–≤—Å–µ
—É–±—Ä–∞—Ç—å —ç—Ç—É –æ–ø—Ü–∏—é. –û–ø—Ü–∏—è <code>-r clipboard</code> –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ–¥–∏–Ω –∏–∑ clipboard'–æ–≤
X-—Å–µ—Ä–≤–µ—Ä–∞ –≤ –≥–æ—Å—Ç–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∏ –æ–±—Ä–∞—Ç–Ω–æ.
</p>


<div class="figure">
<p><img src="/assets/static/windows7_dwnl.jpg" alt="Catalog from FreeBSD host as DWNL network storage" align="center" />
</p>
<p style="text-align: center"><i>–ü—Ä–æ–±—Ä–æ—à–µ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Å FreeBSD-—Ö–æ—Å—Ç–∞</i></p>
</div>

<p>
–û–ø—Ü–∏—è <code>-g 1600x900</code> –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∂–µ–ª–∞–µ–º–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤ –æ–∫–Ω–µ —Å
–≥–æ—Å—Ç–µ–≤–æ–π VM. –ù–æ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ tiling wm, –æ–∫–Ω–æ rdesktop –±—É–¥–µ—Ç —Ä–∞—Å—Ç—è–Ω—É—Ç–æ
–¥–æ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –≤ Windows —Ç–æ–∂–µ –ø–æ–¥—Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ–¥
—ç—Ç–æ¬†‚Äî —á—Ç–æ –≤ –ø—Ä–∏–Ω—Ü–∏–ø–µ —Ç–æ–∂–µ —É–¥–æ–±–Ω–æ.
</p></li>
</ul>
</div>
</div>
<div id="outline-container-main-bhyve-vm-commands" class="outline-2">
<h2 id="main-bhyve-vm-commands">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å VM</h2>
<div class="outline-text-2" id="text-main-bhyve-vm-commands">
<ol class="org-ol">
<li><p>
–ó–∞–ø—É—Å–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã:
</p>
<pre class="example">
# vm start windows
Starting windows
* found guest in /hdd/vms/windows
* booting...
</pre></li>
<li><p>
–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã:
</p>
<pre class="example">
shutdown /s /t 0
</pre>
<p>
:-)
</p></li>
<li><p>
–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω:
</p>
<pre class="example">
# vm list
NAME     DATASTORE  LOADER  CPU  MEMORY  VNC  AUTO  STATE
windows  default    uefi    2    6G      -    No    Stopped
</pre></li>
<li><p>
–í—ã–∫–ª—é—á–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –ø–æ –ø–∏—Ç–∞–Ω–∏—é, –Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ Windows –∑–∞–≤–∏—Å–Ω–µ—Ç:
</p>
<pre class="example">
# vm poweroff windows
Are you sure you want to forcefully poweroff this virtual machine (y/n)?
</pre></li>
</ol>
</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="it" /><category term="freebsd" /><summary type="html"><![CDATA[–í —ç—Ç–æ–π –∑–∞–º–µ—Ç–∫–µ —Å–æ–±—Ä–∞–Ω—ã –≤—Å–µ —à–∞–≥–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≥–æ—Å—Ç–µ–≤–æ–π Windows 7 —Å –ø–æ–º–æ—â—å—é FreeBSD-—à–Ω–æ–≥–æ –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä–∞ bhybe. –ò –ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ —è —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/freebsd_win.jpg" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/freebsd_win.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry xml:lang="ru"><title type="html">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ª–µ—Ç–∞ 2024</title><link href="https://eugene-andrienko.com/photo/2024/09/01/summer-photos-2024.html" rel="alternate" type="text/html" title="–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ª–µ—Ç–∞ 2024" /><published>2024-09-01T00:00:00+03:00</published><updated>2024-09-01T00:00:00+03:00</updated><id>https://eugene-andrienko.com/photo/2024/09/01/summer-photos-2024</id><content type="html" xml:base="https://eugene-andrienko.com/photo/2024/09/01/summer-photos-2024.html"><![CDATA[<div class="outline-2">
<h2>–°—Ç—Ä–∏—Ç-—Ñ–æ—Ç–æ</h2>
<div class="outline-text-2">
<p>
–í—Å—è–∫–∏–µ ¬´–≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω—ã–µ¬ª —Ñ–æ—Ç–æ, –±–ª–∞–≥–æ –≥–æ—Ä–æ–¥ –¥–∞—ë—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞:
</p>


<div class="figure">
<p><img src="/assets/static/20240629_155114.JPG" alt="Concrete ruins" align="center" />
</p>
<p style="text-align: center"><i>–ë–µ—Ç–æ–Ω–Ω—ã–µ —Ä—É–∏–Ω—ã</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240629_181025.JPG" alt="Arcs" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240629_192522.JPG" alt="HOPE as lamp" align="center" />
</p>
<p style="text-align: center"><i>–õ–∞–º–ø–∞ HOPE</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240629_195620.JPG" alt="Reflection of street life" align="center" />
</p>
<p style="text-align: center"><i>–û—Ç—Ä–∞–∂–µ–Ω–∏–µ —É–ª–∏—á–Ω–æ–π –∂–∏–∑–Ω–∏</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240630_174348.JPG" alt="Bulletin board" align="center" />
</p>
<p style="text-align: center"><i>–ü–æ–¥—ä–µ–∑–¥–Ω–∞—è –¥–æ—Å–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240630_180103.JPG" alt="Sailor Moon vibes" align="center" />
</p>
<p style="text-align: center"><i>–í–∞–π–±—ã –°–µ–π–ª–æ—Ä –ú—É–Ω</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240630_192455.JPG" alt="Angle" align="center" />
</p>
<p style="text-align: center"><i>–£–≥–æ–ª</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240820_165209.JPG" alt="Asphalt" align="center" />
</p>
<p style="text-align: center"><i>–ü–æ—Ä–µ–±—Ä–∏–∫</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240820_165244.JPG" alt="Peter and Paul Fortress" align="center" />
</p>
<p style="text-align: center"><i>–°–∏–ª—É—ç—Ç –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–æ–π –∫—Ä–µ–ø–æ—Å—Ç–∏</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240820_190739.JPG" alt="Reflection at handrail" align="center" />
</p>
<p style="text-align: center"><i>–û—Ç—Ä–∞–∂–µ–Ω–∏–µ –≤ –ø–æ—Ä—É—á–Ω–µ</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240821_091937.JPG" alt="Enemy of freedom" align="center" />
</p>
<p style="text-align: center"><i>–í—Ä–∞–≥ —Å–≤–æ–±–æ–¥—ã</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240822_114817.JPG" alt="Feather" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240822_115028.JPG" alt="Opel Astra" align="center" />
</p>
<p style="text-align: center"><i>Opel Astra</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240822_115856.JPG" alt="Apples" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240822_121429.JPG" alt="Daisies" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240822_121717.JPG" alt="Tree" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240827_110557.JPG" alt="Chain link fencing on the pole" align="center" />
</p>
<p style="text-align: center"><i>–°–µ—Ç–∫–∞-—Ä–∞–±–∏—Ü–∞ –Ω–∞ —Å—Ç–æ–ª–±–µ</i></p>
</div>

<p>
–ß—ë—Ä–Ω—ã–π –∫–æ—Ç, 1 —à—Ç:
</p>


<div class="figure">
<p><img src="/assets/static/20240630_183332.JPG" alt="Black cat" align="center" />
</p>
</div>

<hr />


<div class="figure">
<p><img src="/assets/static/20240630_185336.JPG" alt="Toy bridge" align="center" />
</p>
<p style="text-align: center"><i>–ò–≥—Ä—É—à–µ—á–Ω—ã–π –º–æ—Å—Ç</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240630_202909.JPG" alt="Someon..." align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240630_203433.JPG" alt="End of epoch" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240630_222954.JPG" alt="Fireworks" align="center" />
</p>
<p style="text-align: center"><i>–°–∞–ª—é—Ç</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240630_222957.JPG" alt="Fireworks" align="center" />
</p>
<p style="text-align: center"><i>–°–∞–ª—é—Ç</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240713_180453.JPG" alt="Helicopter near the Peter and Paul Fortress" align="center" />
</p>
<p style="text-align: center"><i>–ü—Ä–æ–∫–∞—Ç–Ω—ã–π –≤–µ—Ä—Ç–æ–ª—ë—Ç —Ä—è–¥–æ–º —Å –ü–µ—Ç—Ä–æ–ø–∞–≤–ª–æ–≤—Å–∫–æ–π –∫—Ä–µ–ø–æ—Å—Ç—å—é</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240713_181404.JPG" alt="Helicopter exhaust" align="center" />
</p>
<p style="text-align: center"><i>–í–µ—Ä—Ç–æ–ª—ë—Ç–Ω—ã–π –≤—ã—Ö–ª–æ–ø</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240713_235325.JPG" alt="Rostral columns fire" align="center" />
</p>
<p style="text-align: center"><i>–û–≥–æ–Ω—å –Ω–∞ –†–æ—Å—Ç—Ä–∞–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–Ω–∞—Ö</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240820_165336.JPG" alt="Stone eagle" align="center" />
</p>
<p style="text-align: center"><i>–ö–∞–º–µ–Ω–Ω—ã–π –æ—Ä—ë–ª</i></p>
</div>
</div>
</div>
<div class="outline-2">
<h2>–ü—Ç–∏—Ü—ã</h2>
<div class="outline-text-2">

<div class="figure">
<p><img src="/assets/static/20240629_163333.JPG" alt="Gulls" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240630_191848.JPG" alt="Walking with a style" align="center" />
</p>
<p style="text-align: center"><i>–ù–∞ —Å—Ç–∏–ª–µ</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240820_121214.JPG" alt="Jumping sparrow" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240820_121215.JPG" alt="Jumping sparrow" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240820_121216.JPG" alt="Jumping sparrow" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240822_115154.JPG" alt="Huh?" align="center" />
</p>
<p style="text-align: center"><i>–ê?</i></p>
</div>
</div>
</div>
<div class="outline-2">
<h2>–ö–æ–º–ø—å—é—Ç–µ—Ä—ã</h2>
<div class="outline-text-2">
<p>
–í—Å–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å —Ñ–µ—Å—Ç–∏–≤–∞–ª—è <a href="https://chaosconstructions.ru/">Chaos Constructions</a> 2024.
</p>


<div class="figure">
<p><img src="/assets/static/20240824_163655.JPG" alt="Microsha" align="center" />
</p>
<p style="text-align: center"><i>–ö–æ–º–ø—å—é—Ç–µ—Ä ¬´–ú–∏–∫—Ä–æ—à–∞¬ª</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240824_164736.JPG" alt="PDP-11/04" align="center" />
</p>
<p style="text-align: center"><i>PDP-11/04</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240824_164953.JPG" alt="PDP-11/04" align="center" />
</p>
<p style="text-align: center"><i>PDP-11/04</i></p>
</div>


<div class="figure">
<p><img src="/assets/static/20240824_170530.JPG" alt="Nice terminal" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240824_200506.JPG" alt="Nice terminal 2" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240824_175244.JPG" alt="Nice code on the screen" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240824_180900.JPG" alt="Window" align="center" />
</p>
</div>


<div class="figure">
<p><img src="/assets/static/20240824_181012.JPG" alt="Electronika BK 0010-01" align="center" />
</p>
<p style="text-align: center"><i>–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –ë–ö 0010-01</i></p>
</div>
</div>
</div>]]></content><author><name>Eugene Andrienko</name></author><category term="photo" /><summary type="html"><![CDATA[–°—Ç—Ä–∏—Ç-—Ñ–æ—Ç–æ –í—Å—è–∫–∏–µ ¬´–≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω—ã–µ¬ª —Ñ–æ—Ç–æ, –±–ª–∞–≥–æ –≥–æ—Ä–æ–¥ –¥–∞—ë—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞:]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://eugene-andrienko.com/assets/static/header-summer-2024.jpg" /><media:content medium="image" url="https://eugene-andrienko.com/assets/static/header-summer-2024.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>