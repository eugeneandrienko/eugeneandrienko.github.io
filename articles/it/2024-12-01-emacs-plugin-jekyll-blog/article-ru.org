#+BEGIN_EXPORT html
---
layout: post
title: –ö–∞–∫ —è —Å–¥–µ–ª–∞–ª Emacs-–ø–ª–∞–≥–∏–Ω –¥–ª—è —Å–±–æ—Ä–∫–∏ —Å–≤–æ–µ–≥–æ –±–ª–æ–≥–∞
category: it
date: 2024-12-01
lang: ru
comments: false
hidden:
  - related_posts
image: /assets/static/emacs-plugin-jekyll-blog-header.png
banner:
  image: /assets/static/emacs-plugin-jekyll-blog-header.png
  opacity: 0.6
summary: Emacs Lisp –ø—Ä–æ–≥—Ä–∞–º–º–∞, —É–ø—Ä–æ—â–∞—é—â–∞—è —Å–±–æ—Ä–∫—É Jekyll-–±–ª–æ–≥–∞ –∏–∑ org-—Ñ–∞–π–ª–æ–≤
tags: emacs
---
#+END_EXPORT

* TOC                                                            :TOC_2_blog:
- [[* –í–≤–µ–¥–µ–Ω–∏–µ][–í–≤–µ–¥–µ–Ω–∏–µ]]
- [[* –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –±–ª–æ–≥–∞][–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –±–ª–æ–≥–∞]]
- [[* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Jekyll-–±–ª–æ–≥–∞ c –ø–æ–º–æ—â—å—é Emacs Lisp][–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Jekyll-–±–ª–æ–≥–∞ c –ø–æ–º–æ—â—å—é Emacs Lisp]]
  - [[* –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ org-—Ñ–∞–π–ª–æ–≤ –≤ HTML][–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ org-—Ñ–∞–π–ª–æ–≤ –≤ HTML]]
  - [[* –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥][–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥]]
  - [[* –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ñ–∞–π–ª–æ–≤][–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ñ–∞–π–ª–æ–≤]]
  - [[* –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤][–≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤]]
  - [[* –í—ã–∑–æ–≤ Jekyll –∏–∑ Emacs][–í—ã–∑–æ–≤ Jekyll –∏–∑ Emacs]]
  - [[* –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞][–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞]]
  - [[* –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Jekyll][–ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Jekyll]]
  - [[* –û—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll][–û—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll]]
  - [[* –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (transient)][–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (transient)]]
  - [[* –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –ø–ª–∞–≥–∏–Ω–∞][–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –ø–ª–∞–≥–∏–Ω–∞]]
  - [[* –ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –≤ Emacs][–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –≤ Emacs]]
- [[* –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞][–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞]]
- [[* –ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?][–ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?]]
- [[* –ü—Ä–∏–º–µ—á–∞–Ω–∏—è][–ü—Ä–∏–º–µ—á–∞–Ω–∏—è]]

* –í–≤–µ–¥–µ–Ω–∏–µ
:PROPERTIES:
:CUSTOM_ID: preface
:END:

–í —ç—Ç–æ–º –ø–æ—Å—Ç–µ —è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é –æ —Ç–æ–º –∫–∞–∫ –Ω–∞–ø–∏—Å–∞–ª —Å–≤–æ–π –Ω–µ–±–æ–ª—å—à–æ–π Emacs-–ø–ª–∞–≥–∏–Ω
—É–ø—Ä–æ—â–∞—é—â–∏–π —Ä–∞–±–æ—Ç—É —Å –±–ª–æ–≥–æ–º –Ω–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –¥–≤–∏–∂–∫–µ. –° —ç—Ç–∏–º –ø–ª–∞–≥–∏–Ω–æ–º –≤–æ–∑–º–æ–∂–Ω–æ
–ø–∏—Å–∞—Ç—å –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã –¥–ª—è –±–ª–æ–≥–∞ –≤ OrgMode –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏
–≤—Å–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º
—è–∑—ã–∫–∏ —Ä–∞–∑–º–µ—Ç–∫–∏ Markdown, reStructuredText –∏–ª–∏ HTMLüåö.

–í –ø–ª–∞–Ω–µ –±–ª–æ–≥–≥–∏–Ω–≥–∞ —è —É—Å–ø–µ–ª –ø–µ—Ä–µ–ø—Ä–æ–±–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ –≤—Å–µ–≥–æ:
- –ü–∏—Å–∞–ª –≤ LiveJournal
- –°—ç–ª—Ñ—Ö–æ—Å—Ç–∏–ª –±–ª–æ–≥ –Ω–∞ Wordpress —Å ¬´—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º¬ª LAMP-—Å—Ç—ç–∫–æ–º
- –í—ë–ª –±–ª–æ–≥ –Ω–∞ Blogger.com
- –°–Ω–æ–≤–∞ —Å—ç–ª—Ñ—Ö–æ—Å—Ç–∏–ª —Å–≤–æ–π –±–ª–æ–≥, —Å–æ–±–∏—Ä–∞–µ–º—ã–π –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö
  —Å–∞–π—Ç–æ–≤ Pelican, —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–∞ Disqus
- –ü—Ä–æ–±–æ–≤–∞–ª [[https://hackage.haskell.org/package/pencil][pencil]]
- –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ...

–í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Apache/Nginx,
MySQL/PostgreSQL, php-fpm –∏¬†—Ç.–¥. –∏¬†—Ç.–ø.¬†‚Äî –∏–∑—Ä—è–¥–Ω–æ –º–Ω–µ –Ω–∞–¥–æ–µ–ª–∞. –ö–∞–∫ –∏ –≤—Å—è–∫–∏–µ
–∫—É—Ü—ã–µ WYSIWYG-—Ä–µ–¥–∞–∫—Ç–æ—Ä—ã –∏ –Ω–µ–Ω—É–∂–Ω—ã–µ ¬´–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è¬ª –±–ª–æ–≥–≥–∏–Ω–≥-–ø–ª–∞—Ç—Ñ–æ—Ä–º. –¢—É—Ç –∂–µ –∫–∞–∫
—Ä–∞–∑ –ø–æ–¥–æ—Å–ø–µ–ª –≤—Å—è–∫–∏–π ¬´virtue signaling¬ª, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ —è
–ª–∏—à–∏–ª—Å—è[fn:virtue_signaling] —Å–≤–æ–µ–≥–æ VPS (–æ–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–ª –º–Ω–µ –¥–æ—Å—Ç—É–ø –≤ ¬´–±–æ–ª—å—à–æ–π
–∏–Ω—Ç–µ—Ä–Ω–µ—Ç¬ª¬†‚Äî —Ä–∞–Ω—å—à–µ, –≤ 90-—Ö –∏ –Ω—É–ª–µ–≤—ã—Ö –±—ã–ª–∞ —Ç–∞–∫–∞—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, –ø—Ä–∏ –ø–æ–º–æ—â–∏
–∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–≤–æ–±–æ–¥–Ω–æ –æ–±—â–∞—Ç—å—Å—è —Å –ª—é–¥—å–º–∏ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É –∏ –±–µ–∑ –≥—Ä–∞–Ω–∏—Ü,
–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø–æ GeoIP –∏ DPI). –ê —Ç–∞–∫–∂–µ –ø–æ—á—Ç–∏ –ª–∏—à–∏–ª—Å—è –¥–æ–º–µ–Ω–Ω–æ–≥–æ
–∏–º–µ–Ω–∏[fn:namecheap].

–ü—Ä–∏–º–µ—Ä–Ω–æ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç —è –ø—Ä–∏—à—ë–ª –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é [[https://jekyllrb.com/][Jekyll]][fn:jekyll] –≤ –∫–∞—á–µ—Å—Ç–≤–µ
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —Å–≤–æ–µ–≥–æ –±–ª–æ–≥–∞. –ï–≥–æ –∫–æ–ø–∏—è, —Å–æ –≤—Å–µ–º–∏ HTML –∏ CSS
—Ñ–∞–π–ª–∞–º–∏, —Ö—Ä–∞–Ω–∏—Ç—Å—è —É –º–µ–Ω—è –Ω–∞ –º–∞—à–∏–Ω–µ –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö CDN, –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏
–≤—Å–µ–≥–æ –ø—Ä–æ—á–µ–≥–æ, –∫ —á–µ–º—É —è –º–æ–≥—É –ø–æ—Ç–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç. –ü—Ä–∏—à–ª–æ—Å—å
¬´–Ω–µ–º–Ω–æ–≥–æ¬ª –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–º—É [[https://github.com/jeffreytse/jekyll-theme-yat][Yat]], —á—Ç–æ–±—ã —Ç–∞–º –Ω–µ –±—ã–ª–æ –Ω–∏ JS[fn:javascript], –Ω–∏
–ø–æ–¥–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö CDN. –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏, –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è
–æ—Å—Ç–∞–≤—à–∞—è—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å¬†‚Äî –æ—Ç —Å–∞–º–æ–≥–æ Jekyll –∏ –æ—Ç –µ–≥–æ –ø–ª–∞–≥–∏–Ω–æ–≤. –ù–æ –æ–Ω–∏ –∏ —Ç–∞–∫ —É–∂–µ
–ª–µ–∂–∞—Ç –Ω–∞ –∂—ë—Å—Ç–∫–æ–º –¥–∏—Å–∫–µ –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç—É¬†‚Äî –∞ —Å –∂—ë—Å—Ç–∫–æ–≥–æ
–¥–∏—Å–∫–∞ –æ–Ω–∏ –Ω–∏–∫—É–¥–∞ –Ω–µ –ø—Ä–æ–ø–∞–¥—É—Ç (–µ—Å–ª–∏ –ø–æ–º–Ω–∏—Ç—å –æ –±—ç–∫–∞–ø–∞—Ö).

–¢–æ–≥–¥–∞ –∂–µ —è –∑–∞–¥—É–º–∞–ª—Å—è –æ —Ç–æ–º, –∫–∞–∫ –±—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Å—Ç–∞—Ç—å–∏ –¥–ª—è –±–ª–æ–≥–∞ —Ç–∞–∫,
—á—Ç–æ–±—ã:
1. –¢–µ–∫—Å—Ç—ã –ø–æ—Å—Ç–æ–≤ –±—ã–ª–∏ –Ω–µ —Å–∏–ª—å–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤ –∏ —è
   –º–æ–≥ –±–µ–∑ –æ—Å–æ–±–æ–π –±–æ–ª–∏ —Å–º–µ–Ω–∏—Ç—å –æ–¥–∏–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞ –¥—Ä—É–≥–æ–π, –µ—Å–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏
   Jekyll –≤–¥—Ä—É–≥ —Ä–µ—à–∞—Ç –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –ª—é–¥–µ–π –ø–æ –≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤—É –∏–ª–∏ –ø–æ –º–µ—Å—Ç—É
   –∂–∏—Ç–µ–ª—å—Å—Ç–≤–∞ ([[https://en.wikipedia.org/wiki/Discrimination_based_on_nationality][discrimination based on nationality]]).
2. –ë–ª–æ–≥ –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ –∑–∞–≤–∏—Å–µ–ª –æ—Ç —á—É–∂–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è
   –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –æ—Ç –∫–æ—Ç–æ—Ä–æ–π —è –ø–æ–∫–∞ —á—Ç–æ –Ω–µ –º–æ–≥—É —É–π—Ç–∏¬†‚Äî —ç—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç
   —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω (–æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–±–µ–≥–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤,
   –∑–∞–º–µ—á–µ–Ω–Ω—ã—Ö –≤ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ —Ç–µ—Ö, —á—Ç–æ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –º–æ–µ–π –º–µ—Å—Ç–Ω–æ–π
   —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏). –í –∫–∞—á–µ—Å—Ç–≤–µ —Ö–æ—Å—Ç–∏–Ω–≥–∞ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞ –ø–æ–¥–æ–π–¥—ë—Ç –∂–µ –ª—é–±–∞—è
   –º–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ¬†‚Äî –≤ —Ç–∞–∫–æ–º, –≥–¥–µ –Ω–µ –∑–∞–Ω–∏–º–∞—é—Ç—Å—è —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ–º
   —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.
3. –ú–æ–∂–Ω–æ –±—ã–ª–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã —É–¥–æ–±–Ω—ã–º –º–Ω–µ –º–µ—Ç–æ–¥–æ–º¬†‚Äî —Ç.–µ.¬†–≤ Emacs, –ø—Ä–∏
   –ø–æ–º–æ—â–∏ Org Mode. –ê –Ω–µ —Å Markdown –∏–ª–∏ –∂–µ –≤–æ–æ–±—â–µ –≤ WYSIWYG –≤–µ–±-—Ä–µ–¥–∞–∫—Ç–æ—Ä–µ.
4. –Ø –º–æ–≥ —Å–∞–º –≤—ã–±—Ä–∞—Ç—å –¥–ª—è —Å–µ–±—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å –∏—Å—Ö–æ–¥–Ω–∏–∫–∞–º–∏ —Å—Ç–∞—Ç–µ–π, –∞ –Ω–µ
   –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ç–æ–π, —á—Ç–æ –Ω–∞–≤—è–∑–∞–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö
   —Å–∞–π—Ç–æ–≤.

–ï—Å–ª–∏ –ø.¬†2 –Ω–µ–ª—å–∑—è —Ä–µ—à–∏—Ç—å, –Ω–∞–ø–∏—Å–∞–≤ –Ω–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ Emacs Lisp, —Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
–ø—Ä–æ–±–ª–µ–º—ã –≤–ø–æ–ª–Ω–µ —Å–µ–±–µ —Ä–µ—à–∞–µ–º—ã –ø–æ–¥–æ–±–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.

* –ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –±–ª–æ–≥–∞
:PROPERTIES:
:CUSTOM_ID: generator-first-version
:END:

–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä–æ —è —Å–¥–µ–ª–∞–ª –ø–µ—Ä–≤—É—é –≤–µ—Ä—Å–∏—é –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ OrgMode‚áíJekyll –Ω–∞ –æ—Å–Ω–æ–≤–µ
bash, sed, pandoc –∏ —Å–∞–º–æ–ø–∏—Å–Ω–æ–≥–æ Java-—Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è pandoc¬†‚Äî –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –µ—ë
–ø–æ—á—Ç–∏ –≥–æ–¥.

–í—Å–µ –ø–æ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª —ç—Ç–æ—Ç –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä, –±—ã–ª–∏ —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
=articles/=, –∫–∞–∂–¥—ã–π –≤ —Å–≤–æ—ë–º –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–µ:

#+begin_example
rsync/blog (master) % tree --noreport articles
articles/
‚îú‚îÄ‚îÄ arms/
‚îú‚îÄ‚îÄ cycling/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2020-05-17-thanks-for-living/
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-ru.org
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ hate of car drivers.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ kamennoostrovskii.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ trollface.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ truck.gif
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ ushakovski most.jpg
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2021-04-08-vk-cyclist-types/
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-ru.org
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ hate of car drivers.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ usual-seat-as-urbanist-thinks.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ usual-seat.jpg
‚îú‚îÄ‚îÄ it/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2020-09-09-thinkpad-x220-freebsd/
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-en.org
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-ru.org
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ freebsd_intel_glitches.jpg
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2023-12-20-plain-text-accounting/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2024-01-02-life-in-console/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2024-07-07-thinkpad-x220-second-life/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2024-10-27-freebsd-bhyve-windows/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 2024-11-09-emacs-plugin-jekyll-blog/
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ draft-palm-tung-e2-archaeological/
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231223_141710.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231223_142550.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231230_200500.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231231_144949.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20231231_205901.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20240101_162620.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20240101_215815.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ 20240101_215908.jpg
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ article-ru.org
‚îú‚îÄ‚îÄ leatherwork/
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ 2021-01-29-leatherwork-useful-links/
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ article-ru.org
‚îî‚îÄ‚îÄ photo/
#+end_example

–≠—Ç—É –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —è –∏—Å–ø–æ–ª—å–∑—É—é –¥–æ —Å–∏—Ö –ø–æ—Ä. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–º–µ—Ç—å –ø–µ—Ä–µ–¥
–≥–ª–∞–∑–∞–º–∏ –≤—Å–µ, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ—Å—Ç—É, —Ñ–∞–π–ª—ã. –ö —Ç–æ–º—É –∂–µ, —è –º–æ–≥—É –æ—Ç–∫—Ä—ã—Ç—å
org-—Ñ–∞–π–ª —Å –ø–æ—Å—Ç–æ–º –≤ Emacs –∏ —Å—Ä–∞–∑—É –∂–µ —É–≤–∏–∂—É –µ–≥–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤ —Ç–æ–º –∂–µ –≤–∏–¥–µ, –≤
–∫–∞–∫–æ–º –æ–Ω –ø–æ–ø–∞–¥—ë—Ç –≤ –±–ª–æ–≥:

#+CAPTION: –ß–µ—Ä–Ω–æ–≤–∏–∫ –ø–æ—Å—Ç–∞, –æ—Ç–∫—Ä—ã—Ç—ã–π –≤ Emacs
#+ATTR_HTML: :align center :alt Post's draft, opened in Emacs
[[file:emacs-blog-post.png]]

–í –∫–∞—Ç–∞–ª–æ–≥–µ —Å –±–ª–æ–≥–æ–º —è —Å–æ–∑–¥–∞–ª —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π =Makefile=, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–ª –Ω–µ –º–µ–Ω–µ–µ
—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π bash-—Å–∫—Ä–∏–ø—Ç. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–ª –∫–∞—Ç–∞–ª–æ–≥ =articles/= –∏ –ø–æ–º–µ—â–∞–ª
–Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å —Ç–µ–∫—Å—Ç–∞–º–∏ –ø–æ—Å—Ç–æ–≤ –≤ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–Ω–≤–µ–π–µ—Ä:

#+BEGIN_SRC plantuml :exports none :file first_generator.png
@startuml
!theme sunlust
skinparam handwritten true
scale 2.2

title Org2HTML conveyor

() "OrgMode files" as OrgModeSrc
() "HTML files" as HtmlFiles
package "Makefile" {
  package "Shell script" {
    [sed] as sed1
    OrgModeSrc - sed1
    note right of sed1 : Fixes links to static files
    sed1 ..> [awk] : Patched OrgMode files
    note left of [awk] : Inserts language code to header
    [pandoc] as pandoc1
    [awk] ..> pandoc1 : Patched OrgMode files
    note right of pandoc1 : Translates OrgMode to AST
    pandoc1 ..> [Java filter] : AST
    note left of [Java filter]
      Inserts language code to
      proper place, inserts
      path to banner image
      and summary
    end note
    [pandoc] as pandoc2
    note right of pandoc2 : Translates AST to Markdown
    [Java filter] ..> pandoc2 : Patched AST
    [sed] as sed2
    note left of sed2 : Fixes titles in generated files
    pandoc2 ..> sed2 : Markdown files
  }
  sed2 ..> [bundle exec jekyll build] : Patched Markdown files
}
[bundle exec jekyll build] - HtmlFiles

footer //First and obsolete version, not in use!//
@enduml
#+END_SRC

#+CAPTION: –ö–æ–Ω–≤–µ–π–µ—Ä, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏–π org-—Ñ–∞–π–ª—ã –≤ HTML-—Ñ–∞–π–ª—ã
#+ATTR_HTML: :align center :alt Conveyor for Org2HTML transformation
[[file:first_generator.png]]

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–π—Å—è –∫–æ–¥ –º–æ–∂–Ω–æ –≤–æ—Ç [[https://github.com/eugeneandrienko/eugeneandrienko.github.io/blob/3b70ec4997a063fdd3c1bf4c23c3c9a5d78b78e3/README.org][–≤ —ç—Ç–æ–º –∫–æ–º–º–∏—Ç–µ]], –≤ —Ñ–∞–π–ª–µ
=README.org=. –ö–æ–¥ –¥–ª—è Java-—Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è pandoc –ª–µ–∂–∏—Ç [[https://github.com/eugeneandrienko/pandoc_jekyll][–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏]].

–û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –≤—Å—ë —ç—Ç–æ –±—ã–ª–æ –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω–µ–Ω–æ. –ì–æ—Ä–∞–∑–¥–æ —É–¥–æ–±–Ω–µ–µ –±—ã–ª–æ –±—ã, –µ—Å–ª–∏ –±—ã
–∏—Ç–æ–≥–æ–≤—ã–π HTML-—Ñ–∞–π–ª –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ OrgMode, –±–µ–∑ –≤—Å—è–∫–∏—Ö
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π. –¢–µ–º –±–æ–ª–µ–µ, —á—Ç–æ –≤ OrgMode —É–∂–µ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è
—ç–∫—Å–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã.

–ò —Ç—É—Ç –≤ Mastodon –º–Ω–µ –ø–æ–ø–∞–ª–∞—Å—å –Ω–∞ –≥–ª–∞–∑–∞ —Å—Ç–∞—Ç—å—è [[https://mastodon.social/@fabrik42][Christian Dewein]]: [[https://christiandewein.com/publishing-with-jekyll-emacs-org-mode][Publishing on
the web with Jekyll, Emacs and Org-Mode]]...

* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Jekyll-–±–ª–æ–≥–∞ c –ø–æ–º–æ—â—å—é Emacs Lisp
:PROPERTIES:
:CUSTOM_ID: emacs-lisp-jekyll-gen
:END:

–ö–∞–∫ –æ–∫–∞–∑–∞–ª–æ—Å—å, –≤–µ—Å—å –º–æ–π –∫–æ–Ω–≤–µ–π–µ—Ä –∏–∑ =sed= + =awk= + =pandoc= + =Java-—Ñ–∏–ª—å—Ç—Ä= –º–æ–∂–Ω–æ
—Å–ø–æ–∫–æ–π–Ω–æ –≤—ã–∫–∏–Ω—É—Ç—å –∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
=org-publish-project=[fn:org-publish-project]. Org Mode —Å–∞–º –º–æ–∂–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
org-—Ñ–∞–π–ª—ã –≤ HTML-—Ñ–∞–π–ª—ã, —Å—Ä–∞–∑—É –≥–æ—Ç–æ–≤—ã–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Jekyll, –±–µ–∑
–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ Markdown‚áíHTML.

–£ –º–µ–Ω—è —É–∂–µ –±—ã–ª –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –æ–ø—ã—Ç –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Lisp, –∞ —Ç–æ—á–Ω–µ–µ –Ω–∞
Clojure[fn:clojure], –ø–æ—ç—Ç–æ–º—É —è —Å–ø–æ–∫–æ–π–Ω–æ –≤–∑—è–ª—Å—è –ø–∏—Å–∞—Ç—å —Å–≤–æ–π –ø–ª–∞–≥–∏–Ω, –ø–æ –º–æ—Ç–∏–≤–∞–º
–∫–æ–¥–∞ –æ—Ç [[https://mastodon.social/@fabrik42][Christian Dewein]]. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ Emacs Lisp –≤ Emacs –æ–¥–Ω–æ
—É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ¬†‚Äî —Ç—É—Ç —Ç–µ–±–µ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ —è–∑—ã–∫—É —á–µ—Ä–µ–∑ =C-h f=, =C-h v= –∏ —Ç–∞–∫
–¥–∞–ª–µ–µ. –ò –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π REPL (=M-x ielm=). –ò –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ—Ç–ª–∞–¥—á–∏–∫. –ú–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ
–∏–≥—Ä–∞—Ç—å—Å—è —Å [[https://www.s-expressions.org/home][S-expressions]], —Å—Ä–∞–∑—É –∂–µ –ø—Ä–æ–≤–µ—Ä—è—è –∫–∞–∫ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è –∫—É—Å–∫–∏ –∫–æ–¥–∞ –≤ REPL
–∏ —Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É ¬´–ø–æ –∫–∏—Ä–ø–∏—á–∏–∫–∞–º¬ª.

** –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ org-—Ñ–∞–π–ª–æ–≤ –≤ HTML
:PROPERTIES:
:CUSTOM_ID: convert-org2html
:END:

–í—ã—à–µ—É–ø–æ–º—è–Ω—É—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è =org-publish-project= —É–º–µ–µ—Ç –±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ –æ–¥–Ω–æ–≥–æ
–∫–∞—Ç–∞–ª–æ–≥–∞, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –¥—Ä—É–≥–æ–π –∫–∞—Ç–∞–ª–æ–≥. –ß—Ç–æ,
–∫—É–¥–∞ –∏ –∫–∞–∫ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Å –∏–º–µ–Ω–µ–º
=org-publish-project-alist=, –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ¬†‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è
—Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞.

–ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —É–º–µ–µ—Ç –±—Ä–∞—Ç—å org-—Ñ–∞–π–ª—ã –∫–∞—Ç–∞–ª–æ–≥–∞ =~/test=, –ø–µ—Ä–µ–≥–æ–Ω—è—Ç—å –∏—Ö –≤ HTML –¥–ª—è
Jekyll –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ =~/results=, –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–æ—Ç —Ç–∞–∫:

#+begin_src emacs-lisp
(let ((org-publish-project-alist `(("org-jekyll-org"
                                    :base-directory "~/test"
                                    :base-extension "org"
                                    :publishing-directory "~/results"
                                    :publishing-function org-html-publish-to-html
                                    :html-extension "html"
                                    :headline-levels 5
                                    :html-toplevel-hlevel 2
                                    :html-html5-fancy t
                                    :html-table-attributes (:border "2" :cellspacing "0" :cellpadding "6" :frame "void")
                                    :section-numbers nil
                                    :html-inline-images t
                                    :htmlized-source t
                                    :with-toc nil
                                    :with-sub-superscript nil
                                    :body-only t
                                    :recursive t))))
  (org-publish-project "org-jekyll-org" t nil))
#+end_src

–ò–∑ –≤–∞–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–¥–µ—Å—å –µ—Å—Ç—å:
- =:base-directory= ‚Äî –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É, –æ—Ç–∫—É–¥–∞ –±—É–¥—É—Ç –±—Ä–∞—Ç—å—Å—è —Ñ–∞–π–ª—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞.
- =:base-extension= ‚Äî –∫–∞–∫–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É —Ñ–∞–π–ª–æ–≤ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞.
- ~:publishing-directory~ ‚Äî –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É, –∫—É–¥–∞ –±—É–¥—É—Ç –ø–æ–º–µ—â–∞—Ç—å—Å—è HTML-—Ñ–∞–π–ª—ã
  –ø–æ—Å–ª–µ —ç–∫—Å–ø–æ—Ä—Ç–∞.

–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–∞–∑–Ω—ã–µ —Ç–æ–Ω–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ HTML, —Å
–∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∏ –ø–æ—Å—Ç—ã –≤ –±–ª–æ–≥–µ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫, –∫–∞–∫ —è —Ö–æ—á—É.

–ù–µ–ø–ª–æ—Ö–æ –±—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏–º–µ–Ω–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤, —á—Ç–æ–±—ã –Ω–µ –∫–æ–ø–∞—Ç—å—Å—è
–∫–∞–∂–¥—ã–π —Ä–∞–∑ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ, –º–µ–Ω—è—è —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã. –î–ª—è —ç—Ç–æ–≥–æ –≤ Emacs Lisp
–µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è =defcustom=[fn:defcustom]. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è
–ø–ª–∞–≥–∏–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã –∏—Ö –º–æ–∂–Ω–æ –±—ã–ª–æ –º–µ–Ω—è—Ç—å –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏¬†‚Äî —á–µ—Ä–µ–∑ =M-x
customize= –∏–ª–∏ —á–µ—Ä–µ–∑ —Å–µ–∫—Ü–∏—é =:custom= –≤ =use-package=:

#+CAPTION: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å M-x customize
#+ATTR_HTML: :align center :alt Emacs M-x customize
[[file:customize.png]]

–ü—É—Ç–∏ –∫ –Ω—É–∂–Ω—ã–º –∫–∞—Ç–∞–ª–æ–≥–∞–º —è –æ–ø–∏—Å–∞–ª —á–µ—Ä–µ–∑ =defcustom= —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

#+begin_src emacs-lisp
(defgroup org-jekyll ()
  "Emacs mode to write on OrgMode for Jekyll blog."
  :group 'local
  :prefix "org-jekyll-"
  :link '(url-link :tag "Source code" "https://github.com/eugeneandrienko/eugeneandrienko.github.io"))

(defgroup org-jekyll-paths nil
  "Paths for emacs mode to write on OrgMode for Jekyll blog."
  :group 'org-jekyll
  :prefix "org-jekyll-paths-")

(defcustom org-jekyll-paths-base-path
  "~/rsync/blog"
  "Path to the base directory of my blog."
  :type 'directory
  :group 'org-jekyll-paths)

(defcustom org-jekyll-paths-articles-path
  (concat org-jekyll-paths-base-path "/articles")
  "Path to directory with original articles in Org format."
  :type 'directory
  :group 'org-jekyll-paths)
#+end_src

–ó–¥–µ—Å—å, –ø–µ—Ä–≤–∞—è S-expression –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π –ø—É–Ω–∫—Ç –º–µ–Ω—é –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Emacs,
–≤—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞—ë—Ç –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –ø–æ–¥–ø—É–Ω–∫—Ç, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –¥–≤–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏¬†‚Äî —Å
–ø—É—Ç—ë–º –∫ –∫–∞—Ç–∞–ª–æ–≥—É —Å–æ –≤—Å–µ–º–∏ —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è –±–ª–æ–≥–∞ –∏ —Å –ø—É—Ç—ë–º –∫ –∫–∞—Ç–∞–ª–æ–≥—É —Å–æ —Å—Ç–∞—Ç—å—è–º–∏.

–í –∏—Ç–æ–≥–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –≤—ã–∑–æ–≤–µ =org-publish-project= –º–æ–∂–Ω–æ
–ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –≤–æ—Ç —Ç–∞–∫:

#+begin_src emacs-lisp
(let ((org-publish-project-alist `(("org-jekyll-org"
                                    :base-directory ,org-jekyll-paths-articles-path
                                    :base-extension "org"
                                    :publishing-directory ,(concat org-jekyll-paths-base-path "/_posts")
                                    :publishing-function org-html-publish-to-html
#+end_src

–ó–¥–µ—Å—å, –ø—Ä—è–º–æ –≤–Ω—É—Ç—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –µ—Å—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥,
–∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø—É—Ç–∏ –∫ –Ω—É–∂–Ω—ã–º –∫–∞—Ç–∞–ª–æ–≥–∞–º. –ß—Ç–æ–±—ã –≤—Å—ë —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–æ¬†‚Äî –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è
–æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ–º–Ω–æ–≥–æ –∏–Ω–∞—á–µ, —á–µ–º —á–µ—Ä–µ–∑ –ø—Ä–∏–≤—ã—á–Ω—É—é –Ω–æ—Ç–∞—Ü–∏—é ='(1 2 3)=.

–° –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –≤—Å–µ S-expressions –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞
–∏—Å–ø–æ–ª–Ω—è–ª–∏—Å—å¬†‚Äî –≤–µ–¥—å ="org-jekyll-org"= –Ω–µ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –∏–º—è OrgMode –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è
–ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–≤—ã—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤–∏–¥–∞
='("a" "b" "c")=.

#+begin_example
> ("a" "b" "c")
,*** Eval error ***  Invalid function: "a"
> '("a" "b" "c")
("a" "b" "c")
#+end_example

–ù–æ —Å –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –Ω–∞–º –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ S-expressions¬†‚Äî —Ç–æ—Ç –∂–µ =concat= ‚Äî
–≤—Å—ë –∂–µ –∏—Å–ø–æ–ª–Ω—è–ª–∏—Å—å. –í –Ω–∏–∂–µ–ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –≤–∏–¥–Ω–æ, —á—Ç–æ —ç—Ç–æ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç¬†‚Äî
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è =(concat "b" "2")= –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
—Å–ø–∏—Å–∫–∞ –∏ –≤–º–µ—Å—Ç–æ –Ω–µ—ë –Ω–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞ ="b2"=:

#+begin_example
> '("a" (concat "b" "2") "c")

("a"
 (concat "b" "2")
 "c")
#+end_example

–ß—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–ø–∏—Å–æ–∫, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —è–≤–ª—è—é—Ç—Å—è –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
–∫–æ–¥–æ–º, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é –∫–∞–≤—ã—á–∫—É, –≤–º–µ—Å—Ç–æ
–æ–±—ã—á–Ω–æ–π[fn:quoting]. –≠–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏ S-expressions,
–æ—Ç–º–µ—á–∞—é—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∑–∞–ø—è—Ç–æ–π:

#+begin_example
> `("a" ,(concat "b" "2") "c")
("a" "b2" "c")
#+end_example

–í –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã—à–µ–ø—Ä–∏–≤–µ–¥—ë–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ =org-publish-project= –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è
–ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è org-—Ñ–∞–π–ª–æ–≤ –≤ HTML. –ù–æ –º–æ–π —Å–ª—É—á–∞–π –Ω–µ –∏–¥–µ–∞–ª—å–Ω—ã–π¬†‚Äî —É –º–µ–Ω—è org-—Ñ–∞–π–ª—ã
–Ω–µ –ª–µ–∂–∞—Ç –≤—Å–µ —Å–∫–æ–ø–æ–º –≤ –æ–¥–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ, –∞ –∫–∞–∂–¥—ã–π –≤ —Å–≤–æ—ë–º –æ—Ç–¥–µ–ª—å–Ω–æ–º
–ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–µ!

–ó–Ω–∞—á–∏—Ç, –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º =org-publish-project= –Ω—É–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å —Å–≤–æ—é —Å–∞–º–æ–ø–∏—Å–Ω—É—é
—Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–∫–æ–ø–∏—Ä—É–µ—Ç org-—Ñ–∞–π–ª—ã —Å –ø–æ—Å—Ç–∞–º–∏ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥, –æ—Ç–∫—É–¥–∞
–∏—Ö –∏ –≤–æ–∑—å–º—ë—Ç =org-publish-project=. –î–ª—è –≤—ã–∑–æ–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–¥
–Ω–∞—á–∞–ª–æ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –µ—Å—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä =:preparation-function=, —Å –∫–æ—Ç–æ—Ä—ã–º –Ω–∞—à –∫–æ–¥
–Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–æ—Ç —Ç–∞–∫:

#+begin_src emacs-lisp
(let ((org-publish-project-alist `(("org-jekyll-org"
                                    :base-directory ,(concat org-jekyll-paths-base-path "/_articles")
                                    :base-extension "org"
                                    :publishing-directory ,(concat org-jekyll-paths-base-path "/_posts")
                                    :preparation-function org-jekyll--prepare-articles
#+end_src

–ö–∞–∫ –≤–∏–¥–Ω–æ, —Ç—É—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å org-—Ñ–∞–π–ª–∞–º–∏ –¥–ª—è =org-publish-project= —É–∂–µ
—É–∫–∞–∑–∞–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ =_articles/=.

** –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥
:PROPERTIES:
:CUSTOM_ID: copy-2-tmp-catalog
:END:

–°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ org-—Ñ–∞–π–ª–æ–≤ —Å –ø–æ—Å—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
=articles/=. –ï–≥–æ –Ω–∞–º –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏—è
=directory-files-recursively=[fn:directory-files-recursively], –µ—Å–ª–∏ –µ–π –ø–µ—Ä–µ–¥–∞—Ç—å
–ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É –∏ —Ä–µ–≥—É–ª—è—Ä–∫—É, –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç –≤—ã–±–∏—Ä–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ org-—Ñ–∞–π–ª—ã:

#+begin_src emacs-lisp
(directory-files-recursively org-jekyll-paths-articles-path "\\.org$" nil nil nil)

("~/rsync/blog/articles/cycling/2020-05-17-thanks-for-living/article-ru.org"
 "~/rsync/blog/articles/cycling/2021-04-08-vk-cyclist-types/article-ru.org"
 "~/rsync/blog/articles/cycling/2021-04-12-balticstar-north-open-2021/article-ru.org"
 "~/rsync/blog/articles/cycling/2021-05-17-insled-open/article-ru.org"
 "~/rsync/blog/articles/cycling/draft-osmand-howto/article-ru.org"
 "~/rsync/blog/articles/cycling/draft-qmapshack-howto/article-ru.org"
 ...
 "~/rsync/blog/articles/_post_template.org")
#+end_src

–ö–∞–∫ –≤–∏–¥–Ω–æ, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –µ—Å—Ç—å –∏ —á–µ—Ä–Ω–æ–≤–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤
HTML, –∏ —Ñ–∞–π–ª —Å —à–∞–±–ª–æ–Ω–æ–º –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤. –≠—Ç–∏ –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –º–æ–∂–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å
–ø—Ä–∏ –ø–æ–º–æ—â–∏ =seq-filter=[fn:seq-filter] ‚Äî –æ–Ω —É–º–µ–µ—Ç —É–±–∏—Ä–∞—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ (–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è
–≤—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º) —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫—É –≤ –ø—Ä–µ–¥–∏–∫–∞—Ç–µ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ
–ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

#+begin_src emacs-lisp
(seq-filter (lambda (path)
              (and
               (not (string-match org-jekyll-exclude-regex path))
               (not (string-match "\\(draft-\\)\\|\\(hidden-\\)" path))))
            (directory-files-recursively org-jekyll-paths-articles-path "\\.org$" nil nil nil))
#+end_src

–ü—Ä–µ–¥–∏–∫–∞—Ç¬†‚Äî –æ–±—ã—á–Ω–∞—è –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø—É—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–µ
—è–≤–ª—è–µ—Ç—Å—è –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É —Å —à–∞–±–ª–æ–Ω–æ–º =_post_template.org= –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ
–∫–∞—Ç–∞–ª–æ–≥–æ–≤, –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å =draft= –∏–ª–∏ =hidden=.

–ó–¥–µ—Å—å =org-jekyll-exclude-regex= ‚Äî –µ—â—ë –æ–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º,
–ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç –æ—Ç–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ –ø—É—Ç–∏ –∫ org-—Ñ–∞–π–ª–∞–º:

#+begin_src emacs-lisp
(defcustom org-jekyll-exclude-regex
  "\\(_post_template\\.org\\)\\|\\(\\.project\\)"
  "Regex to exclude unwanted files."
  :type 'regexp
  :group 'org-jekyll)
#+end_src

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —É –Ω–∞—Å –µ—Å—Ç—å /–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π/ —Å–ø–∏—Å–æ–∫ –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º, –Ω–∞–¥–æ –∫–∞–∂–¥—ã–π –µ–≥–æ
—ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏
=mapc=[fn:mapc], –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∫ –∫–∞–∂–¥–æ–º—É
—ç–ª–µ–º–µ–Ω—Ç—É —Å–ø–∏—Å–∫–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–º—É –≤—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º:

#+begin_src emacs-lisp
(mapc (lambda (article)
        (
         ;; copy file in `article' path here
         )
        (seq-filter (lambda (path)
              (and
               (not (string-match org-jekyll-exclude-regex path))
               (not (string-match "\\(draft-\\)\\|\\(hidden-\\)" path))))
                    (directory-files-recursively org-jekyll-paths-articles-path "\\.org$" nil nil nil))
#+end_src

–≠–ª–µ–º–µ–Ω—Ç—ã –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π =article=: –¥–∞—Ç–∞, URL –∏ –∫–æ–¥ —è–∑—ã–∫–∞[fn:lang_code]¬†‚Äî —è
–∏—Å–ø–æ–ª—å–∑—É—é, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ
–∫–∞—Ç–∞–ª–æ–≥–∞. –ß—Ç–æ–±—ã –≤—ã—Ç–∞—â–∏—Ç—å –≤—Å—ë —á—Ç–æ –Ω–∞–¥–æ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É¬†‚Äî –µ—Å—Ç—å
—Ä–µ–≥—É–ª—è—Ä–∫–∏ —Å capturing groups. –í Emacs –¥–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏
=string-match= –∏ =match-string=[fn:regex-search]:

#+begin_src emacs-lisp
(string-match
 (concat org-jekyll-paths-articles-path
         "/\\(\\w+\\)/\\([0-9-]+\\)-\\([[:alnum:]-]+\\)/article-\\([[:lower:]]\\{2\\}\\)\\.org$")
 "~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org")
0 (#o0, #x0, ?\C-@)

(match-string 1 "~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org")
"photo"

(match-string 2 "~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org")
"2024-09-01"

(match-string 3 "~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org")
"summer-photos-2024"

(match-string 4 "~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org")
"en"
#+end_src

–í –∫–æ–¥–µ –ª—è–º–±–¥—ã —è –∑–∞–≤–æ—Ä–∞—á–∏–≤–∞—é –≤—Å—ë —ç—Ç–æ –≤ =let*=[fn:let-star], —á—Ç–æ–±—ã –≤–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–∏
–ø—Ä–æ—Å—Ç–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:

#+begin_src emacs-lisp
(lambda (article)
          (progn
            (string-match
             (concat org-jekyll-paths-articles-path
                     "/\\(\\w+\\)/\\([0-9-]+\\)-\\([[:alnum:]-]+\\)/article-\\([[:lower:]]\\{2\\}\\)\\.org$")
             article)
            (let*
                ((article-category (match-string 1 article))
                 (article-date (match-string 2 article))
                 (article-slug (match-string 3 article))
                 (article-lang (match-string 4 article)))
              (
                                        ;copy-file-here
               )))
#+end_src

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞, –¥–æ–±–∞–≤–∏–º —Å—é–¥–∞ –µ—â—ë –ø–∞—Ä—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
1. –ü–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å –∏–º–µ–Ω–µ–º –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞: –ø—É—Ç—å –∫ =_articles/= +
   =article-lang=. –ü—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É =_articles/= –º–æ–∂–Ω–æ –≤—ã—Ç–∞—â–∏—Ç—å –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞
   ="org-jekyll-org"= ‚Äî —Å–ø–∏—Å–æ–∫ —Å —ç—Ç–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –≤–∏–¥–µ
   –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é =org-jekyll--prepare-articles= –∏ –ø–æ –∏–º–µ–Ω–∏
   –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (=:base-directory=) –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ[fn:plist-get]:
   #+begin_src emacs-lisp
   (article-new-catalog (concat
                         (plist-get property-list ':base-directory)
                         "/"
                         article-lang))
   #+end_src
2. –ü–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É —Å–æ —Å—Ç–∞—Ç—å—ë–π –≤ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ:
   #+begin_src emacs-lisp
   (article-processed (concat article-new-catalog "/" article-date "-" article-slug ".org"))
   #+end_src

–í –∏—Ç–æ–≥–µ, –µ—Å–ª–∏ –∫ –Ω–∞–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π =article= –ø—Ä–∏—à—ë–ª –ø—É—Ç—å
=~/rsync/blog/articles/photo/2024-09-01-summer-photos-2024/article-en.org=, —Ç–æ –≤
–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π =article-processed= –±—É–¥–µ—Ç –Ω–æ–≤—ã–π –ø—É—Ç—å:
=~/rsync/blog/_articles/en/2024-09-01-summer-photos-2024.org=.

–¢–µ–ø–µ—Ä—å, —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç) –∏
–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–µ–ª–∞–µ—Ç—Å—è –≤—ã–∑–æ–≤–æ–º –ø–∞—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –≤ —Ç–µ–ª–µ =let*=:

#+begin_src emacs-lisp
(make-directory article-new-catalog t)
(copy-file article article-processed t t t t)
#+end_src

–ò—Ç–æ–≥–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è ~org-jekyll--prepare-articles~ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

#+begin_src emacs-lisp
(defun org-jekyll--prepare-articles (property-list)
  "Copy articles to `_articles/' catalog before publishing. Rename
article file from `article-LANG.org' to
`YYYY-MM-DD-short-url.org'.

PROPERTY-LIST is a list of properties from
`org-publish-project-alist'."
  (mapc (lambda (article)
          (progn
            (string-match
             (concat org-jekyll-paths-articles-path
                     "/\\(\\w+\\)/\\([0-9-]+\\)-\\([[:alnum:]-]+\\)/article-\\([[:lower:]]\\{2\\}\\)\\.org$")
             article)
            (let*
                ((article-category (match-string 1 article))
                 (article-date (match-string 2 article))
                 (article-slug (match-string 3 article))
                 (article-lang (match-string 4 article))
                 (article-new-catalog (concat
                                       (plist-get property-list ':base-directory)
                                       "/"
                                       article-lang))
                 (article-processed (concat article-new-catalog "/" article-date "-" article-slug ".org")))
              (make-directory article-new-catalog t)
              (copy-file article article-processed t t t t))))
        (seq-filter (lambda (path)
                      (and
                       (not (string-match org-jekyll-exclude-regex path))
                       (not (string-match "\\(draft-\\)\\|\\(hidden-\\)" path))))
                    (directory-files-recursively org-jekyll-paths-articles-path "\\.org$" nil nil nil))))
#+end_src

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–≤—è–∑–∫–µ —Å ~org-publish-project~. –ù–æ –µ—Å—Ç—å –æ–¥–∏–Ω
–Ω—é–∞–Ω—Å¬†‚Äî –≤ –∏—Ç–æ–≥–æ–≤–æ–º HTML —Ñ–∞–π–ª–µ –æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –±–∏—Ç—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –∫
–ø–æ—Å—Ç—É. –ü–æ—Å–∫–æ–ª—å–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–º org-—Ñ–∞–π–ª–µ —É–∫–∞–∑–∞–Ω—ã –ø—É—Ç–∏ –∫ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ
–∫–∞—Ç–∞–ª–æ–≥–∞ —Å —ç—Ç–∏–º —Ñ–∞–π–ª–æ–º¬†‚Äî —ç—Ç–∏ –ø—É—Ç–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ç–∞–∫–æ–º –∂–µ –≤–∏–¥–µ –≤ HTML.

–ù–æ –≤ Jekyll —Ç–∞–∫–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –ª–µ–∂–∞—Ç –ø–æ –ø—É—Ç–∏ =/assets/static=. –†–µ—à–µ–Ω–∏–µ —Ç—É—Ç
–ø—Ä–æ—Å—Ç–æ–µ¬†‚Äî –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ =copy-file= –ø–æ–º–µ–Ω—è—Ç—å –ø—É—Ç–∏ –≤ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–º
—Ñ–∞–π–ª–µ. –î–ª—è —ç—Ç–æ–≥–æ —è –Ω–∞–ø–∏—Å–∞–ª –ø—Ä–æ—Å—Ç–æ –µ—â—ë –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é:

#+begin_src emacs-lisp
(defun org-jekyll--prepare-article (article)
  "Prepare article's text for Jekyll.

Modify OrgMode file before publish it. ARTICLE is a path to
OrgMode file with article. Files, stored in `_articles/' will be
modified, not original articles from `org-jekyll-paths-articles-path'
path.

ARTICLE is a path to intermediate org-file with article text"
  (with-temp-buffer
    (insert-file-contents article)
    (goto-char (point-min))
    (while (search-forward "[‚Äéfile:" nil t)
      (replace-match "[‚Äèfile://assets/static/" t t))
    (write-file article)))
#+end_src

–í—Å—ë, —á—Ç–æ –æ–Ω–∞ –¥–µ–ª–∞–µ—Ç¬†‚Äî –∏—â–µ—Ç –≤ org-—Ñ–∞–π–ª–µ –ø–æ –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π =article= –≤–∫–ª—é—á–µ–Ω–∏—è
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤–∏–¥–∞ =[f‚Äéile:somefile.ext]= –∏ –º–µ–Ω—è–µ—Ç –∏—Ö –Ω–∞
=[f‚Äéile://assets/static/somefile.ext]=.

** –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Ñ–∞–π–ª–æ–≤
:PROPERTIES:
:CUSTOM_ID: html-file-editing
:END:

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, =org-publish-project= –≤—Å—Ç–∞–≤–ª—è–µ—Ç –≤ HTML-—Ñ–∞–π–ª –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ —è —Ç–∞–º –Ω–µ
—Ö–æ—á—É –≤–∏–¥–µ—Ç—å:
- –†–∞–Ω–¥–æ–º–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ID –∏–∑ HTML-—Ç—ç–≥–æ–≤
- –ù—É–º–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –¢—ç–≥ =:TOC_2_blog:= –ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ ¬´TOC¬ª. –≠—Ç–æ—Ç —Ç–µ–≥ –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
  [[https://github.com/snosov1/toc-org/][toc-org]] –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–æ[fn:toc-org] —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–ª—è –ø–æ—Å—Ç–∞ –ø—Ä–∏
  –∫–∞–∂–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞.
- –õ–∏—à–Ω–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –ø—Ä–∏–º–µ—á–∞–Ω–∏–π, –ø—Ä–∏—á—ë–º –Ω–µ –Ω–∞ —è–∑—ã–∫–µ –ø–æ—Å—Ç–∞.

–†–µ—à–µ–Ω–∏–µ —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–µ –∂–µ, –∫–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å –ø—Ä–∞–≤–∫–æ–π –ø—É—Ç–µ–π –∫
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Ñ–∞–π–ª–∞–º¬†‚Äî –Ω—É–∂–Ω–∞ –µ—â—ë –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —É–¥–∞–ª—è—Ç—å –≤—Å—ë –ª–∏—à–Ω–µ–µ
–∏–∑ HTML –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ä–µ–≥—É–ª—è—Ä–æ–∫. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö =org-publish-project= –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å
—ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ =:completion-function=, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—ã–∑—ã–≤–∞–ª–∞—Å—å –ø–æ—Å–ª–µ
—ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ HTML.

–°–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–∞—è. –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É —Å HTML
—Ñ–∞–π–ª–∞–º–∏ –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ =org-publish-project= –∏ –ø–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—É—Ç–µ–π –∫ —ç—Ç–∏–º —Ñ–∞–π–ª–∞–º,
–∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –ª—è–º–±–¥—É:

#+begin_src emacs-lisp
(defun org-jekyll--complete-articles (property-list)
  "Change published html-files via regular expressions.

Fix links to attached files. Remove \"Footnotes:\" section from
generated file. Remove autogenerated Org ids from html tags.

PROPERTY-LIST is a list of properties from
`org-publish-project-alist'."
  (let*
      ((publishing-directory (plist-get property-list ':publishing-directory)))
    (mapc (lambda (html)
            ; process `html' file
            )
          (directory-files-recursively publishing-directory "\\.html$" nil nil nil))))
#+end_src

–í–Ω—É—Ç—Ä–∏ –ª—è–º–±–¥—ã –µ—Å—Ç—å –µ—â—ë –æ–¥–∏–Ω –≤—ã–∑–æ–≤ =mapc=, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º —Ä–µ–≥—É–ª—è—Ä–æ–∫:

#+begin_src emacs-lisp
(mapc (lambda (x)
        (progn
          (goto-char (point-min))
          (while (re-search-forward (car x) nil t)
            (replace-match (cdr x) t nil))))
      '(("file://" . "/")
        ("<p><span class=\"figure-number\">[[:alnum:] :]+</span>\\(.+\\)</p>" . "<p style=\"text-align: center\"><i>\\1</i></p>")
        ("<h2 class=\"footnotes\">Footnotes: </h2>" . "")
        (" id=\"org[[:xdigit:]]\\{7\\}\"" . "")
        (" id=\"outline-container-org[[:xdigit:]]\\{7\\}\"" . "")
        (" id=\"text-org[[:xdigit:]]\\{7\\}\"" . "")
        ("<span class=\"TOC_2_blog\">TOC_2_blog</span>" . "")))
#+end_src

–ó–¥–µ—Å—å –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞¬†‚Äî –µ—â—ë –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫ –∏–∑ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ü–µ—Ä–≤—ã–π
—ç–ª–µ–º–µ–Ω—Ç¬†‚Äî —Ä–µ–≥—É–ª—è—Ä–∫–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –∏—â–µ—Ç—Å—è —Ç–µ–∫—Å—Ç –¥–ª—è –∑–∞–º–µ–Ω—ã. –í—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç¬†‚Äî
—Ç–µ–∫—Å—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞–π–¥–µ–Ω–Ω–æ–µ. –û–±—Ä–∞—â–µ–Ω–∏—è –∫ —ç—Ç–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ –∫–æ–¥–µ
–ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø—Ä–∏ –ø–æ–º–æ—â–∏ =(car x)= –∏ =(cdr x)= —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ó–∞–º–µ–Ω–∞ —Ç–µ–∫—Å—Ç–∞
–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –¥–ª—è Emacs —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏
–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—É—Ñ–µ—Ä—ã.

–ò—Ç–æ–≥–æ–≤—ã–π –∫–æ–¥ =org-jekyll--complete-articles= –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

#+begin_src emacs-lisp
(defun org-jekyll--complete-articles (property-list)
  "Change published html-files via regular expressions.

Fix links to attached files. Remove \"Footnotes:\" section from
generated file. Remove autogenerated Org ids from html tags.

PROPERTY-LIST is a list of properties from
`org-publish-project-alist'."
  (let*
      ((publishing-directory (plist-get property-list ':publishing-directory)))
    (mapc (lambda (html)
            (with-temp-buffer
              (insert-file-contents html)
              (mapc (lambda (x)
                      (progn
                        (goto-char (point-min))
                        (while (re-search-forward (car x) nil t)
                          (replace-match (cdr x) t nil))))
                    '(("file://" . "/")
                      ("<p><span class=\"figure-number\">[[:alnum:] :]+</span>\\(.+\\)</p>" . "<p style=\"text-align: center\"><i>\\1</i></p>")
                      ("<h2 class=\"footnotes\">Footnotes: </h2>" . "")
                      (" id=\"org[[:xdigit:]]\\{7\\}\"" . "")
                      (" id=\"outline-container-org[[:xdigit:]]\\{7\\}\"" . "")
                      (" id=\"text-org[[:xdigit:]]\\{7\\}\"" . "")
                      ("<span class=\"TOC_2_blog\">TOC_2_blog</span>" . "")))
              (write-file html)))
          (directory-files-recursively publishing-directory "\\.html$" nil nil nil))))
#+end_src

** –≠–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
:PROPERTIES:
:CUSTOM_ID: static-files-export
:END:

–ü–æ–Ω—è—Ç–Ω–æ–µ –¥–µ–ª–æ, —á—Ç–æ –æ–¥–Ω–∏—Ö –ª–∏—à—å HTML-—Ñ–∞–π–ª–æ–≤ –¥–ª—è –±–ª–æ–≥–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. –ù—É–∂–Ω—ã –µ—â—ë
–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –ø—Ä–æ—á–∏–µ —Ñ–∞–π–ª—ã.

–ò—Ö –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –ø–æ–º–æ—â–∏ –≤—Å—ë —Ç–æ–π –∂–µ =org-publish-project=, –ø—Ä–∏—á—ë–º
–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ –±—É–¥—É—Ç –≥–æ—Ä–∞–∑–¥–æ –ø—Ä–æ—â–µ:

#+begin_src emacs-lisp
(let ((org-publish-project-alist `(("org-jekyll-static"
                                    :base-directory ,(concat org-jekyll-paths-base-path "/_static")
                                    :base-extension "jpg\\|JPG\\|jpeg\\|png\\|gif\\|webm\\|webp\\|gpx\\|tar.bz2\\|uxf"
                                    :publishing-directory ,(concat org-jekyll-paths-base-path "/assets/static")
                                    :publishing-function org-publish-attachment
                                    :preparation-function org-jekyll--prepare-static
                                    :exclude ,org-jekyll-exclude-regex
                                    :recursive t)))))
#+end_src

–ó–¥–µ—Å—å, –≤ =:base-extension= —É–∫–∞–∑–∞–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç
—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–∞—Ç–∞–ª–æ–≥ =:publishing-directory=.

–≠–∫—Å–ø–æ—Ä—Ç HTML —Ñ–∞–π–ª–æ–≤ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ –æ–¥–Ω–æ–º
¬´–ø—Ä–æ–µ–∫—Ç–µ¬ª, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ –Ω—É–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å —Ñ–∞–π–ª–∞–º–∏ –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤
—Ñ—É–Ω–∫—Ü–∏–∏:

#+begin_src emacs-lisp
(let ((org-publish-project-alist `(("org-jekyll-org"
                                    ...)
                                   ("org-jekyll-static"
                                    ...)
                                   ("org-jekyll" :components ("org-jekyll-org" "org-jekyll-static")))))
  (org-publish-project "org-jekyll" t nil))
#+end_src

–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –∫–æ–¥–∞, –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—â—ë –æ–¥–Ω–∞
=:preparation-function= ‚Äî =org-jekyll--prepare-static=. –û–Ω–∞ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–æ –∂–µ,
—á—Ç–æ –∏ =org-jekyll--prepare-articles= ‚Äî –∫–æ–ø–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞
–ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å –ø–æ—Å—Ç–∞–º–∏ –¥–ª—è –±–ª–æ–≥–∞ –≤ –æ–¥–∏–Ω –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥, –æ—Ç–∫—É–¥–∞ –∏—Ö —Å–º–æ–∂–µ—Ç
–≤–∑—è—Ç—å =org-jekyll-project=. –†–∞–±–æ—Ç–∞–µ—Ç —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫ –∂–µ¬†‚Äî
=directory-files-recursively= –ø—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É =/articles= –∏ –∫–æ–ø–∏—Ä—É–µ—Ç –≤
–∫–∞—Ç–∞–ª–æ–≥ =/_static= –≤—Å–µ —Ñ–∞–π–ª—ã, –∫—Ä–æ–º–µ org-—Ñ–∞–π–ª–æ–≤ —Å —Ç–µ–∫—Å—Ç–∞–º–∏ —Å—Ç–∞—Ç–µ–π:

#+begin_src emacs-lisp
(defun org-jekyll--prepare-static (property-list)
  "Copy static files to `/_static' directory.

PROPERTY-LIST is a list of properties from
`org-publish-project-alist'."
  (let
      ((static-directory (plist-get property-list `:base-directory)))
    (make-directory static-directory t)
    (mapc (lambda (filename)
            (progn
              (string-match (concat org-jekyll-paths-articles-path "/[[:alnum:]-/]+/\\([[:alnum:][:blank:]-_.]+\\)$") filename)
              (let
                  ((static-filename (match-string 1 filename)))
                (copy-file filename (concat static-directory "/" static-filename) t t t t))))
          (seq-filter (lambda (path)
                        (not (string-match
                              (concat org-jekyll-exclude-regex "\\|\\(article-[[:lower:]]+\\.org\\)")
                              path)))
                      (directory-files-recursively org-jekyll-paths-articles-path "." nil nil nil)))))
#+end_src

** –í—ã–∑–æ–≤ Jekyll –∏–∑ Emacs
:PROPERTIES:
:CUSTOM_ID: jekyll-build-from-emacs
:END:

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —É –Ω–∞—Å –ø–æ—è–≤–∏–ª–∏—Å—å –≥–æ—Ç–æ–≤—ã–µ HTML-—Ñ–∞–π–ª—ã –∏ –≤—Å–µ –ø—Ä–æ—á–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ
—Ñ–∞–π–ª—ã, –ª–µ–∂–∞—â–∏–µ –≤ /–Ω—É–∂–Ω—ã—Ö/ –º–µ—Å—Ç–∞—Ö¬†‚Äî –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å Jekyll, —á—Ç–æ–±—ã –æ–Ω —Å–æ–±—Ä–∞–ª –º–æ–π
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–≥ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–∞–ª–æ–≥–∞ =_site/=. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è
–∫–æ–º–∞–Ω–¥–∞ =bundle exec jekyll build=.

–í —Å—Ç–∞—Ç—å–µ [[https://mastodon.social/@fabrik42][Christian Dewein]] –¥–ª—è –≤—ã–∑–æ–≤–∞ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–ª–∞–≥–∏–Ω
[[https://github.com/rejeep/prodigy.el][Prodigy]]. –Ø —Å—á—ë–ª —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω—ë–Ω–Ω—ã–º –∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞—é –æ—Ç–¥–µ–ª—å–Ω—ã–π
–ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏ =make-process=[fn:make-process]:

#+begin_src emacs-lisp
(make-process
 :name "jekyll-build"
 :buffer "jekyll-build"
 :command '("bundle" "exec" "jekyll" "build")
 :delete-exited-processes t
 :sentinel (lambda (process state)
             (cond
              ((and (eq (process-status process) 'exit)
                    (zerop (process-exit-status process)))
               (message "%s" (propertize "Blog built" 'face '(:foreground "blue"))))
              ((eq (process-status process) 'run)
               (accept-process-output process))
              (t (error (concat "Jekyll Build: " state))))))
#+end_src

–ó–¥–µ—Å—å, –ø–æ–º–∏–º–æ –±–∞–Ω–∞–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –Ω—É–∂–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞,
–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –µ—ë –≤—ã–≤–æ–¥ —á–µ—Ä–µ–∑ –ª—è–º–±–¥—É, –∫–æ—Ç–æ—Ä–∞—è –ª–∏–±–æ –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±
—É—Å–ø–µ—Ö–µ, –ª–∏–±–æ –ø–µ—á–∞—Ç–∞–µ—Ç –æ—à–∏–±–∫—É.

–°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–µ—á–∞—Ç–∞—é—Ç—Å—è –≤ minibuffer –ø—Ä–∏ –ø–æ–º–æ—â–∏ —Ñ—É–Ω–∫—Ü–∏–∏
=message=[fn:message], —Ç–µ–∫—Å—Ç–æ–º —Å–∏–Ω–µ–≥–æ —Ç–µ–∫—Å—Ç–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏
=propertize=[fn:propertize]):

#+ATTR_HTML: :align center :alt message function output
[[file:message.png]]

–í—ã–≤–æ–¥ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä =jekyll-build=, –∫–æ—Ç–æ—Ä—ã–π
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ç–æ–º –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–∞ —Å–±–æ—Ä–∫–∏.

–≠–∫—Å–ø–æ—Ä—Ç —Ñ–∞–π–ª–æ–≤ –∏ –∑–∞–ø—É—Å–∫ =bundle exec= –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏
=org-jekyll--suffix-build=, —á—Ç–æ–±—ã –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å org-—Ñ–∞–π–ª—ã –≤ –≥–æ—Ç–æ–≤—ã–π
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç:

#+begin_src emacs-lisp
(defun org-jekyll--suffix-build ()
  "Build the blog."
  (interactive)
  (cd (expand-file-name org-jekyll-paths-base-path))
  (let ((org-publish-project-alist `(("org-jekyll-org"
                                      ...)
                                     ("org-jekyll-static"
                                      ...)
                                     ("org-jekyll" :components ("org-jekyll-org" "org-jekyll-static"))))
        (current-path (file-name-directory buffer-file-name)))
    (cd (expand-file-name org-jekyll-paths-base-path))
    (org-publish-project "org-jekyll" t nil))
  (make-process
   :name "jekyll-build"
   :buffer "jekyll-build"
   :command '("bundle" "exec" "jekyll" "build")
   :delete-exited-processes t
   :sentinel (lambda (process state)
               ...))
  (cd current-path))
#+end_src

–ü–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–æ—Å—Ç–∞ –º—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —Å –ø–æ—Å—Ç–æ–º, –∞ —Å–±–æ—Ä–∫–∞
–±–ª–æ–≥–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
~org-jekyll-paths-base-path~ ‚Äî –º—ã —Å–Ω–∞—á–∞–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω—É–∂–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –∏ —Ç–æ–ª—å–∫–æ
–ø–æ—Ç–æ–º –Ω–∞—á–∏–Ω–∞–µ–º —Å–±–æ—Ä–∫—É. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å–µ –Ω—É–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±—ã–ª–∏ –≤—ã–∑–≤–∞–Ω—ã¬†‚Äî
–≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥ —Å –ø–æ—Å—Ç–æ–º (—Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π =current-path=),
—á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–ø–æ–∫–æ–π–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –µ–≥–æ —Ñ–∞–π–ª–∞–º–∏.

** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞
:PROPERTIES:
:CUSTOM_ID: create-new-post
:END:

–î–æ–±–∏–≤—à–∏—Å—å —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ —Å–≤–æ–µ–≥–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∞–π—Ç–∞, –º–Ω–µ –∑–∞—Ö–æ—Ç–µ–ª–æ—Å—å –∏–º–µ—Ç—å
–æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, —á—Ç–æ–±—ã –ø–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç¬†‚Äî –Ω–µ —Å–æ–∑–¥–∞–≤–∞—è
–≤—Ä—É—á–Ω—É—é –Ω–æ–≤—ã–π –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –Ω–µ–≥–æ –∏ –Ω–µ –∫–æ–ø–∏—Ä—É—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ front matter –¥–ª—è
Jekyll –≤ org-—Ñ–∞–π–ª. –ë—É–¥–µ—Ç —É–¥–æ–±–Ω–æ, –µ—Å–ª–∏ Emacs —Å–∞–º —Å–ø—Ä–æ—Å–∏—Ç —É –º–µ–Ω—è –≤—Å—ë
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ, –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤ –∏ –∫–∞—Ç–∞–ª–æ–≥–æ–≤, –∞ –∑–∞—Ç–µ–º —Å–∞–º –æ—Ç–∫—Ä–æ–µ—Ç
–±—É—Ñ–µ—Ä —Å —É–∂–µ –≥–æ—Ç–æ–≤—ã–º –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–º –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤–≤–æ–¥–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Emacs –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π, –Ω–æ –¥–ª—è
–ø–ª–∞–≥–∏–Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–µ—Ç—ã—Ä—ë—Ö —Å–∞–º—ã—Ö –ø—Ä–æ—Å—Ç—ã—Ö:
- =read-string=: –≤—ã–≤–æ–¥–∏—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –º–∏–Ω–∏–±—É—Ñ–µ—Ä–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É,
  –≤–≤–µ–¥—ë–Ω–Ω—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
- =completing-read=: –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –≤ –º–∏–Ω–∏–±—É—Ñ–µ—Ä–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º
  –ø—É–Ω–∫—Ç–æ–º –º–µ–Ω—é. –≠–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤—Ç–æ—Ä—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º. –¢—Ä–µ—Ç–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä,
  –µ—Å–ª–∏ –æ–Ω –Ω–µ =nil=, –≤–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º —Å—Ç—Ä–æ–≥–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å
  –æ–¥–Ω–∏–º –∏–∑ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é.
- =y-or-n-p=: –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –≤ –º–∏–Ω–∏–±—É—Ñ–µ—Ä–µ –∏ –∂–¥—ë—Ç –æ—Ç–≤–µ—Ç–∞ ¬´–î–∞¬ª –∏–ª–∏ ¬´–ù–µ—Ç¬ª –æ—Ç
  –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç =t= –∏–ª–∏ =nil=.
- =read-file-name=: –≤—ã–≤–æ–¥–∏—Ç –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –≤ –º–∏–Ω–∏–±—É—Ñ–µ—Ä–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å –∫
  –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É.

–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä–æ —è –Ω–∞–±—Ä–æ—Å–∞–ª —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤—Å—ë
–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

#+begin_src emacs-lisp
(let* ((category (completing-read "Enter category: "
                                  (seq-filter
                                   (lambda (category) (string-match "^[[:lower:]]+$" category))
                                   (directory-files org-jekyll-paths-articles-path nil
                                                    directory-files-no-dot-files-regexp
                                                    nil nil))
                                  nil t))
       (name (read-string "Enter title: "))
       (summary (read-string "Enter summary: "))
       (tags (read-string "Enter tags (space separated): "))
       (permalink (read-string "Enter permalink: "))
       (language (completing-read "Enter post language: " org-jekyll-languages nil t))
       (use-banner (y-or-n-p "Use banner?"))
       (banner (if use-banner
                   (read-file-name "Path to banner image: " nil nil t nil nil)
                 nil))))
#+end_src

#+CAPTION: UI —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞
#+ATTR_HTML: :align center :alt new post creation UI
[[file:create_new_post.jpg]]

–í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –∂–µ =let*= —Å—Ä–∞–∑—É –∂–µ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è:
- –ß–∞—Å—Ç—å front matter –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –∑–∞–≥–ª–∞–≤–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –±–ª–æ–≥:
  #+begin_src emacs-lisp
  (additional (concat (if use-banner
                          (concat "image: /assets/static/" (file-name-nondirectory banner) "\n"
                                  "banner:\n"
                                  "  image: /assets/static/" (file-name-nondirectory banner) "\n"
                                  "  opacity: 0.6\n")
                        "")
                      (concat "summary: " summary "\n")
                      (concat "tags: " tags)))
  #+end_src
- –ü—É—Ç—å –∫ –Ω–æ–≤–æ–º—É –ø–æ—Å—Ç—É:
  #+begin_src emacs-lisp
  (dirname (concat path "/" category "/" date "-" permalink))
  #+end_src
- –ò–º—è —Ñ–∞–π–ª–∞ —Å –ø–æ—Å—Ç–æ–º¬†‚Äî –∫ =article= –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–≤–µ–¥—ë–Ω–Ω—ã–π language code:
  #+begin_src emacs-lisp
  (filename (concat dirname "/" "article-" language ".org"))
  #+end_src

–ü–æ—Å–ª–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –≤ —Ç–µ–ª–µ =let*= –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞:
1. –°–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥ —Å —Ä–∞–Ω–µ–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º:
   #+begin_src emacs-lisp
   (make-directory dirname t)
   #+end_src
2. –ï—Å–ª–∏ –¥–ª—è –ø–æ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–∞–Ω–Ω–µ—Ä, —Ç–æ –≤ —ç—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è
   —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
   #+begin_src emacs-lisp
   (if use-banner
       (copy-file banner (concat dirname "/" (file-name-nondirectory banner))))
   #+end_src
3. –ë–µ—Ä—ë—Ç—Å—è —à–∞–±–ª–æ–Ω –¥–ª—è –ø–æ—Å—Ç–∞ –ø–æ –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
   =org-jekyll-paths-template-path= –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º –±—É—Ñ–µ—Ä–µ –¥–ª—è –∑–∞–º–µ–Ω—ã
   placeholder'–æ–≤ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –ü–æ—Ç–æ–º —ç—Ç–æ—Ç –±—É—Ñ–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ —Ñ–∞–π–ª
   —Å –∏–º–µ–Ω–µ–º –∏–∑ =filename=, –ø–æ –ø—É—Ç–∏ –∏–∑ =dirname=:
   {% raw %}
   #+begin_src emacs-lisp
   (with-temp-buffer
     (insert-file-contents template)
     (mapc
      (lambda (x) (progn
                    (goto-char (point-min))
                    (while (search-forward (car x) nil t)
                      (replace-match (cdr x) t t))))
      `(("{%NAME%}" . ,name)
        ("{%CATEGORY%}" . ,category)
        ("{%DATE%}" . ,date)
        ("{%LANG%}" . ,language)
        ("{%ADDITIONAL%}" . ,additional)))
     (write-file filename))
   #+end_src
   {% endraw %}
4. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–º –±—É—Ñ–µ—Ä–µ —Å –∫—É—Ä—Å–æ—Ä–æ–º –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞,
   —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –Ω–∞—á–∞—Ç—å –ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç:
   #+begin_src emacs-lisp
   (with-current-buffer (find-file filename)
     (goto-char (point-max)))
   #+end_src

–®–∞–±–ª–æ–Ω –ø–æ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —è –∏—Å–ø–æ–ª—å–∑—É—é, –ª–µ–∂–∏—Ç –ø–æ –ø—É—Ç–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
=org-jekyll-paths-template-path= (–≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –ª–æ–∫–∞–ª—å–Ω—É—é
–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é =template= –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞):

#+begin_src emacs-lisp
(defcustom org-jekyll-paths-template-path
  (concat org-jekyll-paths-articles-path "/_post_template.org")
  "Path to post template."
  :type '(file :must-match t)
  :group 'org-jekyll-paths)
#+end_src

–£ –º–µ–Ω—è —ç—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–≤–Ω–∞ =~/rsync/blog/articles/_post_template.org=. –°–∞–º —Ñ–∞–π–ª
–≤—ã–≥–ª—è–¥–∏—Ç –≤–æ—Ç —Ç–∞–∫:

{% raw %}
#+begin_example
#+BEGIN_EXPORT html
---
layout: post
title: {%NAME%}
category: {%CATEGORY%}
date: {%DATE%}
lang: {%LANG%}
comments: false
hidden:
  - related_posts
{%ADDITIONAL%}
---
#+END_EXPORT


#+end_example
{% endraw %}

–ö–∞–∫ –≤–∏–¥–Ω–æ, —Ç—É—Ç –ø—Ä–æ—Å—Ç–æ –æ–ø–∏—Å–∞–Ω jekyll-–æ–≤—Å–∫–∏–π front matter –∏ –Ω–∏—á–µ–≥–æ –±–æ–ª—å—à–µ.

** –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ Jekyll
:PROPERTIES:
:CUSTOM_ID: jekyll-local-server
:END:

–°–±–æ—Ä–∫–∞ –±–ª–æ–≥–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ Emacs Lisp –≥–æ—Ç–æ–≤—ã. –ò–∑ —á–∞—Å—Ç–æ
–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π —É –º–µ–Ω—è –æ—Å—Ç–∞–ª—Å—è –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ—á–∏—Å—Ç–∫–∞
—Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll –æ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

–° –∑–∞–ø—É—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–∞ –≤—Å—ë –ø—Ä–æ—Å—Ç–æ¬†‚Äî –Ω–∞–¥–æ –ª–∏—à—å –≤—ã–∑–≤–∞—Ç—å =make-process= —Å –Ω—É–∂–Ω—ã–º–∏
–∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏:

#+begin_src emacs-lisp
(make-process
 :name "jekyll-serve"
 :buffer "jekyll-serve"
 :command '("bundle" "exec" "jekyll" "serve")
 :delete-exited-processes t
 :filter (lambda (process text)
           (if (string-match ".*done in [0-9.]+ seconds.*" text)
               (message "%s" (propertize "Blog serve: running" 'face '(:foreground "blue"))))
           (internal-default-process-filter process text))
 :sentinel (lambda (process state)
             (cond
              ((and (eq (process-status process) 'exit)
                    (zerop (process-exit-status process)))
               (message "%s" (propertize "Blog serve: stopped" 'face '(:foreground "blue"))))
              ((eq (process-status process) 'run)
               (accept-process-output process))
              (t (error (concat "Jekyll Serve: " state))))))
#+end_src

–Ø —Ö–æ—Ç–µ–ª, —á—Ç–æ–±—ã –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–ª–∞ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π
—Å–µ—Ä–≤–µ—Ä¬†‚Äî –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞. –õ–æ–≥–∏–∫–∞ –¥–ª—è —ç—Ç–æ–≥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è:
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å =jekyll-serve= —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ —É–±–∏–≤–∞–µ–º –µ–≥–æ.
- –ï—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ—Ç¬†‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä.

#+begin_src emacs-lisp
(defun org-jekyll--suffix-serve-toggle ()
  "Serve blog or stop serving the blog."
  (interactive)
  (let ((current-path (file-name-directory buffer-file-name)))
    (if (eq (process-status "jekyll-serve") ' run)
        (interrupt-process "jekyll-serve")
      (cd (expand-file-name org-jekyll-paths-base-path))
      (make-process ...)
      (cd current-path))))
#+end_src

** –û—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll
:PROPERTIES:
:CUSTOM_ID: jekyll-clean
:END:

–û—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —É–∂–µ –Ω–µ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–∞. –ï—Å–ª–∏ —Å –≤—ã–∑–æ–≤–æ–º –∫–æ–º–∞–Ω–¥—ã =bundle
exec jekyll clean= –≤—Å—ë –ø—Ä–æ—Å—Ç–æ¬†‚Äî –Ω—É–∂–µ–Ω –µ—â—ë –æ–¥–∏–Ω –≤—ã–∑–æ–≤ =make-process=:

#+begin_src emacs-lisp
(make-process
 :name "jekyll-clean"
 :buffer "jekyll-clean"
 :command '("bundle" "exec" "jekyll" "clean")
 :delete-exited-processes t
 :sentinel (lambda (process state)
             (cond
              ((and (eq (process-status process) 'exit)
                    (zerop (process-exit-status process)))
               (message "%s" (propertize "Blog cleaned" 'face '(:foreground "blue"))))
              ((eq (process-status process) 'run)
               (accept-process-output process))
              (t (error (concat "Jekyll Clean: " state))))))
#+end_src


–¢–æ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ä–∞–±–æ—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏–∑ Org Mode –≤—Å—ë —Å–ª–æ–∂–Ω–µ–µ¬†‚Äî Jekyll –æ –Ω–∏—Ö –Ω–µ
–∑–Ω–∞–µ—Ç –∏ —ç—Ç–∏ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞–Ω—É—Ç—Å—è –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º
=jekyll clean= –Ω–∞–¥–æ –±—ã –ø–æ—á–∏—Å—Ç–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏ =_articles/=, =_static/= –∏ =_post/= –æ—Ç —Ç–æ–≥–æ,
—á—Ç–æ —Ç—É–¥–∞ –¥–æ–±–∞–≤–∏–ª–∞ =org-publish-project=. –≠—Ç–æ —è —Å–¥–µ–ª–∞–ª —á–µ—Ä–µ–∑ —Å–ª–µ–¥—É—é—â–∏–π
S-expression:

#+begin_src emacs-lisp
(mapc (lambda (x)
        (mapc (lambda (file)
                (delete-file file nil))
              (mapcan (lambda (directory)
                        (directory-files-recursively (concat org-jekyll-paths-base-path directory) (cdr x) nil nil nil))
                        (car x))))
      `((("/_posts/en" "/_posts/ru") . "\\.html$")
        (("/assets/static" "/_static") . ,(concat "\\.png\\|\\.jpg$\\|\\.jpeg$"
                                                  "\\|"
                                                  "\\.JPG$\\|\\.svg$\\|\\.webm$"
                                                  "\\|"
                                                  "\\.webp$\\|\\.html$\\|\\.tar.bz2$"
                                                  "\\|"
                                                  "\\.org$\\|\\.gif$\\|\\.gpx$"
                                                  "\\|"
                                                  "\\.uxf$"))
        (("/_articles") . "\\.org$")))
#+end_src

–ù–∞ –ø–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –∫–æ–¥ –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω—ë–Ω–Ω—ã–º, –Ω–æ –≤—Å—ë —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç¬†‚Äî
–ø—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ –∑–∞–¥–∞–Ω–Ω—ã–º –∫–∞—Ç–∞–ª–æ–≥–∞–º –∏ —É–¥–∞–ª—è–µ—Ç –∏–∑ –Ω–∏—Ö —Ñ–∞–π–ª—ã, –ø–æ–¥–ø–∞–¥–∞—é—â–∏–µ –ø–æ–¥
–∑–∞–¥–∞–Ω–Ω–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ.

–ü–µ—Ä–≤–∞—è –ª—è–º–±–¥–∞ =(lambda (x) ...)= –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ
—Å–ø–∏—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç: =(("/_posts/en" "/_posts/ru") . "\\.html$")=)
–≤ —Å–ª–µ–¥—É—é—â–∏–π S-expression:

#+begin_src emacs-lisp
(mapc (lambda (file)
        (delete-file file nil))
      (mapcan (lambda (directory)
                (directory-files-recursively (concat org-jekyll-paths-base-path directory) (cdr x) nil nil nil))
              (car x)))
#+end_src

–¢—É—Ç —É–∂–µ –≤—Å—ë –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ. –í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä =mapc= –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è =x= —Å
–ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º —Å–ø–∏—Å–∫–∞ –≤–Ω—É—Ç—Ä–∏, –∞ –µ—â—ë –æ–¥–Ω–æ S-expression. –û–Ω–æ –±—É–¥–µ—Ç —Å–Ω–∞—á–∞–ª–∞
–≤—ã—á–∏—Å–ª–µ–Ω–æ –∏ –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–µ—â—ë –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫¬†‚Äî —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤), –±—É–¥–µ—Ç –ø–æ—ç–ª–µ–º–µ–Ω—Ç–Ω–æ
–æ–±—Ä–∞–±–æ—Ç–∞–Ω –ø–æ—Å–ª–µ–¥–Ω–µ–π –ª—è–º–±–¥–æ–π, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç —Ñ–∞–π–ª:

#+begin_src emacs-lisp
(lambda (file)
  (delete-file file nil))
#+end_src

S-expression —Å =mapcan=[fn:mapcan] –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:
1. –ë–µ—Ä—ë—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ —Å –ø—É—Ç—è–º–∏/—Ä–µ–≥—É–ª—è—Ä–∫–∞–º–∏ —á–µ—Ä–µ–∑ =(car x)=¬†‚Äî —ç—Ç–æ –±—É–¥–µ—Ç
   –µ—â—ë –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫ —Å –ø—É—Ç—è–º–∏ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º, –Ω–∞–ø—Ä–∏–º–µ—Ä: =("/_posts/en"
   "/_posts/ru")=.
2. –í –ª—è–º–±–¥–µ —Å =directory-files-recursively= –ø—Ä–æ–±–µ–≥–∞–µ—Ç—Å—è –ø–æ —ç—Ç–æ–º—É —Å–ø–∏—Å–∫—É –∏
   –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ø–∞–¥–∞—é—Ç –ø–æ–¥ –∑–∞–¥–∞–Ω–Ω–æ–µ
   —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –†–µ–≥—É–ª—è—Ä–∫–∞¬†‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ =x= –∏ –µ–≥–æ –º–æ–∂–Ω–æ
   –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ =(cdr x)=.
3. –í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ =(("/_posts/en/article1/file.org"
   "/_posts/en/article2/file.org") ("/_posts/ru/article1/file.org"
   "/_posts/ru/article2/file.org"))=. –ï—Å–ª–∏ –±—ã —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª =mapc=, —Ç–æ –Ω–∞ –≤—Ö–æ–¥
   –ª—è–º–±–¥–∞-—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ–ø–∞–ª –±—ã —Å–ø–∏—Å–æ–∫ –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∏ —Å –ø—É—Ç—ë–º –∫
   —Ñ–∞–π–ª—É –∏ =delete-file= —Å–ª–æ–º–∞–ª—Å—è –±—ã.

   –î–ª—è –ø—Ä–∏–º–µ—Ä–∞, –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–æ–¥–µ –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π =file=,
   –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ª—è–º–±–¥—É, –µ—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è =mapc=:
   #+begin_src emacs-lisp
   (mapc (lambda (file)
           (print file))
         (mapc (lambda (directory)
                 directory)
               '(("a" "b") ("c" "d"))))

   ("a" "b")
   ("c" "d")
   #+end_src
4. –ù–∞–¥–æ ¬´—Å–ø–ª—é—â–∏—Ç—å¬ª —Å–ø–∏—Å–æ–∫ –∏ —ç—Ç–∏–º –∫–∞–∫ —Ä–∞–∑ –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è =mapcan=. –û–Ω–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç
   —Å–ø–∏—Å–æ–∫ –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—É–Ω–∫—Ç–∞ –≤: =("/_posts/en/article1/file.org"
   "/_posts/en/article2/file.org" "/_posts/ru/article1/file.org"
   "/_posts/ru/article2/file.org")= ‚Äî –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ
   –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –≤—ã—à–µ–ª–µ–∂–∞—â–∏–π =mapc=.

   –í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, —á—Ç–æ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –≤—Ö–æ–¥–µ –ª—è–º–±–¥—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏
   –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ =mapcan= ‚Äî —É–∂–µ –Ω–µ —Å–ø–∏—Å–æ–∫, –∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç—ã:
   #+begin_src emacs-lisp
   (mapc (lambda (file)
           (print file))
         (mapcan (lambda (directory)
                   directory)
                 '(("a" "b") ("c" "d"))))

   "a"
   "b"
   "c"
   "d"
   #+end_src

–ò—Ç–æ–≥–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Jekyll –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º
–æ–±—Ä–∞–∑–æ–º:

#+begin_src emacs-lisp
(defun org-jekyll--suffix-clear ()
  "Clear blog files."
  (interactive)
  (let ((current-path (file-name-directory buffer-file-name)))
    (cd (expand-file-name org-jekyll-paths-base-path))
    (mapc (lambda (x)
            (mapc (lambda (file)
                    (delete-file file nil))
                  (mapcan (lambda (directory)
                            (directory-files-recursively (concat org-jekyll-paths-base-path directory) (cdr x) nil nil nil))
                          (car x))))
          `((("/_posts/en" "/_posts/ru") . "\\.html$")
            (("/assets/static" "/_static") . ,(concat "\\.png$\\|\\.jpg$\\|\\.jpeg$"
                                                      "\\|"
                                                      "\\.JPG$\\|\\.svg$\\|\\.webm$"
                                                      "\\|"
                                                      "\\.webp$\\|\\.html$\\|\\.tar.bz2$"
                                                      "\\|"
                                                      "\\.org$\\|\\.gif$\\|\\.gpx$"
                                                      "\\|"
                                                      "\\.svg$"))
            (("/_articles") . "\\.org$\\|\\.png$")))
    (make-process
     :name "jekyll-clean"
     :buffer "jekyll-clean"
     :command '("bundle" "exec" "jekyll" "clean")
     :delete-exited-processes t
     :sentinel (lambda (process state)
                 (cond
                  ((and (eq (process-status process) 'exit)
                        (zerop (process-exit-status process)))
                   (message "%s" (propertize "Blog cleaned" 'face '(:foreground "blue"))))
                  ((eq (process-status process) 'run)
                   (accept-process-output process))
                  (t (error (concat "Jekyll Clean: " state))))))))
#+end_src

** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (transient)
:PROPERTIES:
:CUSTOM_ID: transient-ui
:END:

–ö–æ –≤—Å–µ–π —ç—Ç–æ–π –∫—Ä–∞—Å–æ—Ç–µ –Ω–µ–ø–ª–æ—Ö–æ –±—ã–ª–æ –±—ã –¥–æ–±–∞–≤–∏—Ç—å /—É–¥–æ–±–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Emacs/
–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á—Ç–æ–±—ã –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —á–µ—Ä–µ–∑ =M-x=.

–ó–¥–µ—Å—å —è –æ—Å–æ–±–æ –Ω–µ –º—É–¥—Ä—Å—Ç–≤–æ–≤–∞–ª –∏ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –±–∏–±–ª–∏–æ—Ç–µ–∫—É [[https://jd.codes/posts/transient-emacs/][Transient]], –∫–∞–∫ –∏
[[https://mastodon.social/@fabrik42][Christian Dewein]]. –í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∏–ª–∞—Å—å –≤–æ—Ç —Ç–∞–∫–∞—è —à—Ç—É–∫–∞:

#+CAPTION: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞–Ω–µ–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–ª–æ–≥–æ–º
#+ATTR_HTML: :align center :alt Panel with blog actions
[[file:transient_panel.png]]

–†—è–¥ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ (—Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö
–ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é) —è —É–∂–µ –æ–ø–∏—Å–∞–ª –≤—ã—à–µ. –ü—Ä–µ—Ñ–∏–∫—Å (–∫–æ–¥, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –ø–∞–Ω–µ–ª—å) –≤—ã–≥–ª—è–¥–∏—Ç
—Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

#+begin_src emacs-lisp
;; Transient keys description:

(transient-define-prefix org-jekyll-layout-descriptions ()
  "Transient layout with blog commands."
  [:description (lambda () (concat org-jekyll-url " control panel" "\n"))
                ["Development"
                 ("b" "Build blog" org-jekyll--suffix-build)
                 ("s" org-jekyll--suffix-serve-toggle
                  :description (lambda () (if (eq (process-status "jekyll-serve") 'run)
                                              "Stop serving local blog"
                                            "Serve local blog")))
                 ("o" "Open served blog" org-jekyll--suffix-open-blog)
                 ("O" "Open blog in Web" org-jekyll--suffix-open-remote-blog)
                 ("B" "Open build log" org-jekyll--suffix-open-build-log)
                 ("l" "Open serve log" org-jekyll--suffix-open-serve-log)
                 ("C" "Clear blog directory" org-jekyll--suffix-clear)]
                ["Actions"
                 ("n" "New blog post" org-jekyll--suffix-create-post)]])

;; Function to call main menu:

(defun org-jekyll-menu ()
  "Open blog control center."
  (interactive)
  (org-jekyll-layout-descriptions))
#+end_src

–§—É–Ω–∫—Ü–∏–∏-—Å—É—Ñ—Ñ–∏–∫—Å—ã —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:

#+begin_src emacs-lisp
(defun org-jekyll--suffix-open-blog ()
  "Open locally served blog."
  (interactive)
  (browse-url "http://127.0.0.1:8000/"))

(defun org-jekyll--suffix-open-remote-blog ()
  "Open remote blog."
  (interactive)
  (browse-url org-jekyll-url))

(defun org-jekyll--suffix-create-post ()
  "Create new blog post."
  (interactive)
  (cd (expand-file-name org-jekyll-paths-base-path))
  (org-jekyll--create-new-post))
#+end_src

–í –æ–ø–∏—Å–∞–Ω–∏–∏ –ø—É–Ω–∫—Ç–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ —è —Å–¥–µ–ª–∞–ª —Ç–∞–∫, —á—Ç–æ–±—ã
–æ–Ω —Å—Ä–∞–∑—É –∂–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª –∑–∞–ø—É—â–µ–Ω –ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –Ω–µ—Ç¬†‚Äî —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É
–Ω–∞–ª–∏—á–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ ="jekyll-serve"= –≤ —Å–∏—Å—Ç–µ–º–µ.

–û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —ç—Ç—É –ø–∞–Ω–µ–ª—å–∫—É –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞–≤ —Ñ—É–Ω–∫—Ü–∏—é =org-jekyll-menu=. –ó–∞–±–µ–≥–∞—è –Ω–µ–º–Ω–æ–≥–æ
–≤–ø–µ—Ä—ë–¥¬†‚Äî —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ö–æ—Ç–∫–µ–µ–º –≤ –º–æ—ë–º –ø–ª–∞–≥–∏–Ω–µ.

** –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –ø–ª–∞–≥–∏–Ω–∞
:PROPERTIES:
:CUSTOM_ID: emacs-plugin
:END:

–û—Å—Ç–∞–ª–æ—Å—å –æ—Ñ–æ—Ä–º–∏—Ç—å –≤—Å—ë –∫–∞–∫ Emacs-–ø–ª–∞–≥–∏–Ω¬†‚Äî –Ω–µ –±—É–¥—É –∂–µ —è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –¥–µ–ª–∞—Ç—å
=eval-buffer=? –ü—É—Å—Ç—å Emacs —Å–∞–º –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç –≤–µ—Å—å –Ω—É–∂–Ω—ã–π –∫–æ–¥ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

–î–ª—è –Ω–∞—á–∞–ª–∞ —è –ø—Ä–æ–≥–Ω–∞–ª –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —á–µ—Ä–µ–∑ =M-x checkdoc= –∏ –¥–æ–±–∞–≤–∏–ª –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ
–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –ü–æ—Ç–æ–º –¥–æ–±–∞–≤–∏–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫:

#+begin_src emacs-lisp
(require 'htmlize)
(require 'ox-publish)
(require 'transient)
#+end_src

–ó–¥–µ—Å—å: =htmlize= –Ω—É–∂–µ–Ω Org Mode –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∫–æ–¥–∞ –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º HTML,
=ox-publish= ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ñ–∞–π–ª–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ Org
Mode. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ =transient= —è —É–∂–µ –æ–ø–∏—Å–∞–ª –≤—ã—à–µ.

–ï—â—ë —è –¥–æ–±–∞–≤–∏–ª =provide= –≤ –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞:

#+begin_src emacs-lisp
(provide 'org-jekyll)
#+end_src

–ù—É –∏ –æ–ø–∏—Å–∞–ª minor mode, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–Ω–æ–µ –≤—ã—à–µ transient-–º–µ–Ω—é
–ø–æ —Ö–æ—Ç–∫–µ—é =C-c b=:

#+begin_src emacs-lisp
;; Minor mode:

;;;###autoload
(define-minor-mode org-jekyll-mode
  "Enable transient menu to operate with blog-related OrgMode files."
  :lighter " oj"
  :global nil
  :init-value nil
  :keymap (list (cons (kbd "C-c b") #'org-jekyll-menu)))
#+end_src

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ —ç—Ç–æ—Ç —Ä–µ–∂–∏–º –≤–∫–ª—é—á—ë–Ω —á–µ—Ä–µ–∑ =M-x org-jekyll-mode=, —Ç–æ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞
=C-c b b= —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–ª–æ–≥, –ø–æ –Ω–∞–∂–∞—Ç–∏—é =C-c b n= —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è —Å—Ç–∞—Ç—å—è –∏ —Ç–∞–∫
–¥–∞–ª–µ–µ. –ï—Å–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∞—Ç—å =C-c b=, —Ç–æ –ø–æ–∫–∞–∂–µ—Ç—Å—è transient-–º–µ–Ω—é —Å–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
–≤—ã—à–µ.

** –ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –≤ Emacs
:PROPERTIES:
:CUSTOM_ID: loading-plugin-in-emacs
:END:

–û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —ç—Ç–æ—Ç –ø–ª–∞–≥–∏–Ω –≤ Emacs, —á—Ç–æ–±—ã –Ω–æ–≤—ã–π minor
mode —Å–∞–º –≤–∫–ª—é—á–∞–ª—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ —Å –ø–æ—Å—Ç–æ–º –¥–ª—è –±–ª–æ–≥–∞ –∏ –Ω–µ –≤–∫–ª—é—á–∞–ª—Å—è
–ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö org-—Ñ–∞–π–ª–æ–≤.

–î–ª—è —ç—Ç–æ–≥–æ —è –¥–æ–±–∞–≤–∏–ª –µ—â—ë –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ –º—ã –æ—Ç–∫—Ä—ã–ª–∏ —Ñ–∞–π–ª —Å–æ
—Å—Ç–∞—Ç—å–µ–π –≤ –±—É—Ñ–µ—Ä–µ –∏ –≤–∫–ª—é—á–∞–µ—Ç –º–æ–π minor mode:

#+begin_src emacs-lisp
;;;###autoload
(defun org-jekyll-init ()
  (if (and buffer-file-name
           (string-match "^/.+/article-[[:lower:]]\\{2\\}\\.org" (buffer-file-name)))
      (org-jekyll-mode 1)))
#+end_src

–ù—É –∞ —Å–∞–º –ø–ª–∞–≥–∏–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Emacs —á–µ—Ä–µ–∑ =use-package= —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

#+begin_src emacs-lisp
(use-package org-jekyll
  :load-path "~/rsync/blog/"
  :ensure nil
  :commands org-jekyll-init
  :hook (org-mode . org-jekyll-init))
#+end_src

–¢–µ–ø–µ—Ä—å, –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è org-—Ñ–∞–π–ª, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è
=org-jekyll-init=. –ò –µ—Å–ª–∏ –º—ã –æ—Ç–∫—Ä—ã–ª–∏ —Ñ–∞–π–ª —Å —Ç–µ–∫—Å—Ç–æ–º –¥–ª—è –±–ª–æ–≥–∞, —Ç–æ –≤–∫–ª—é—á–∞–µ—Ç—Å—è
=org-jekyll-mode= –∏ –º–æ–π —Ö–æ—Ç–∫–µ–π –≤–º–µ—Å—Ç–µ —Å transient-–º–µ–Ω—é —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã.

* –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞
:PROPERTIES:
:CUSTOM_ID: source-code
:END:

–Ø –Ω–µ –∑–∞–¥—É–º—ã–≤–∞–ª —ç—Ç–æ—Ç –ø–ª–∞–≥–∏–Ω –ø—Ä–∏–≥–æ–¥–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏–º–∏ –ª—é–¥—å–º–∏¬†‚Äî –≤
–∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ –≤ –Ω—ë–º –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞ –º–æ—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ —Å–æ —Å—Ç–∞—Ç—å—è–º–∏ –∏ –º–æ–∏
–º–µ—Ç–æ–¥—ã –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤. –ü–æ—ç—Ç–æ–º—É —è –Ω–µ –ø—É–±–ª–∏–∫–æ–≤–∞–ª –µ–≥–æ –≤ MELPA –∏ –Ω–µ –∑–∞–≤–æ–¥–∏–ª –¥–ª—è
–Ω–µ–≥–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ª–µ–∂–∏—Ç –≤ —Ç–æ–º –∂–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –≥–¥–µ –∏ —Ñ–∞–π–ª—ã –¥–ª—è –º–æ–µ–≥–æ
–±–ª–æ–≥–∞. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–µ–≥–æ –º–æ–∂–Ω–æ [[https://github.com/eugeneandrienko/eugeneandrienko.github.io/blob/master/org-jekyll.el][–ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ]].

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ, –µ—Å–ª–∏ –º–Ω–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤¬†‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–ø—Ä–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤
—ç–∫—Å–ø–æ—Ä—Ç–µ –∏–∑ OrgMode, —á—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTML –ø–æ–¥—Ö–æ–¥–∏–ª –∫ –Ω–æ–≤–æ–º—É –¥–≤–∏–∂–∫—É. –ú–æ–∏
–∏—Å—Ö–æ–¥–Ω–∏–∫–∏ —Å—Ç–∞—Ç–µ–π –∏ –≤—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –¥–ª—è –Ω–∏—Ö¬†‚Äî –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π.

* –ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å?
:PROPERTIES:
:CUSTOM_ID: plugin-improvement
:END:

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø–ª–∞–≥–∏–Ω–∞ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ —Å—Ç–æ–∏—Ç
—É–ª—É—á—à–∏—Ç—å:
1. –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ =org-publish-project= –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º, —á—Ç–æ–±—ã –æ–Ω –Ω–µ
   –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª Emacs –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ, –∫–∞–∫ —Å–µ–π—á–∞—Å. –ü—Ä–∏ —ç—Ç–æ–º, =org-publish-project= –∏
   –ø–æ—Å–ª–µ–¥—É—é—â–∏–π –≤—ã–∑–æ–≤ =make-process= –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç—Ä–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ,
   –∏–Ω–∞—á–µ Jekyll –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–±—Ä–∞—Ç—å –±–ª–æ–≥ –∫–æ–≥–¥–∞ —Ñ–∞–π–ª—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –µ—â—ë –Ω–µ
   –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã.
2. =org-publish-project= —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–ª–æ–∫–∞–º–∏ Org Babel, –∫–æ—Ç–æ—Ä—ã–µ —è —Ö–æ—á—É
   –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –≤—Å—è–∫–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö —Å—Ö–µ–º –≤ –≤–∏–¥–µ –∫–æ–¥–∞ –¥–ª—è [[https://github.com/plantuml/plantuml][PlantUML]]
   –ø—Ä—è–º–æ –≤ —Ç–µ–∫—Å—Ç–µ –ø–æ—Å—Ç–∞. –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ =org-publish-project= –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
   =_articles/= –±—É–¥—É—Ç –ª–µ–∂–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ —Å—Ö–µ–º–∞–º–∏, —Å–¥–µ–ª–∞–Ω–Ω—ã–º–∏ –Ω–∞
   –æ—Å–Ω–æ–≤–µ PlantUML –æ–ø–∏—Å–∞–Ω–∏–π (—Å–º. –±–ª–æ–≥–ø–æ—Å—Ç [[https://hostsharing.coop/@dzu][@dsu]] —Å –¥–µ—Ç–∞–ª—è–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
   https://blog.lazy-evaluation.net/posts/orgmode-diagrams.html).

   –ù–∞–¥–æ –ª–∏—à—å, —á—Ç–æ–±—ã —Ñ—É–Ω–∫—Ü–∏—è ~org-jekyll--prepare-static~ —É–º–µ–ª–∞ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã
   —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏–∑ –Ω–æ–≤–æ–≥–æ –º–µ—Å—Ç–∞. –ê —Ñ—É–Ω–∫—Ü–∏—è ~org-jekyll--suffix-clear~ —É–º–µ–ª–∞
   —É–¥–∞–ª—è—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã.

   /–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ¬†‚Äî —Å–º. –∫–æ–º–º–∏—Ç [[https://github.com/eugeneandrienko/eugeneandrienko.github.io/commit/e919bd6d2b7f3a0b853fdf71f288f5c9f1749575][e919bd6d2b7f3a0b853fdf71f288f5c9f1749575]]./
   

* –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
:PROPERTIES:
:CUSTOM_ID: notes
:END:

[fn:virtue_signaling] –°–Ω–∞—á–∞–ª–∞, –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –º–∞—Ä—Ç–∞ 2022 –≥–æ–¥–∞, Visa –∏ Master Card
–æ—Ç—Ä–µ–∑–∞–ª–∏ –º–µ–Ω—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –æ—Ç –≤—Å–µ–≥–æ, —á—Ç–æ –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –∑–∞ –¥–µ–Ω—å–≥–∏ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏
—Å—Ç—Ä–∞–Ω—ã. –ò–∑-–∑–∞ —á–µ–≥–æ —è –Ω–µ —Å–º–æ–≥ –Ω–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –¥–æ–º–µ–Ω –∫ –¥—Ä—É–≥–æ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É,
–Ω–∏ –æ–ø–ª–∞—Ç–∏—Ç—å —Å–≤–æ–π VPS –≤ –§–∏–Ω–ª—è–Ω–¥–∏–∏.

[fn:namecheap] –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∏ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ ¬´–ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è¬ª –∏—Å—Ç–æ—Ä–∏—è. 28 —Ñ–µ–≤—Ä–∞–ª—è
2022 –≥–æ–¥–∞ NameCheap –ø—Ä–∏—Å–ª–∞–ª –º–Ω–µ –ø–∏—Å—å–º–æ-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –æ–Ω–∏
—Ä–∞–∑–¥–µ–ª–µ–≥–∏—Ä—É—é—Ç –º–æ–π –¥–æ–º–µ–Ω —á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π –ø–æ—Ç–æ–º—É —á—Ç–æ —è –∏–∑ ¬´–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π¬ª —Å—Ç—Ä–∞–Ω—ã
(—ç—Ç–æ –±—ã–ª–æ –∑–∞–¥–æ–ª–≥–æ –¥–æ –∑–∞–ø—Ä–µ—Ç–∞ –æ–∫–∞–∑—ã–≤–∞—Ç—å IT-—É—Å–ª—É–≥–∏ –∫–æ–º–ø–∞–Ω–∏—è–º –∏–∑ —Å–∞–Ω–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ
—Å–ø–∏—Å–∫–∞, –∫ –∫–æ—Ç–æ—Ä—ã–º —è –∏ —Ç–∞–∫ –Ω–∏–∫–æ–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–µ –æ—Ç–Ω–æ—à—É—Å—å¬†‚Äî —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —Ä–∞—Å—Å—ã–ª–∫–∞
¬´–ø–∏—Å–µ–º —Å—á–∞—Å—Ç—å—è¬ª —à–ª–∞ –ø–æ –∞–¥—Ä–µ—Å—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–±–∏–ª–ª–∏–Ω–≥–∞ —Ä–∞–¥–∏ –≤—ã—à–µ—É–ø–æ–º—è–Ω—É—Ç–æ–≥–æ virtue
signaling):

#+ATTR_HTML: :align center :alt Namecheap services discontinuation
[[file:namecheap1.png]]

–í —Å–ª–µ–¥—É—é—â–∏—Ö –¥–≤—É—Ö –ø–∏—Å—å–º–∞—Ö –æ–Ω–∏ –ø—Ä–æ–¥–ª–∏–ª–∏ —Å—Ä–æ–∫ –Ω–∞ –¥–≤–µ –Ω–µ–¥–µ–ª–∏. –ò –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∏ –º–Ω–µ –¥–æ
–¥–µ–¥–ª–∞–π–Ω–∞ –ª–∏–±–æ —É–µ—Ö–∞—Ç—å –∏–∑ —Å—Ç—Ä–∞–Ω—ã, –ª–∏–±–æ +–∑–∞–Ω—è—Ç—å—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é+ —Å–µ—Å—Ç—å –≤
—Ç—é—Ä—å–º—É –Ω–∞ –¥–µ—Å—è—Ç–æ–∫ –ª–µ—Ç, –µ—Å–ª–∏ —è —Ö–æ—á—É –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏—Ö
—É—Å–ª—É–≥–∞–º–∏ü§°. –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—é, —á—Ç–æ —ç—Ç–∏ –ø–∏—Å—å–º–∞ —Å–æ—Å—Ç–∞–≤–ª—è–ª –∫–∞–∫–æ–π-—Ç–æ –Ω–µ –æ—Å–æ–±–æ —É–º–Ω—ã–π
—á–µ–ª–æ–≤–µ–∫ –∏–∑ —Å—Ç—Ä–∞–Ω—ã ¬´–ø–µ—Ä–≤–æ–≥–æ –º–∏—Ä–∞¬ª, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –µ–≥–æ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å
—Ä–µ–ø—Ä–µ—Å—Å–∏–≤–Ω—ã–º –∞–ø–ø–∞—Ä–∞—Ç–æ–º –∑–∞–∫–ª—é—á–∞–ª–æ—Å—å –≤ —Ç–æ–º, —á—Ç–æ –µ–º—É –Ω–µ –ø—Ä–æ–¥–∞–ª–∏ –∞–ª–∫–æ–≥–æ–ª—å –±–µ–∑ ID
–Ω–∞ –∫–∞—Å—Å–µ Wallmart'–∞; –∞ –ø—Ä–æ –∂–∏–∑–Ω—å –≤–Ω–µ —Å–≤–æ–∏—Ö –æ—Ç–ª–∞–∂–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç–∏—Ç—É—Ç–æ–≤ –æ–Ω –∑–Ω–∞–µ—Ç –∏–∑
—Å–µ—Ä–∏–∏ —Ñ–∏–ª—å–º–æ–≤ ¬´–ì–æ–ª–æ–¥–Ω—ã–µ –∏–≥—Ä—ã¬ª. –ò –∫–æ—Ç–æ—Ä—ã–π —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —ç–º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ¬†‚Äî
–∑–∞–ø–æ–ª–Ω—è–µ—à—å –∫–∞–∫–∏–µ-—Ç–æ –±—É–º–∞–∂–∫–∏ –Ω–∞ —Ç–∞–º–æ–∂–Ω–µ –ø—Ä–∏ –≤—ä–µ–∑–¥–µ –∏ –≤–∂—É—Ö¬†‚Äî —Ç—ã —É–∂–µ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω
–¥—Ä—É–≥–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞.

#+ATTR_HTML: :align center :alt Namecheap next emails about service shutdown
[[file:namecheap2.png]]

–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –¥–æ–º–µ–Ω –∫ –¥—Ä—É–≥–æ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —è —Ç–æ–≥–¥–∞ –Ω–µ —É—Å–ø–µ–ª, –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ
–º–æ–∏ –∫–∞—Ä—Ç—ã –±—ã—Å—Ç—Ä–æ –∏ –≤–Ω–µ–∑–∞–ø–Ω–æ –¥–ª—è –º–µ–Ω—è –æ–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç–∫–ª—é—á–µ–Ω—ã –æ—Ç Visa/MasterCard¬†‚Äî
–∏ —è –Ω–µ –º–æ–≥ –∑–∞–ø–ª–∞—Ç–∏—Ç—å –¥—Ä—É–≥–æ–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω –∑–∞ –ø–µ—Ä–µ–Ω–æ—Å. –ß–µ—Ä–µ–∑ *–≥–æ–¥
(!)* –æ–∫–∞–∑–∞–ª–æ—Å—å, —á—Ç–æ –º–æ–π –¥–æ–º–µ–Ω –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –≤ NameCheap¬†‚Äî –ø–æ—Å–ª–µ
—Ç–æ–≥–æ –∫–∞–∫ —è –ø–æ–ª—É—á–∏–ª –æ—Ç –Ω–∏—Ö –ø–∏—Å—å–º–æ —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –∑–∞–Ω–µ—Å—Ç–∏ –Ω–µ–º–Ω–æ–≥–æ —Å–≤–æ–∏—Ö
¬´–≥—Ä—è–∑–Ω—ã—Ö¬ª –¥–µ–Ω–µ–≥ –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞ü§°ü§°:

#+ATTR_HTML: :align center :alt Namecheap domain renewal
[[file:namecheap3.png]]

–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, —É—Å–ª—É–≥–∞–º–∏ NameCheap —è —Å —Ç–µ—Ö –ø–æ—Ä –±–æ–ª—å—à–µ –Ω–µ –ø–æ–ª—å–∑—É—é—Å—å –∏ –æ–±—Ö–æ–∂—É –µ–≥–æ
–¥–µ—Å—è—Ç–æ–π –¥–æ—Ä–æ–≥–æ–π, —Å–¥–µ–ª–∞–≤ –≤—ã–±–æ—Ä –≤ –ø–æ–ª—å–∑—É –±–æ–ª–µ–µ –≤–º–µ–Ω—è–µ–º–æ–≥–æ –¥–æ–º–µ–Ω–Ω–æ–≥–æ
—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –∫–∞–∫ –º–æ–∂–Ω–æ –¥–∞–ª—å—à–µ (–Ω–∞ –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –ø–ª–∞–Ω–µ—Ç—ã) –æ—Ç
–º–µ–Ω—è. –ú–æ—Ä–∞–ª—å –∏—Å—Ç–æ—Ä–∏–∏¬†‚Äî –Ω–µ —Å—Ç–æ–∏—Ç –¥–æ–≤–µ—Ä—è—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è–º –∏ –≤—Å—è–∫–∏–º —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º
–∏ –∑–∞–∫—Ä—ã—Ç—ã–º —Å–µ—Ä–≤–∏—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ. –û–Ω–∏ –≤—ã–±—Ä–æ—Å—è—Ç –≤–∞—Å –Ω–µ
–∑–∞–¥—É–º—ã–≤–∞—è—Å—å, –µ—Å–ª–∏ –∏–º —ç—Ç–æ –±—É–¥–µ—Ç –≤—ã–≥–æ–¥–Ω–æ. –í—Å–µ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏–º–µ—Ç—å –∑–∞–ø–∞—Å–Ω–æ–π –ø–ª–∞–Ω, –Ω–∞
—Å–ª—É—á–∞–π –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫.

[fn:jekyll] –û–Ω –≤—ã–≥–ª—è–¥–µ–ª –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç—ã–º –∏ –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è –æ–∫–∞–∑–∞–ª—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
–ø–æ–ø—É–ª—è—Ä–Ω—ã–º –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è (–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–æ —Å–∏—Ö –ø–æ—Ä) —É —Ä–∞–∑–Ω—ã—Ö —Ö–æ—Å—Ç–µ—Ä–æ–≤
–≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –±–ª–æ–≥–≥–∏–Ω–≥–∞.

[fn:javascript] –ù–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –º–Ω–µ JS, –∫ —Ç–æ–º—É –∂–µ –±–µ–∑ –Ω–µ–≥–æ –±–ª–æ–≥ –Ω–µ–≤–æ–æ–±—Ä–∞–∑–∏–º–æ
–±—ã—Å—Ç—Ä–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ—ë–º Thinkpad X220.

[fn:org-publish-project] https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html

[fn:clojure] –í–æ –≤—Ä–µ–º–µ–Ω–∞ —É—á—ë–±—ã –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ —è –Ω–µ–º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–ª—Å—è Lisp'–æ–º,
–ø–æ—á–∏—Ç—ã–≤–∞–ª ¬´Structure and Interpretation of Computer Programs¬ª –∏ –ø–∏—Å–∞–ª —Ä–∞–∑–Ω—ã–µ
–ø—Ä–æ—Å—Ç–µ–Ω—å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∫–∏ –Ω–∞ Clojure. –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–∑ –Ω–∏—Ö —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è –¥–æ
—Å–∏—Ö –ø–æ—Ä:
- https://github.com/eugeneandrienko/jamendo-client
- https://github.com/eugeneandrienko/cs-alias-clj

[fn:defcustom] https://www.gnu.org/software/emacs/manual/html_node/eintr/defcustom.html

[fn:quoting] –°–º. https://www.gnu.org/software/emacs/manual/html_node/elisp/Quoting.html
–∏ https://www.gnu.org/software/emacs/manual/html_node/elisp/Backquote.html

[fn:directory-files-recursively] https://www.gnu.org/software/emacs/manual/html_node/elisp/Contents-of-Directories.html#index-directory_002dfiles_002drecursively

[fn:seq-filter] https://www.gnu.org/software/emacs/manual/html_node/elisp/Sequence-Functions.html#index-seq_002dfilter

[fn:mapc] https://www.gnu.org/software/emacs/manual/html_node/elisp/Mapping-Functions.html#index-mapc

[fn:lang_code] –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞ –Ω—É–∂–µ–Ω –¥–ª—è –ø–ª–∞–≥–∏–Ω–∞
[[https://github.com/untra/polyglot][jekyll-polyglot]], –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π –æ—Ç JavaScript —Å–ø–æ—Å–æ–±
–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Å—Ç–∞—Ç—å—é –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.

[fn:regex-search] https://www.gnu.org/software/emacs/manual/html_node/elisp/Regexp-Search.html

[fn:let-star] https://www.gnu.org/software/emacs/manual/html_node/elisp/Local-Variables.html#index-let_002a

[fn:toc-org] –ú–æ–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–ª–∞–≥–∏–Ω–∞ toc-org, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç
–ø–æ–Ω–∏–º–∞—Ç—å —Ç–µ–≥ =:TOC_2_blog:= –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä–∞–∑–¥–µ–ª—ã, –ø—Ä–∞–≤–∏–ª—å–Ω–æ
–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –≤ HTML:

#+begin_src emacs-lisp
(use-package toc-org
  :pin melpa
  :hook (org-mode . toc-org-mode)
  :config
  (defun toc-org-hrefify-blog (str &optional hash)
    (concat "* " (toc-org-format-visible-link str))))
#+end_src

[fn:plist-get] https://www.gnu.org/software/emacs/manual/html_node/elisp/Plist-Access.html#index-plist_002dget

[fn:make-process] https://www.gnu.org/software/emacs/manual/html_node/elisp/Asynchronous-Processes.html#index-make_002dprocess

[fn:message] https://www.gnu.org/software/emacs/manual/html_node/elisp/Displaying-Messages.html#index-message

[fn:propertize] https://www.gnu.org/software/emacs/manual/html_node/elisp/Changing-Properties.html#index-propertize

[fn:mapcan] https://www.gnu.org/software/emacs/manual/html_node/elisp/Mapping-Functions.html#index-mapcan
